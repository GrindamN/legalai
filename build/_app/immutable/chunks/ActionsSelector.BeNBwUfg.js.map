{"version":3,"file":"ActionsSelector.BeNBwUfg.js","sources":["../../../../../../src/lib/components/workspace/Models/Knowledge/Selector.svelte","../../../../../../src/lib/components/workspace/Models/Knowledge.svelte","../../../../../../src/lib/components/workspace/Models/ToolsSelector.svelte","../../../../../../src/lib/components/workspace/Models/FiltersSelector.svelte","../../../../../../src/lib/components/workspace/Models/ActionsSelector.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { DropdownMenu } from 'bits-ui';\r\n\r\n\timport { documents } from '$lib/stores';\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\r\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\r\n\timport { onMount, getContext } from 'svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let onClose: Function = () => {};\r\n\r\n\texport let knowledge = [];\r\n\r\n\tlet items = [];\r\n\r\n\tonMount(() => {\r\n\t\tlet collections = [\r\n\t\t\t...($documents.length > 0\r\n\t\t\t\t? [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'All Documents',\r\n\t\t\t\t\t\t\ttype: 'collection',\r\n\t\t\t\t\t\t\ttitle: $i18n.t('All Documents'),\r\n\t\t\t\t\t\t\tcollection_names: $documents.map((doc) => doc.collection_name)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t: []),\r\n\t\t\t...$documents\r\n\t\t\t\t.reduce((a, e, i, arr) => {\r\n\t\t\t\t\treturn [...new Set([...a, ...(e?.content?.tags ?? []).map((tag) => tag.name)])];\r\n\t\t\t\t}, [])\r\n\t\t\t\t.map((tag) => ({\r\n\t\t\t\t\tname: tag,\r\n\t\t\t\t\ttype: 'collection',\r\n\t\t\t\t\tcollection_names: $documents\r\n\t\t\t\t\t\t.filter((doc) => (doc?.content?.tags ?? []).map((tag) => tag.name).includes(tag))\r\n\t\t\t\t\t\t.map((doc) => doc.collection_name)\r\n\t\t\t\t}))\r\n\t\t];\r\n\r\n\t\titems = [...collections, ...$documents];\r\n\t});\r\n</script>\r\n\r\n<Dropdown\r\n\ton:change={(e) => {\r\n\t\tif (e.detail === false) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t}}\r\n>\r\n\t<slot />\r\n\r\n\t<div slot=\"content\">\r\n\t\t<DropdownMenu.Content\r\n\t\t\tclass=\"w-full max-w-[300px]  rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\r\n\t\t\tsideOffset={8}\r\n\t\t\tside=\"bottom\"\r\n\t\t\talign=\"start\"\r\n\t\t\ttransition={flyAndScale}\r\n\t\t>\r\n\t\t\t<div class=\"max-h-[10rem] overflow-y-scroll\">\r\n\t\t\t\t{#if items.length === 0}\r\n\t\t\t\t\t<div class=\"text-center text-sm text-gray-500 dark:text-gray-400\">\r\n\t\t\t\t\t\t{$i18n.t('No documents found')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t{#each items as item}\r\n\t\t\t\t\t\t<DropdownMenu.Item\r\n\t\t\t\t\t\t\tclass=\"flex gap-2.5 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tif (!knowledge.find((k) => k.name === item.name)) {\r\n\t\t\t\t\t\t\t\t\tknowledge = [\r\n\t\t\t\t\t\t\t\t\t\t...knowledge,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: item?.type ?? 'doc'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"flex self-start\">\r\n\t\t\t\t\t\t\t\t{#if (item?.type ?? 'doc') === 'doc'}\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t{:else if item.type === 'collection'}\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-fit text-xs font-bold px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item?.type ?? 'Document'}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1 font-medium pr-0.5\">\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</DropdownMenu.Item>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</DropdownMenu.Content>\r\n\t</div>\r\n</Dropdown>\r\n","<script lang=\"ts\">\r\n\timport { getContext } from 'svelte';\r\n\timport Selector from './Knowledge/Selector.svelte';\r\n\r\n\texport let knowledge = [];\r\n\r\n\tconst i18n = getContext('i18n');\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Knowledge')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To add documents here, upload them to the \"Documents\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if knowledge.length > 0}\r\n\t\t\t<div class=\" flex items-center gap-2 mt-2\">\r\n\t\t\t\t{#each knowledge as file, fileIdx}\r\n\t\t\t\t\t<div class=\" relative group\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"h-16 w-[15rem] flex items-center space-x-3 px-2.5 dark:bg-gray-600 rounded-xl border border-gray-200 dark:border-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"p-2.5 bg-red-400 text-white rounded-lg\">\r\n\t\t\t\t\t\t\t\t{#if (file?.type ?? 'doc') === 'doc'}\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"size-6\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t{:else if file.type === 'collection'}\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"size-6\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col justify-center -space-y-0.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" dark:text-gray-100 text-sm font-medium line-clamp-1\">\r\n\t\t\t\t\t\t\t\t\t{file?.title ?? `#${file.name}`}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\" text-gray-500 text-sm\">{$i18n.t(file?.type ?? 'Document')}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" absolute -top-1 -right-1\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\" bg-gray-400 text-white border border-white rounded-full group-hover:visible invisible transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tknowledge.splice(fileIdx, 1);\r\n\t\t\t\t\t\t\t\t\tknowledge = knowledge;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\r\n\t\t<div class=\"flex flex-wrap text-sm font-medium gap-1.5 mt-2\">\r\n\t\t\t<Selector bind:knowledge>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl\"\r\n\t\t\t\t\ttype=\"button\">{$i18n.t('Select Documents')}</button\r\n\t\t\t\t>\r\n\t\t\t</Selector>\r\n\t\t</div>\r\n\t\t<!-- {knowledge} -->\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport { getContext, onMount } from 'svelte';\r\n\r\n\texport let tools = [];\r\n\r\n\tlet _tools = {};\r\n\r\n\texport let selectedToolIds = [];\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tonMount(() => {\r\n\t\t_tools = tools.reduce((acc, tool) => {\r\n\t\t\tacc[tool.id] = {\r\n\t\t\t\t...tool,\r\n\t\t\t\tselected: selectedToolIds.includes(tool.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Tools')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select toolkits here, add them to the \"Tools\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if tools.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_tools) as tool, toolIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_tools[tool].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_tools[tool].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedToolIds = Object.keys(_tools).filter((t) => _tools[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t{_tools[tool].name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { getContext, onMount } from 'svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let filters = [];\r\n\texport let selectedFilterIds = [];\r\n\r\n\tlet _filters = {};\r\n\r\n\tonMount(() => {\r\n\t\t_filters = filters.reduce((acc, filter) => {\r\n\t\t\tacc[filter.id] = {\r\n\t\t\t\t...filter,\r\n\t\t\t\tselected: selectedFilterIds.includes(filter.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Filters')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select filters here, add them to the \"Functions\" workspace first.')}\r\n\t</div>\r\n\r\n\t<!-- TODO: Filer order matters -->\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if filters.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_filters) as filter, filterIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_filters[filter].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_filters[filter].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedFilterIds = Object.keys(_filters).filter((t) => _filters[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t<Tooltip content={_filters[filter].meta.description}>\r\n\t\t\t\t\t\t\t\t{_filters[filter].name}\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { getContext, onMount } from 'svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let actions = [];\r\n\texport let selectedActionIds = [];\r\n\r\n\tlet _actions = {};\r\n\r\n\tonMount(() => {\r\n\t\t_actions = actions.reduce((acc, action) => {\r\n\t\t\tacc[action.id] = {\r\n\t\t\t\t...action,\r\n\t\t\t\tselected: selectedActionIds.includes(action.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Actions')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select actions here, add them to the \"Functions\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if actions.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_actions) as action, actionIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_actions[action].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_actions[action].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedActionIds = Object.keys(_actions).filter((t) => _actions[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t<Tooltip content={_actions[action].meta.description}>\r\n\t\t\t\t\t\t\t\t{_actions[action].name}\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n"],"names":["ctx","i","each_blocks","insert_hydration","target","div","anchor","set_data","t","t_value","svg","append_hydration","path0","path1","_a","t3_value","create_if_block_1","create_if_block_2","div0","div4","div3","div1","div2","t1","t1_value","dirty","t3","flyAndScale","i18n","getContext","onClose","knowledge","$$props","items","onMount","collections","$documents","$i18n","doc","a","e","arr","tag","$$invalidate","k","item","_b","div6","div5","button","create_if_block","t0","t0_value","t2","t2_value","fileIdx","tools","_tools","selectedToolIds","acc","tool","tooltip_changes","filters","selectedFilterIds","_filters","filter","actions","selectedActionIds","_actions","action"],"mappings":"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"}