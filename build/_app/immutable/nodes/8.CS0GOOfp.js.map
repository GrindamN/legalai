{"version":3,"file":"8.CS0GOOfp.js","sources":["../../../../../../src/lib/components/admin/Settings/Database.svelte","../../../../../../src/lib/components/admin/Settings/General.svelte","../../../../../../src/lib/components/admin/Settings/Users.svelte","../../../../../../src/lib/components/admin/Settings/Pipelines.svelte","../../../../../../src/lib/components/admin/Settings/Audio.svelte","../../../../../../src/lib/components/admin/Settings/Images.svelte","../../../../../../src/lib/components/admin/Settings/Interface.svelte","../../../../../../src/lib/components/admin/Settings/Models.svelte","../../../../../../src/lib/components/admin/Settings/Connections.svelte","../../../../../../src/lib/components/admin/Settings/Documents.svelte","../../../../../../src/lib/components/admin/Settings/WebSearch.svelte","../../../../../../src/lib/components/admin/Settings.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { downloadDatabase, downloadLiteLLMConfig } from '$lib/apis/utils';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { config, user } from '$lib/stores';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { getAllUserChats } from '$lib/apis/chats';\r\n\timport { exportConfig, importConfig } from '$lib/apis/configs';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tconst exportAllUserChats = async () => {\r\n\t\tlet blob = new Blob([JSON.stringify(await getAllUserChats(localStorage.token))], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `all-chats-export-${Date.now()}.json`);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\t// permissions = await getUserPermissions(localStorage.token);\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Database')}</div>\r\n\r\n\t\t\t<input\r\n\t\t\t\tid=\"config-json-input\"\r\n\t\t\t\thidden\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\taccept=\".json\"\r\n\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\tconst file = e.target.files[0];\r\n\t\t\t\t\tconst reader = new FileReader();\r\n\r\n\t\t\t\t\treader.onload = async (e) => {\r\n\t\t\t\t\t\tconst res = await importConfig(localStorage.token, JSON.parse(e.target.result)).catch(\r\n\t\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\ttoast.success('Config imported successfully');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.target.value = null;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treader.readAsText(file);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tdocument.getElementById('config-json-input').click();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Import Config from JSON File')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tconst config = await exportConfig(localStorage.token);\r\n\t\t\t\t\tconst blob = new Blob([JSON.stringify(config)], {\r\n\t\t\t\t\t\ttype: 'application/json'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsaveAs(blob, `config-${Date.now()}.json`);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Export Config to JSON File')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<hr class=\" dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t{#if $config?.features.enable_admin_export ?? true}\r\n\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t<!-- <div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Chat Deletion')}</div> -->\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\" flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t// exportAllUserChats();\r\n\r\n\t\t\t\t\t\t\tdownloadDatabase(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Download Database')}</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\texportAllUserChats();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Export All Chats (All Users)')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<hr class=\" dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tdownloadLiteLLMConfig(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Export LiteLLM config.yaml')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- <div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\r\n\t</div> -->\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getBackendConfig, getWebhookUrl, updateWebhookUrl } from '$lib/apis';\r\n\timport { getAdminConfig, updateAdminConfig } from '$lib/apis/auths';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport { config } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet adminConfig = null;\r\n\tlet webhookUrl = '';\r\n\r\n\tconst updateHandler = async () => {\r\n\t\twebhookUrl = await updateWebhookUrl(localStorage.token, webhookUrl);\r\n\t\tconst res = await updateAdminConfig(localStorage.token, adminConfig);\r\n\r\n\t\tif (res) {\r\n\t\t\tsaveHandler();\r\n\t\t} else {\r\n\t\t\ttoast.error(i18n.t('Failed to update settings'));\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait Promise.all([\r\n\t\t\t(async () => {\r\n\t\t\t\tadminConfig = await getAdminConfig(localStorage.token);\r\n\t\t\t})(),\r\n\r\n\t\t\t(async () => {\r\n\t\t\t\twebhookUrl = await getWebhookUrl(localStorage.token);\r\n\t\t\t})()\r\n\t\t]);\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tupdateHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if adminConfig !== null}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-3 text-sm font-medium\">{$i18n.t('General Settings')}</div>\r\n\r\n\t\t\t\t<div class=\"  flex w-full justify-between pr-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable New Sign Ups')}</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_SIGNUP} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"  my-3 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Default User Role')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={adminConfig.DEFAULT_USER_ROLE}\r\n\t\t\t\t\t\t\tplaceholder=\"Select a role\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"pending\">{$i18n.t('pending')}</option>\r\n\t\t\t\t\t\t\t<option value=\"user\">{$i18n.t('user')}</option>\r\n\t\t\t\t\t\t\t<option value=\"admin\">{$i18n.t('admin')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\"my-3 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Show Admin Details in Account Pending Overlay')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={adminConfig.SHOW_ADMIN_DETAILS} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"my-3 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable Community Sharing')}</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_COMMUNITY_SHARING} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"my-3 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable Message Rating')}</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_MESSAGE_RATING} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\" w-full justify-between\">\r\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('JWT Expiration')}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder={`e.g.) \"30m\",\"1h\", \"10d\". `}\r\n\t\t\t\t\t\t\tbind:value={adminConfig.JWT_EXPIRES_IN}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t{$i18n.t('Valid time units:')}\r\n\t\t\t\t\t\t<span class=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t>{$i18n.t(\"'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.\")}</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\" w-full justify-between\">\r\n\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Webhook URL')}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder={`https://example.com/webhook`}\r\n\t\t\t\t\t\t\tbind:value={webhookUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getBackendConfig, getModelFilterConfig, updateModelFilterConfig } from '$lib/apis';\r\n\timport { getSignUpEnabledStatus, toggleSignUpEnabledStatus } from '$lib/apis/auths';\r\n\timport { getUserPermissions, updateUserPermissions } from '$lib/apis/users';\r\n\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { models, config } from '$lib/stores';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport { setDefaultModels } from '$lib/apis/configs';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet defaultModelId = '';\r\n\r\n\tlet whitelistEnabled = false;\r\n\tlet whitelistModels = [''];\r\n\tlet permissions = {\r\n\t\tchat: {\r\n\t\t\tdeletion: true,\r\n\t\t\tedit: true,\r\n\t\t\ttemporary: true\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tpermissions = await getUserPermissions(localStorage.token);\r\n\r\n\t\tconst res = await getModelFilterConfig(localStorage.token);\r\n\t\tif (res) {\r\n\t\t\twhitelistEnabled = res.enabled;\r\n\t\t\twhitelistModels = res.models.length > 0 ? res.models : [''];\r\n\t\t}\r\n\r\n\t\tdefaultModelId = $config.default_models ? $config?.default_models.split(',')[0] : '';\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\t// console.log('submit');\r\n\r\n\t\tawait setDefaultModels(localStorage.token, defaultModelId);\r\n\t\tawait updateUserPermissions(localStorage.token, permissions);\r\n\t\tawait updateModelFilterConfig(localStorage.token, whitelistEnabled, whitelistModels);\r\n\t\tsaveHandler();\r\n\r\n\t\tawait config.set(await getBackendConfig());\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll max-h-full\">\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('User Permissions')}</div>\r\n\r\n\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Chat Deletion')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tpermissions.chat.deletion = !(permissions?.chat?.deletion ?? true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if permissions?.chat?.deletion ?? true}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Allow')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t(\"Don't Allow\")}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Chat Editing')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tpermissions.chat.editing = !(permissions?.chat?.editing ?? true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if permissions?.chat?.editing ?? true}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Allow')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t(\"Don't Allow\")}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Temporary Chat')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tpermissions.chat.temporary = !(permissions?.chat?.temporary ?? true);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if permissions?.chat?.temporary ?? true}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Allow')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t(\"Don't Allow\")}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t<div class=\"mt-2 space-y-3\">\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"mb-2\">\r\n\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Manage Models')}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" space-y-1 mb-3\">\r\n\t\t\t\t\t<div class=\"mb-2\">\r\n\t\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Default Model')}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tbind:value={defaultModelId}\r\n\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t{#each $models.filter((model) => model.id) as model}\r\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">{model.name}</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" space-y-1\">\r\n\t\t\t\t\t<div class=\"mb-2\">\r\n\t\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Model Whitelisting')}</div>\r\n\r\n\t\t\t\t\t\t\t<Switch bind:state={whitelistEnabled} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if whitelistEnabled}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\" space-y-1.5\">\r\n\t\t\t\t\t\t\t\t{#each whitelistModels as modelId, modelIdx}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={modelId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{#each $models.filter((model) => model.id) as model}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{model.name}</option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{#if modelIdx === 0}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (whitelistModels.at(-1) !== '') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twhitelistModels = [...whitelistModels, ''];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitelistModels.splice(modelIdx, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitelistModels = whitelistModels;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex justify-end items-center text-xs mt-1.5 text-right\">\r\n\t\t\t\t\t\t\t\t<div class=\" text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{whitelistModels.length}\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Model(s) Whitelisted')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { v4 as uuidv4 } from 'uuid';\r\n\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { models } from '$lib/stores';\r\n\timport { getContext, onMount, tick } from 'svelte';\r\n\timport type { Writable } from 'svelte/store';\r\n\timport type { i18n as i18nType } from 'i18next';\r\n\timport {\r\n\t\tgetPipelineValves,\r\n\t\tgetPipelineValvesSpec,\r\n\t\tupdatePipelineValves,\r\n\t\tgetPipelines,\r\n\t\tgetModels,\r\n\t\tgetPipelinesList,\r\n\t\tdownloadPipeline,\r\n\t\tdeletePipeline,\r\n\t\tuploadPipeline\r\n\t} from '$lib/apis';\r\n\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\tconst i18n: Writable<i18nType> = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet downloading = false;\r\n\tlet uploading = false;\r\n\r\n\tlet pipelineFiles;\r\n\r\n\tlet PIPELINES_LIST = null;\r\n\tlet selectedPipelinesUrlIdx = '';\r\n\r\n\tlet pipelines = null;\r\n\r\n\tlet valves = null;\r\n\tlet valves_spec = null;\r\n\tlet selectedPipelineIdx = null;\r\n\r\n\tlet pipelineDownloadUrl = '';\r\n\r\n\tconst updateHandler = async () => {\r\n\t\tconst pipeline = pipelines[selectedPipelineIdx];\r\n\r\n\t\tif (pipeline && (pipeline?.valves ?? false)) {\r\n\t\t\tfor (const property in valves_spec.properties) {\r\n\t\t\t\tif (valves_spec.properties[property]?.type === 'array') {\r\n\t\t\t\t\tvalves[property] = valves[property].split(',').map((v) => v.trim());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst res = await updatePipelineValves(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tpipeline.id,\r\n\t\t\t\tvalves,\r\n\t\t\t\tselectedPipelinesUrlIdx\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Valves updated successfully'));\r\n\t\t\t\tsetPipelines();\r\n\t\t\t\tmodels.set(await getModels(localStorage.token));\r\n\t\t\t\tsaveHandler();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t('No valves to update'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst getValves = async (idx) => {\r\n\t\tvalves = null;\r\n\t\tvalves_spec = null;\r\n\r\n\t\tvalves_spec = await getPipelineValvesSpec(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[idx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t);\r\n\t\tvalves = await getPipelineValves(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[idx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t);\r\n\r\n\t\tfor (const property in valves_spec.properties) {\r\n\t\t\tif (valves_spec.properties[property]?.type === 'array') {\r\n\t\t\t\tvalves[property] = valves[property].join(',');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst setPipelines = async () => {\r\n\t\tpipelines = null;\r\n\t\tvalves = null;\r\n\t\tvalves_spec = null;\r\n\r\n\t\tif (PIPELINES_LIST.length > 0) {\r\n\t\t\tconsole.log(selectedPipelinesUrlIdx);\r\n\t\t\tpipelines = await getPipelines(localStorage.token, selectedPipelinesUrlIdx);\r\n\r\n\t\t\tif (pipelines.length > 0) {\r\n\t\t\t\tselectedPipelineIdx = 0;\r\n\t\t\t\tawait getValves(selectedPipelineIdx);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpipelines = [];\r\n\t\t}\r\n\t};\r\n\r\n\tconst addPipelineHandler = async () => {\r\n\t\tdownloading = true;\r\n\t\tconst res = await downloadPipeline(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelineDownloadUrl,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\r\n\t\t\tsetPipelines();\r\n\t\t\tmodels.set(await getModels(localStorage.token));\r\n\t\t}\r\n\r\n\t\tdownloading = false;\r\n\t};\r\n\r\n\tconst uploadPipelineHandler = async () => {\r\n\t\tuploading = true;\r\n\r\n\t\tif (pipelineFiles && pipelineFiles.length !== 0) {\r\n\t\t\tconst file = pipelineFiles[0];\r\n\r\n\t\t\tconsole.log(file);\r\n\r\n\t\t\tconst res = await uploadPipeline(localStorage.token, file, selectedPipelinesUrlIdx).catch(\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\ttoast.error('Something went wrong :/');\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\r\n\t\t\t\tsetPipelines();\r\n\t\t\t\tmodels.set(await getModels(localStorage.token));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t('No file selected'));\r\n\t\t}\r\n\r\n\t\tpipelineFiles = null;\r\n\t\tconst pipelineUploadInputElement = document.getElementById('pipeline-upload-input');\r\n\r\n\t\tif (pipelineUploadInputElement) {\r\n\t\t\tpipelineUploadInputElement.value = null;\r\n\t\t}\r\n\r\n\t\tuploading = false;\r\n\t};\r\n\r\n\tconst deletePipelineHandler = async () => {\r\n\t\tconst res = await deletePipeline(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[selectedPipelineIdx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Pipeline deleted successfully'));\r\n\t\t\tsetPipelines();\r\n\t\t\tmodels.set(await getModels(localStorage.token));\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tPIPELINES_LIST = await getPipelinesList(localStorage.token);\r\n\t\tconsole.log(PIPELINES_LIST);\r\n\r\n\t\tif (PIPELINES_LIST.length > 0) {\r\n\t\t\tselectedPipelinesUrlIdx = PIPELINES_LIST[0]['idx'].toString();\r\n\t\t}\r\n\r\n\t\tawait setPipelines();\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tupdateHandler();\r\n\t}}\r\n>\r\n\t<div class=\"overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if PIPELINES_LIST !== null}\r\n\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t{$i18n.t('Manage Pipelines')}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if PIPELINES_LIST.length > 0}\r\n\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tbind:value={selectedPipelinesUrlIdx}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline url')}\r\n\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\tawait tick();\r\n\t\t\t\t\t\t\t\t\tawait setPipelines();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"\" selected disabled class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Select a pipeline url')}</option\r\n\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t{#each PIPELINES_LIST as pipelines, idx}\r\n\t\t\t\t\t\t\t\t\t<option value={pipelines.idx.toString()} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t>{pipelines.url}</option\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" my-2\">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Upload Pipeline')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"pipelines-upload-input\"\r\n\t\t\t\t\t\t\t\tbind:files={pipelineFiles}\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\taccept=\".py\"\r\n\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById('pipelines-upload-input')?.click();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if pipelineFiles}\r\n\t\t\t\t\t\t\t\t\t{pipelineFiles.length > 0 ? `${pipelineFiles.length}` : ''} pipeline(s) selected.\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select a py file.')}\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tuploadPipelineHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={uploading}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if uploading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" my-2\">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Install from Github URL')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Github Raw URL')}\r\n\t\t\t\t\t\t\t\tbind:value={pipelineDownloadUrl}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\taddPipelineHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={downloading}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if downloading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-500\">\r\n\t\t\t\t\t\t<span class=\" font-semibold dark:text-gray-200\">Warning:</span> Pipelines are a plugin\r\n\t\t\t\t\t\tsystem with arbitrary code execution —\r\n\t\t\t\t\t\t<span class=\" font-medium dark:text-gray-400\"\r\n\t\t\t\t\t\t\t>don't fetch random pipelines from sources you don't trust.</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-800 my-3 w-full\" />\r\n\r\n\t\t\t\t{#if pipelines !== null}\r\n\t\t\t\t\t{#if pipelines.length > 0}\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Pipelines Valves')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t\t\t{#if pipelines.length > 0}\r\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={selectedPipelineIdx}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline')}\r\n\t\t\t\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait tick();\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait getValves(selectedPipelineIdx);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{#each pipelines as pipeline, idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={idx} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{pipeline.name} ({pipeline.type ?? 'pipe'})</option\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tdeletePipelineHandler();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t\t\t\t{#if pipelines[selectedPipelineIdx].valves}\r\n\t\t\t\t\t\t\t\t\t{#if valves}\r\n\t\t\t\t\t\t\t\t\t\t{#each Object.keys(valves_spec.properties) as property, idx}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" py-0.5 w-full justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves_spec.properties[property].title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalves[property] = (valves[property] ?? null) === null ? '' : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) === null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('None')} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Custom')} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) !== null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- {valves[property]} -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 mb-1.5 space-x-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if valves_spec.properties[property]?.enum ?? null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each valves_spec.properties[property].enum as option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={option} selected={option === valves[property]}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else if (valves_spec.properties[property]?.type ?? null) === 'boolean'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves[property] ? 'Enabled' : 'Disabled'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={valves[property]} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={valves_spec.properties[property].title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\"size-5\" />\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<div>No valves</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{:else if pipelines.length === 0}\r\n\t\t\t\t\t\t<div>Pipelines Not Detected</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div class=\"flex justify-center\">\r\n\t\t\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t\t\t<Spinner className=\"size-4\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t{:else}\r\n\t\t\t\t<div>{$i18n.t('Pipelines Not Detected')}</div>\r\n\t\t\t{/if}\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex justify-center h-full\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\timport {\r\n\t\tgetAudioConfig,\r\n\t\tupdateAudioConfig,\r\n\t\tgetModels as _getModels,\r\n\t\tgetVoices as _getVoices\r\n\t} from '$lib/apis/audio';\r\n\timport { config } from '$lib/stores';\r\n\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\r\n\timport { TTS_RESPONSE_SPLIT } from '$lib/types';\r\n\r\n\timport type { Writable } from 'svelte/store';\r\n\timport type { i18n as i18nType } from 'i18next';\r\n\r\n\tconst i18n = getContext<Writable<i18nType>>('i18n');\r\n\r\n\texport let saveHandler: () => void;\r\n\r\n\t// Audio\r\n\tlet TTS_OPENAI_API_BASE_URL = '';\r\n\tlet TTS_OPENAI_API_KEY = '';\r\n\tlet TTS_API_KEY = '';\r\n\tlet TTS_ENGINE = '';\r\n\tlet TTS_MODEL = '';\r\n\tlet TTS_VOICE = '';\r\n\tlet TTS_SPLIT_ON: TTS_RESPONSE_SPLIT = TTS_RESPONSE_SPLIT.PUNCTUATION;\r\n\r\n\tlet STT_OPENAI_API_BASE_URL = '';\r\n\tlet STT_OPENAI_API_KEY = '';\r\n\tlet STT_ENGINE = '';\r\n\tlet STT_MODEL = '';\r\n\r\n\t// eslint-disable-next-line no-undef\r\n\tlet voices: SpeechSynthesisVoice[] = [];\r\n\tlet models: Awaited<ReturnType<typeof _getModels>>['models'] = [];\r\n\r\n\tconst getModels = async () => {\r\n\t\tif (TTS_ENGINE === '') {\r\n\t\t\tmodels = [];\r\n\t\t} else {\r\n\t\t\tconst res = await _getModels(localStorage.token).catch((e) => {\r\n\t\t\t\ttoast.error(e);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tmodels = res.models;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst getVoices = async () => {\r\n\t\tif (TTS_ENGINE === '') {\r\n\t\t\tconst getVoicesLoop = setInterval(() => {\r\n\t\t\t\tvoices = speechSynthesis.getVoices();\r\n\r\n\t\t\t\t// do your loop\r\n\t\t\t\tif (voices.length > 0) {\r\n\t\t\t\t\tclearInterval(getVoicesLoop);\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\t\t} else {\r\n\t\t\tconst res = await _getVoices(localStorage.token).catch((e) => {\r\n\t\t\t\ttoast.error(e);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tvoices = res.voices;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateConfigHandler = async () => {\r\n\t\tconst res = await updateAudioConfig(localStorage.token, {\r\n\t\t\ttts: {\r\n\t\t\t\tOPENAI_API_BASE_URL: TTS_OPENAI_API_BASE_URL,\r\n\t\t\t\tOPENAI_API_KEY: TTS_OPENAI_API_KEY,\r\n\t\t\t\tAPI_KEY: TTS_API_KEY,\r\n\t\t\t\tENGINE: TTS_ENGINE,\r\n\t\t\t\tMODEL: TTS_MODEL,\r\n\t\t\t\tVOICE: TTS_VOICE,\r\n\t\t\t\tSPLIT_ON: TTS_SPLIT_ON\r\n\t\t\t},\r\n\t\t\tstt: {\r\n\t\t\t\tOPENAI_API_BASE_URL: STT_OPENAI_API_BASE_URL,\r\n\t\t\t\tOPENAI_API_KEY: STT_OPENAI_API_KEY,\r\n\t\t\t\tENGINE: STT_ENGINE,\r\n\t\t\t\tMODEL: STT_MODEL\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tsaveHandler();\r\n\t\t\tgetBackendConfig()\r\n\t\t\t\t.then(config.set)\r\n\t\t\t\t.catch(() => {});\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getAudioConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log(res);\r\n\t\t\tTTS_OPENAI_API_BASE_URL = res.tts.OPENAI_API_BASE_URL;\r\n\t\t\tTTS_OPENAI_API_KEY = res.tts.OPENAI_API_KEY;\r\n\t\t\tTTS_API_KEY = res.tts.API_KEY;\r\n\r\n\t\t\tTTS_ENGINE = res.tts.ENGINE;\r\n\t\t\tTTS_MODEL = res.tts.MODEL;\r\n\t\t\tTTS_VOICE = res.tts.VOICE;\r\n\r\n\t\t\tTTS_SPLIT_ON = res.tts.SPLIT_ON || TTS_RESPONSE_SPLIT.PUNCTUATION;\r\n\r\n\t\t\tSTT_OPENAI_API_BASE_URL = res.stt.OPENAI_API_BASE_URL;\r\n\t\t\tSTT_OPENAI_API_KEY = res.stt.OPENAI_API_KEY;\r\n\r\n\t\t\tSTT_ENGINE = res.stt.ENGINE;\r\n\t\t\tSTT_MODEL = res.stt.MODEL;\r\n\t\t}\r\n\r\n\t\tawait getVoices();\r\n\t\tawait getModels();\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait updateConfigHandler();\r\n\t\tdispatch('save');\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t<div class=\"flex flex-col gap-3\">\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('STT Settings')}</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Speech-to-Text Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={STT_ENGINE}\r\n\t\t\t\t\t\t\tplaceholder=\"Select an engine\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Whisper (Local)')}</option>\r\n\t\t\t\t\t\t\t<option value=\"openai\">OpenAI</option>\r\n\t\t\t\t\t\t\t<option value=\"web\">{$i18n.t('Web API')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if STT_ENGINE === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={STT_OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_OPENAI_API_KEY} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('STT Model')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tlist=\"model-list\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\r\n\t\t\t\t\t\t\t\t\t<option value=\"whisper-1\" />\r\n\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" dark:border-gray-800\" />\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('TTS Settings')}</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Text-to-Speech Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={TTS_ENGINE}\r\n\t\t\t\t\t\t\tplaceholder=\"Select a mode\"\r\n\t\t\t\t\t\t\ton:change={async (e) => {\r\n\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\tawait getVoices();\r\n\t\t\t\t\t\t\t\tawait getModels();\r\n\r\n\t\t\t\t\t\t\t\tif (e.target?.value === 'openai') {\r\n\t\t\t\t\t\t\t\t\tTTS_VOICE = 'alloy';\r\n\t\t\t\t\t\t\t\t\tTTS_MODEL = 'tts-1';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tTTS_VOICE = '';\r\n\t\t\t\t\t\t\t\t\tTTS_MODEL = '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Web API')}</option>\r\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\r\n\t\t\t\t\t\t\t<option value=\"elevenlabs\">{$i18n.t('ElevenLabs')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if TTS_ENGINE === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={TTS_OPENAI_API_KEY} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_API_KEY}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t{#if TTS_ENGINE === ''}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected={TTS_VOICE !== ''}>{$i18n.t('Default')}</option>\r\n\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={voice.voiceURI}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={TTS_VOICE === voice.voiceURI}>{voice.name}</option\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'openai'}\r\n\t\t\t\t\t<div class=\" flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each models as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} />\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\r\n\t\t\t\t\t<div class=\" flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each models as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} />\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<hr class=\"dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\"pt-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Response splitting')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\taria-label=\"Select how to split message text for TTS requests\"\r\n\t\t\t\t\t\t\tbind:value={TTS_SPLIT_ON}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#each Object.values(TTS_RESPONSE_SPLIT) as split}\r\n\t\t\t\t\t\t\t\t<option value={split}\r\n\t\t\t\t\t\t\t\t\t>{$i18n.t(split.charAt(0).toUpperCase() + split.slice(1))}</option\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\"Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\timport { config as backendConfig, user } from '$lib/stores';\r\n\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\timport {\r\n\t\tgetImageGenerationModels,\r\n\t\tgetImageGenerationConfig,\r\n\t\tupdateImageGenerationConfig,\r\n\t\tgetConfig,\r\n\t\tupdateConfig,\r\n\t\tverifyConfigUrl\r\n\t} from '$lib/apis/images';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet loading = false;\r\n\r\n\tlet config = null;\r\n\tlet imageGenerationConfig = null;\r\n\r\n\tlet models = null;\r\n\r\n\tlet requiredWorkflowNodes = [\r\n\t\t{\r\n\t\t\ttype: 'prompt',\r\n\t\t\tkey: 'text',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'model',\r\n\t\t\tkey: 'ckpt_name',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'width',\r\n\t\t\tkey: 'width',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'height',\r\n\t\t\tkey: 'height',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'steps',\r\n\t\t\tkey: 'steps',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'seed',\r\n\t\t\tkey: 'seed',\r\n\t\t\tnode_ids: ''\r\n\t\t}\r\n\t];\r\n\r\n\tconst getModels = async () => {\r\n\t\tmodels = await getImageGenerationModels(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t};\r\n\r\n\tconst updateConfigHandler = async () => {\r\n\t\tconst res = await updateConfig(localStorage.token, config).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tconfig = res;\r\n\t\t}\r\n\r\n\t\tif (config.enabled) {\r\n\t\t\tbackendConfig.set(await getBackendConfig());\r\n\t\t\tgetModels();\r\n\t\t}\r\n\t};\r\n\r\n\tconst validateJSON = (json) => {\r\n\t\ttry {\r\n\t\t\tconst obj = JSON.parse(json);\r\n\r\n\t\t\tif (obj && typeof obj === 'object') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} catch (e) {}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst saveHandler = async () => {\r\n\t\tloading = true;\r\n\r\n\t\tif (config?.comfyui?.COMFYUI_WORKFLOW) {\r\n\t\t\tif (!validateJSON(config.comfyui.COMFYUI_WORKFLOW)) {\r\n\t\t\t\ttoast.error('Invalid JSON format for ComfyUI Workflow.');\r\n\t\t\t\tloading = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (config?.comfyui?.COMFYUI_WORKFLOW) {\r\n\t\t\tconfig.comfyui.COMFYUI_WORKFLOW_NODES = requiredWorkflowNodes.map((node) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: node.type,\r\n\t\t\t\t\tkey: node.key,\r\n\t\t\t\t\tnode_ids:\r\n\t\t\t\t\t\tnode.node_ids.trim() === '' ? [] : node.node_ids.split(',').map((id) => id.trim())\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tawait updateConfig(localStorage.token, config).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tloading = false;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tawait updateImageGenerationConfig(localStorage.token, imageGenerationConfig).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tloading = false;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tgetModels();\r\n\t\tdispatch('save');\r\n\t\tloading = false;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tconst res = await getConfig(localStorage.token).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconfig = res;\r\n\t\t\t}\r\n\r\n\t\t\tif (config.enabled) {\r\n\t\t\t\tgetModels();\r\n\t\t\t}\r\n\r\n\t\t\tif (config.comfyui.COMFYUI_WORKFLOW) {\r\n\t\t\t\tconfig.comfyui.COMFYUI_WORKFLOW = JSON.stringify(\r\n\t\t\t\t\tJSON.parse(config.comfyui.COMFYUI_WORKFLOW),\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\trequiredWorkflowNodes = requiredWorkflowNodes.map((node) => {\r\n\t\t\t\tconst n = config.comfyui.COMFYUI_WORKFLOW_NODES.find((n) => n.type === node.type) ?? node;\r\n\r\n\t\t\t\tconsole.log(n);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: n.type,\r\n\t\t\t\t\tkey: n.key,\r\n\t\t\t\t\tnode_ids: typeof n.node_ids === 'string' ? n.node_ids : n.node_ids.join(',')\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tconst imageConfigRes = await getImageGenerationConfig(localStorage.token).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (imageConfigRes) {\r\n\t\t\t\timageGenerationConfig = imageConfigRes;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden pr-2\">\r\n\t\t{#if config && imageGenerationConfig}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('Image Settings')}</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Image Generation (Experimental)')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"px-1\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tbind:state={config.enabled}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst enabled = e.detail;\r\n\r\n\t\t\t\t\t\t\t\t\tif (enabled) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.engine === 'automatic1111' &&\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.automatic1111.AUTOMATIC1111_BASE_URL === ''\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('AUTOMATIC1111 Base URL is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.engine === 'comfyui' &&\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.comfyui.COMFYUI_BASE_URL === ''\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('ComfyUI Base URL is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t} else if (config.engine === 'openai' && config.openai.OPENAI_API_KEY === '') {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('OpenAI API Key is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tupdateConfigHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Image Generation Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={config.engine}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select Engine')}\r\n\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\tupdateConfigHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('Default (Open AI)')}</option>\r\n\t\t\t\t\t\t\t<option value=\"comfyui\">{$i18n.t('ComfyUI')}</option>\r\n\t\t\t\t\t\t\t<option value=\"automatic1111\">{$i18n.t('Automatic1111')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t\t<div class=\"flex flex-col gap-2\">\r\n\t\t\t\t{#if (config?.engine ?? 'automatic1111') === 'automatic1111'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('AUTOMATIC1111 Base URL')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_BASE_URL}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Include `--api` flag when running stable-diffusion-webui')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('(e.g. `sh webui.sh --api`)')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('AUTOMATIC1111 Api Auth String')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter api auth string (e.g. username:password)')}\r\n\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_API_AUTH}\r\n\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Include `--api-auth` flag when running stable-diffusion-webui')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n\r\n\t\t\t\t\t\t\t\t\t.t('(e.g. `sh webui.sh --api --api-auth username_password`)')\r\n\t\t\t\t\t\t\t\t\t.replace('_', ':')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if config?.engine === 'comfyui'}\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Base URL')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={config.comfyui.COMFYUI_BASE_URL}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Workflow')}</div>\r\n\r\n\t\t\t\t\t\t{#if config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none\"\r\n\t\t\t\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\t\t\t\tbind:value={config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"upload-comfyui-workflow-input\"\r\n\t\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\taccept=\".json\"\r\n\t\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst file = e.target.files[0];\r\n\t\t\t\t\t\t\t\t\t\tconst reader = new FileReader();\r\n\r\n\t\t\t\t\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.comfyui.COMFYUI_WORKFLOW = e.target.result;\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value = null;\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\treader.readAsText(file);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-comfyui-workflow-input')?.click();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to upload a workflow.json file.')}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Make sure to export a workflow.json file as API format from ComfyUI.')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Workflow Nodes')}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"text-xs flex flex-col gap-1.5\">\r\n\t\t\t\t\t\t\t\t{#each requiredWorkflowNodes as node}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full items-center border dark:border-gray-850 rounded-lg\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-shrink-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{node.type}{node.type === 'prompt' ? '*' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Input Key (e.g. text, unet_name, steps)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent=\"Comma separated Node Ids (e.g. 1 or 1,2)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Node Ids\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.node_ids}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mt-2 text-xs text-right text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('*Prompt node ID(s) are required for image generation')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t{:else if config?.engine === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('OpenAI API Config')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={config.openai.OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={config.openai.OPENAI_API_KEY}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if config?.enabled}\r\n\t\t\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Default Model')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Model ID')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tlist=\"model-list\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.MODEL}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t{#each models ?? [] as model}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={model.id}>{model.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Image Size')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Image Size (e.g. 512x512)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Image Size (e.g. 512x512)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.IMAGE_SIZE}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Steps')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Number of Steps (e.g. 50)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Number of Steps (e.g. 50)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.IMAGE_STEPS}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center {loading\r\n\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t: ''}\"\r\n\t\t\ttype=\"submit\"\r\n\t\t\tdisabled={loading}\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\r\n\t\t\t{#if loading}\r\n\t\t\t\t<div class=\"ml-2 self-center\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { v4 as uuidv4 } from 'uuid';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { getBackendConfig, getTaskConfig, updateTaskConfig } from '$lib/apis';\r\n\timport { setDefaultPromptSuggestions } from '$lib/apis/configs';\r\n\timport { config, models, settings, user } from '$lib/stores';\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\r\n\timport { banners as _banners } from '$lib/stores';\r\n\timport type { Banner } from '$lib/types';\r\n\r\n\timport { getBanners, setBanners } from '$lib/apis/configs';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet taskConfig = {\r\n\t\tTASK_MODEL: '',\r\n\t\tTASK_MODEL_EXTERNAL: '',\r\n\t\tTITLE_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tSEARCH_QUERY_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tSEARCH_QUERY_PROMPT_LENGTH_THRESHOLD: 0\r\n\t};\r\n\r\n\tlet promptSuggestions = [];\r\n\tlet banners: Banner[] = [];\r\n\r\n\tconst updateInterfaceHandler = async () => {\r\n\t\ttaskConfig = await updateTaskConfig(localStorage.token, taskConfig);\r\n\r\n\t\tpromptSuggestions = await setDefaultPromptSuggestions(localStorage.token, promptSuggestions);\r\n\t\tawait updateBanners();\r\n\r\n\t\tawait config.set(await getBackendConfig());\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\ttaskConfig = await getTaskConfig(localStorage.token);\r\n\r\n\t\tpromptSuggestions = $config?.default_prompt_suggestions;\r\n\r\n\t\tbanners = await getBanners(localStorage.token);\r\n\t});\r\n\r\n\tconst updateBanners = async () => {\r\n\t\t_banners.set(await setBanners(localStorage.token, banners));\r\n\t};\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tupdateInterfaceHandler();\r\n\t\tdispatch('save');\r\n\t}}\r\n>\r\n\t<div class=\"  overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2.5 text-sm font-medium flex\">\r\n\t\t\t\t<div class=\" mr-1\">{$i18n.t('Set Task Model')}</div>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t'A task model is used when performing tasks such as generating titles for chats and web search queries'\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\td=\"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('Local Models')}</div>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL}\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\r\n\t\t\t\t\t\t{#each $models.filter((m) => m.owned_by === 'ollama') as model}\r\n\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\r\n\t\t\t\t\t\t\t\t{model.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('External Models')}</div>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL_EXTERNAL}\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\r\n\t\t\t\t\t\t{#each $models as model}\r\n\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\r\n\t\t\t\t\t\t\t\t{model.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Title Generation Prompt')}</div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tbind:value={taskConfig.TITLE_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\tclass=\"w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\trows=\"6\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Search Query Generation Prompt')}</div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tbind:value={taskConfig.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\tclass=\"w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\trows=\"6\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Search Query Generation Prompt Length Threshold')}\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tbind:value={taskConfig.SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD}\r\n\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850 my-3\" />\r\n\r\n\t\t<div class=\" space-y-3 {banners.length > 0 ? ' mb-3' : ''}\">\r\n\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t{$i18n.t('Banners')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tif (banners.length === 0 || banners.at(-1).content !== '') {\r\n\t\t\t\t\t\t\tbanners = [\r\n\t\t\t\t\t\t\t\t...banners,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\tdismissible: true,\r\n\t\t\t\t\t\t\t\t\ttimestamp: Math.floor(Date.now() / 1000)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex flex-col space-y-1\">\r\n\t\t\t\t{#each banners as banner, bannerIdx}\r\n\t\t\t\t\t<div class=\" flex justify-between\">\r\n\t\t\t\t\t\t<div class=\"flex flex-row flex-1 border rounded-xl dark:border-gray-800\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none\"\r\n\t\t\t\t\t\t\t\tbind:value={banner.type}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if banner.type == ''}\r\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled class=\"text-gray-900\">{$i18n.t('Type')}</option\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t<option value=\"info\" class=\"text-gray-900\">{$i18n.t('Info')}</option>\r\n\t\t\t\t\t\t\t\t<option value=\"warning\" class=\"text-gray-900\">{$i18n.t('Warning')}</option>\r\n\t\t\t\t\t\t\t\t<option value=\"error\" class=\"text-gray-900\">{$i18n.t('Error')}</option>\r\n\t\t\t\t\t\t\t\t<option value=\"success\" class=\"text-gray-900\">{$i18n.t('Success')}</option>\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"pr-5 py-1.5 text-xs w-full bg-transparent outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Content')}\r\n\t\t\t\t\t\t\t\tbind:value={banner.content}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<div class=\"relative top-1.5 -left-2\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Dismissible')} className=\"flex h-fit items-center\">\r\n\t\t\t\t\t\t\t\t\t<Switch bind:state={banner.dismissible} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tbanners.splice(bannerIdx, 1);\r\n\t\t\t\t\t\t\t\tbanners = banners;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t{#if $user.role === 'admin'}\r\n\t\t\t<div class=\" space-y-3\">\r\n\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t{$i18n.t('Default Prompt Suggestions')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tif (promptSuggestions.length === 0 || promptSuggestions.at(-1).content !== '') {\r\n\t\t\t\t\t\t\t\tpromptSuggestions = [...promptSuggestions, { content: '', title: ['', ''] }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"grid lg:grid-cols-2 flex-col gap-1.5\">\r\n\t\t\t\t\t{#each promptSuggestions as prompt, promptIdx}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\" flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col flex-1 pl-1\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex border-b border-gray-100 dark:border-gray-800 w-full\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Title (e.g. Tell me a fun fact)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={prompt.title[0]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Subtitle (e.g. about the Roman Empire)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={prompt.title[1]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Prompt (e.g. Tell me a fun fact about the Roman Empire)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-3\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tpromptSuggestions.splice(promptIdx, 1);\r\n\t\t\t\t\t\t\t\t\tpromptSuggestions = promptSuggestions;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if promptSuggestions.length > 0}\r\n\t\t\t\t\t<div class=\"text-xs text-left w-full mt-2\">\r\n\t\t\t\t\t\t{$i18n.t('Adjusting these settings will apply changes universally to all users.')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { onMount, getContext } from 'svelte';\r\n\r\n\timport { WEBUI_API_BASE_URL, WEBUI_BASE_URL } from '$lib/constants';\r\n\timport { WEBUI_NAME, models, MODEL_DOWNLOAD_POOL, user, config } from '$lib/stores';\r\n\timport { splitStream } from '$lib/utils';\r\n\r\n\timport {\r\n\t\tcreateModel,\r\n\t\tdeleteModel,\r\n\t\tdownloadModel,\r\n\t\tgetOllamaUrls,\r\n\t\tgetOllamaVersion,\r\n\t\tpullModel,\r\n\t\tuploadModel,\r\n\t\tgetOllamaConfig\r\n\t} from '$lib/apis/ollama';\r\n\timport { getModels as _getModels } from '$lib/apis';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport ModelDeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tconst getModels = async () => {\r\n\t\treturn await _getModels(localStorage.token);\r\n\t};\r\n\r\n\tlet modelUploadInputElement: HTMLInputElement;\r\n\r\n\tlet showModelDeleteConfirm = false;\r\n\r\n\t// Models\r\n\r\n\tlet ollamaEnabled = null;\r\n\r\n\tlet OLLAMA_URLS = [];\r\n\tlet selectedOllamaUrlIdx: number | null = null;\r\n\r\n\tlet updateModelId = null;\r\n\tlet updateProgress = null;\r\n\r\n\tlet showExperimentalOllama = false;\r\n\r\n\tlet ollamaVersion = null;\r\n\tconst MAX_PARALLEL_DOWNLOADS = 3;\r\n\r\n\tlet modelTransferring = false;\r\n\tlet modelTag = '';\r\n\r\n\tlet createModelLoading = false;\r\n\tlet createModelTag = '';\r\n\tlet createModelContent = '';\r\n\tlet createModelDigest = '';\r\n\tlet createModelPullProgress = null;\r\n\r\n\tlet digest = '';\r\n\tlet pullProgress = null;\r\n\r\n\tlet modelUploadMode = 'file';\r\n\tlet modelInputFile: File[] | null = null;\r\n\tlet modelFileUrl = '';\r\n\tlet modelFileContent = `TEMPLATE \"\"\"{{ .System }}\\nUSER: {{ .Prompt }}\\nASSISTANT: \"\"\"\\nPARAMETER num_ctx 4096\\nPARAMETER stop \"</s>\"\\nPARAMETER stop \"USER:\"\\nPARAMETER stop \"ASSISTANT:\"`;\r\n\tlet modelFileDigest = '';\r\n\r\n\tlet uploadProgress = null;\r\n\tlet uploadMessage = '';\r\n\r\n\tlet deleteModelTag = '';\r\n\r\n\tconst updateModelsHandler = async () => {\r\n\t\tfor (const model of $models.filter(\r\n\t\t\t(m) =>\r\n\t\t\t\t!(m?.preset ?? false) &&\r\n\t\t\t\tm.owned_by === 'ollama' &&\r\n\t\t\t\t(selectedOllamaUrlIdx === null\r\n\t\t\t\t\t? true\r\n\t\t\t\t\t: (m?.ollama?.urls ?? []).includes(selectedOllamaUrlIdx))\r\n\t\t)) {\r\n\t\t\tconsole.log(model);\r\n\r\n\t\t\tupdateModelId = model.id;\r\n\t\t\tconst [res, controller] = await pullModel(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tmodel.id,\r\n\t\t\t\tselectedOllamaUrlIdx\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconst reader = res.body\r\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t\t.getReader();\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\tupdateProgress = 0;\r\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateModelId = null;\r\n\t\tupdateProgress = null;\r\n\t};\r\n\r\n\tconst pullModelHandler = async () => {\r\n\t\tconst sanitizedModelTag = modelTag.trim().replace(/^ollama\\s+(run|pull)\\s+/, '');\r\n\t\tconsole.log($MODEL_DOWNLOAD_POOL);\r\n\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag]) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(`Model '{{modelTag}}' is already in queue for downloading.`, {\r\n\t\t\t\t\tmodelTag: sanitizedModelTag\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (Object.keys($MODEL_DOWNLOAD_POOL).length === MAX_PARALLEL_DOWNLOADS) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t('Maximum of 3 models can be downloaded simultaneously. Please try again later.')\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst [res, controller] = await pullModel(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tsanitizedModelTag,\r\n\t\t\tselectedOllamaUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tconst reader = res.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\tabortController: controller,\r\n\t\t\t\t\treader,\r\n\t\t\t\t\tdone: false\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\tlet downloadProgress = 0;\r\n\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = 100;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\t\t\t\t\t\t\tpullProgress: downloadProgress,\r\n\t\t\t\t\t\t\t\t\t\t\tdigest: data.digest\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\r\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\t\t\t\t\t\t\tdone: data.status === 'success'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tif (typeof error !== 'string') {\r\n\t\t\t\t\t\terror = error.message;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t// opts.callback({ success: false, error, modelName: opts.modelName });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log($MODEL_DOWNLOAD_POOL[sanitizedModelTag]);\r\n\r\n\t\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag].done) {\r\n\t\t\t\ttoast.success(\r\n\t\t\t\t\t$i18n.t(`Model '{{modelName}}' has been successfully downloaded.`, {\r\n\t\t\t\t\t\tmodelName: sanitizedModelTag\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t\tmodels.set(await getModels());\r\n\t\t\t} else {\r\n\t\t\t\ttoast.error($i18n.t('Download canceled'));\r\n\t\t\t}\r\n\r\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[sanitizedModelTag];\r\n\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tmodelTag = '';\r\n\t\tmodelTransferring = false;\r\n\t};\r\n\r\n\tconst uploadModelHandler = async () => {\r\n\t\tmodelTransferring = true;\r\n\r\n\t\tlet uploaded = false;\r\n\t\tlet fileResponse = null;\r\n\t\tlet name = '';\r\n\r\n\t\tif (modelUploadMode === 'file') {\r\n\t\t\tconst file = modelInputFile ? modelInputFile[0] : null;\r\n\r\n\t\t\tif (file) {\r\n\t\t\t\tuploadMessage = 'Uploading...';\r\n\r\n\t\t\t\tfileResponse = await uploadModel(localStorage.token, file, selectedOllamaUrlIdx).catch(\r\n\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tuploadProgress = 0;\r\n\t\t\tfileResponse = await downloadModel(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tmodelFileUrl,\r\n\t\t\t\tselectedOllamaUrlIdx\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (fileResponse && fileResponse.ok) {\r\n\t\t\tconst reader = fileResponse.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\tif (done) break;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line.replace(/^data: /, ''));\r\n\r\n\t\t\t\t\t\t\tif (data.progress) {\r\n\t\t\t\t\t\t\t\tif (uploadMessage) {\r\n\t\t\t\t\t\t\t\t\tuploadMessage = '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuploadProgress = data.progress;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.done) {\r\n\t\t\t\t\t\t\t\tmodelFileDigest = data.blob;\r\n\t\t\t\t\t\t\t\tname = data.name;\r\n\t\t\t\t\t\t\t\tuploaded = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst error = await fileResponse?.json();\r\n\t\t\ttoast.error(error?.detail ?? error);\r\n\t\t}\r\n\r\n\t\tif (uploaded) {\r\n\t\t\tconst res = await createModel(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t`${name}:latest`,\r\n\t\t\t\t`FROM @${modelFileDigest}\\n${modelFileContent}`\r\n\t\t\t);\r\n\r\n\t\t\tif (res && res.ok) {\r\n\t\t\t\tconst reader = res.body\r\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t\t.getReader();\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\t\tconsole.log(line);\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!data.digest &&\r\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\r\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\t\tdigest = data.digest;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodelFileUrl = '';\r\n\r\n\t\tif (modelUploadInputElement) {\r\n\t\t\tmodelUploadInputElement.value = '';\r\n\t\t}\r\n\t\tmodelInputFile = null;\r\n\t\tmodelTransferring = false;\r\n\t\tuploadProgress = null;\r\n\r\n\t\tmodels.set(await getModels());\r\n\t};\r\n\r\n\tconst deleteModelHandler = async () => {\r\n\t\tconst res = await deleteModel(localStorage.token, deleteModelTag, selectedOllamaUrlIdx).catch(\r\n\t\t\t(error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t(`Deleted {{deleteModelTag}}`, { deleteModelTag }));\r\n\t\t}\r\n\r\n\t\tdeleteModelTag = '';\r\n\t\tmodels.set(await getModels());\r\n\t};\r\n\r\n\tconst cancelModelPullHandler = async (model: string) => {\r\n\t\tconst { reader, abortController } = $MODEL_DOWNLOAD_POOL[model];\r\n\t\tif (abortController) {\r\n\t\t\tabortController.abort();\r\n\t\t}\r\n\t\tif (reader) {\r\n\t\t\tawait reader.cancel();\r\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[model];\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\r\n\t\t\t});\r\n\t\t\tawait deleteModel(localStorage.token, model);\r\n\t\t\ttoast.success(`${model} download has been canceled`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst createModelHandler = async () => {\r\n\t\tcreateModelLoading = true;\r\n\t\tconst res = await createModel(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tcreateModelTag,\r\n\t\t\tcreateModelContent,\r\n\t\t\tselectedOllamaUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res && res.ok) {\r\n\t\t\tconst reader = res.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\tif (done) break;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tconsole.log(line);\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t!data.digest &&\r\n\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\r\n\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\tcreateModelDigest = data.digest;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress =\r\n\t\t\t\t\t\t\t\t\t\t\t\tMath.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodels.set(await getModels());\r\n\r\n\t\tcreateModelLoading = false;\r\n\r\n\t\tcreateModelTag = '';\r\n\t\tcreateModelContent = '';\r\n\t\tcreateModelDigest = '';\r\n\t\tcreateModelPullProgress = null;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst ollamaConfig = await getOllamaConfig(localStorage.token);\r\n\r\n\t\tif (ollamaConfig.ENABLE_OLLAMA_API) {\r\n\t\t\tollamaEnabled = true;\r\n\r\n\t\t\tawait Promise.all([\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tOLLAMA_URLS = await getOllamaUrls(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (OLLAMA_URLS.length > 0) {\r\n\t\t\t\t\t\tselectedOllamaUrlIdx = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t})(),\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tollamaVersion = await getOllamaVersion(localStorage.token).catch((error) => false);\r\n\t\t\t\t})()\r\n\t\t\t]);\r\n\t\t} else {\r\n\t\t\tollamaEnabled = false;\r\n\t\t\ttoast.error($i18n.t('Ollama API is disabled'));\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<ModelDeleteConfirmDialog\r\n\tbind:show={showModelDeleteConfirm}\r\n\ton:confirm={() => {\r\n\t\tdeleteModelHandler();\r\n\t}}\r\n/>\r\n\r\n<div class=\"flex flex-col h-full justify-between text-sm\">\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if ollamaEnabled}\r\n\t\t\t{#if ollamaVersion !== null}\r\n\t\t\t\t<div class=\"space-y-2 pr-1.5\">\r\n\t\t\t\t\t<div class=\"text-sm font-medium\">{$i18n.t('Manage Ollama Models')}</div>\r\n\r\n\t\t\t\t\t{#if OLLAMA_URLS.length > 0}\r\n\t\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 pb-1\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\tbind:value={selectedOllamaUrlIdx}\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an Ollama instance')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#each OLLAMA_URLS as url, idx}\r\n\t\t\t\t\t\t\t\t\t\t<option value={idx} class=\"bg-gray-50 dark:bg-gray-700\">{url}</option>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-end\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip content=\"Update All Models\" placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateModelsHandler();\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if updateModelId}\r\n\t\t\t\t\t\t\tUpdating \"{updateModelId}\" {updateProgress ? `(${updateProgress}%)` : ''}\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t<div class=\"space-y-2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Pull a model from Ollama.com')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\r\n\t\t\t\t\t\t\t\t\t\t\tmodelTag: 'mistral:7b'\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={modelTag}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tpullModelHandler();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={modelTransferring}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#if modelTransferring}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('To access the available model names for downloading,')}\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\t\thref=\"https://ollama.com/library\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if Object.keys($MODEL_DOWNLOAD_POOL).length > 0}\r\n\t\t\t\t\t\t\t\t{#each Object.keys($MODEL_DOWNLOAD_POOL) as model}\r\n\t\t\t\t\t\t\t\t\t{#if 'pullProgress' in $MODEL_DOWNLOAD_POOL[model]}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{model}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t15,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-gray-800 dark:text-gray-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancelModelPullHandler(model);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-gray-800 dark:text-white\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M6 18 17.94 6M18 18 6.06 6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{#if 'digest' in $MODEL_DOWNLOAD_POOL[model]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].digest}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Delete a model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={deleteModelTag}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{#if !deleteModelTag}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t{#each $models.filter((m) => !(m?.preset ?? false) && m.owned_by === 'ollama' && (selectedOllamaUrlIdx === null ? true : (m?.ollama?.urls ?? []).includes(selectedOllamaUrlIdx))) as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.name} class=\"bg-gray-50 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{model.name +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t' (' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(model.ollama.size / 1024 ** 3).toFixed(1) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t' GB)'}</option\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowModelDeleteConfirm = true;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Create a model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1 mr-2 flex flex-col gap-2\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\r\n\t\t\t\t\t\t\t\t\t\t\tmodelTag: 'my-modelfile'\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={createModelTag}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\tbind:value={createModelContent}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden\"\r\n\t\t\t\t\t\t\t\t\t\trows=\"6\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={`TEMPLATE \"\"\"{{ .System }}\\nUSER: {{ .Prompt }}\\nASSISTANT: \"\"\"\\nPARAMETER num_ctx 4096\\nPARAMETER stop \"</s>\"\\nPARAMETER stop \"USER:\"\\nPARAMETER stop \"ASSISTANT:\"`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex self-start\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tcreateModelHandler();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if createModelDigest !== ''}\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col mt-1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{createModelTag}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, createModelPullProgress ?? 0)}%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{createModelPullProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{#if createModelDigest}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{createModelDigest}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"pt-1\">\r\n\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Experimental')}</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowExperimentalOllama = !showExperimentalOllama;\r\n\t\t\t\t\t\t\t\t\t}}>{showExperimentalOllama ? $i18n.t('Hide') : $i18n.t('Show')}</button\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if showExperimentalOllama}\r\n\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\t\t\t\tuploadModelHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\" mb-2 flex w-full justify-between\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"  text-sm font-medium\">{$i18n.t('Upload a GGUF model')}</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (modelUploadMode === 'file') {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'url';\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'file';\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('File Mode')}</span>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('URL Mode')}</span>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full mb-1.5\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 {modelInputFile && modelInputFile.length > 0 ? 'mr-2' : ''}\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"model-upload-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:this={modelUploadInputElement}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:files={modelInputFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:change={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(modelInputFile);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\".gguf,.safetensors\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodelUploadInputElement.click();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if modelInputFile && modelInputFile.length > 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{modelInputFile[0].name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 {modelFileUrl !== '' ? 'mr-2' : ''}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none {modelFileUrl !==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'mr-2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={modelFileUrl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Type Hugging Face Resolve (Download) URL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={modelTransferring}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{#if modelTransferring}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" my-2.5 text-sm font-medium\">{$i18n.t('Modelfile Content')}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={modelFileContent}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trows=\"6\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t<div class=\" mt-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('To access the GGUF models available for downloading,')}\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\t\t\thref=\"https://huggingface.co/models?search=gguf\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{#if uploadMessage}\r\n\t\t\t\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{uploadMessage}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t\t{modelFileDigest}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{:else if uploadProgress !== null}\r\n\t\t\t\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, uploadProgress ?? 0)}%\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{uploadProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t\t{modelFileDigest}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else if ollamaVersion === false}\r\n\t\t\t\t<div>Ollama Not Detected</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<div class=\"flex h-full justify-center\">\r\n\t\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t{:else if ollamaEnabled === false}\r\n\t\t\t<div>{$i18n.t('Ollama API is disabled')}</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex h-full justify-center\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { models, user } from '$lib/stores';\r\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport {\r\n\t\tgetOllamaConfig,\r\n\t\tgetOllamaUrls,\r\n\t\tgetOllamaVersion,\r\n\t\tupdateOllamaConfig,\r\n\t\tupdateOllamaUrls\r\n\t} from '$lib/apis/ollama';\r\n\timport {\r\n\t\tgetOpenAIConfig,\r\n\t\tgetOpenAIKeys,\r\n\t\tgetOpenAIModels,\r\n\t\tgetOpenAIUrls,\r\n\t\tupdateOpenAIConfig,\r\n\t\tupdateOpenAIKeys,\r\n\t\tupdateOpenAIUrls\r\n\t} from '$lib/apis/openai';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport { getModels as _getModels } from '$lib/apis';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tconst getModels = async () => {\r\n\t\tconst models = await _getModels(localStorage.token);\r\n\t\treturn models;\r\n\t};\r\n\r\n\t// External\r\n\tlet OLLAMA_BASE_URLS = [''];\r\n\r\n\tlet OPENAI_API_KEYS = [''];\r\n\tlet OPENAI_API_BASE_URLS = [''];\r\n\r\n\tlet pipelineUrls = {};\r\n\r\n\tlet ENABLE_OPENAI_API = null;\r\n\tlet ENABLE_OLLAMA_API = null;\r\n\r\n\tconst verifyOpenAIHandler = async (idx) => {\r\n\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\r\n\r\n\t\tOPENAI_API_BASE_URLS = await updateOpenAIUrls(localStorage.token, OPENAI_API_BASE_URLS);\r\n\t\tOPENAI_API_KEYS = await updateOpenAIKeys(localStorage.token, OPENAI_API_KEYS);\r\n\r\n\t\tconst res = await getOpenAIModels(localStorage.token, idx).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\tif (res.pipelines) {\r\n\t\t\t\tpipelineUrls[OPENAI_API_BASE_URLS[idx]] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait models.set(await getModels());\r\n\t};\r\n\r\n\tconst verifyOllamaHandler = async (idx) => {\r\n\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.filter((url) => url !== '').map((url) =>\r\n\t\t\turl.replace(/\\/$/, '')\r\n\t\t);\r\n\r\n\t\tOLLAMA_BASE_URLS = await updateOllamaUrls(localStorage.token, OLLAMA_BASE_URLS);\r\n\r\n\t\tconst res = await getOllamaVersion(localStorage.token, idx).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t}\r\n\r\n\t\tawait models.set(await getModels());\r\n\t};\r\n\r\n\tconst updateOpenAIHandler = async () => {\r\n\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\r\n\r\n\t\t// Check if API KEYS length is same than API URLS length\r\n\t\tif (OPENAI_API_KEYS.length !== OPENAI_API_BASE_URLS.length) {\r\n\t\t\t// if there are more keys than urls, remove the extra keys\r\n\t\t\tif (OPENAI_API_KEYS.length > OPENAI_API_BASE_URLS.length) {\r\n\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.slice(0, OPENAI_API_BASE_URLS.length);\r\n\t\t\t}\r\n\r\n\t\t\t// if there are more urls than keys, add empty keys\r\n\t\t\tif (OPENAI_API_KEYS.length < OPENAI_API_BASE_URLS.length) {\r\n\t\t\t\tconst diff = OPENAI_API_BASE_URLS.length - OPENAI_API_KEYS.length;\r\n\t\t\t\tfor (let i = 0; i < diff; i++) {\r\n\t\t\t\t\tOPENAI_API_KEYS.push('');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tOPENAI_API_BASE_URLS = await updateOpenAIUrls(localStorage.token, OPENAI_API_BASE_URLS);\r\n\t\tOPENAI_API_KEYS = await updateOpenAIKeys(localStorage.token, OPENAI_API_KEYS);\r\n\t\tawait models.set(await getModels());\r\n\t};\r\n\r\n\tconst updateOllamaUrlsHandler = async () => {\r\n\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.filter((url) => url !== '').map((url) =>\r\n\t\t\turl.replace(/\\/$/, '')\r\n\t\t);\r\n\r\n\t\tconsole.log(OLLAMA_BASE_URLS);\r\n\r\n\t\tif (OLLAMA_BASE_URLS.length === 0) {\r\n\t\t\tENABLE_OLLAMA_API = false;\r\n\t\t\tawait updateOllamaConfig(localStorage.token, ENABLE_OLLAMA_API);\r\n\r\n\t\t\ttoast.info($i18n.t('Ollama API disabled'));\r\n\t\t} else {\r\n\t\t\tOLLAMA_BASE_URLS = await updateOllamaUrls(localStorage.token, OLLAMA_BASE_URLS);\r\n\r\n\t\t\tconst ollamaVersion = await getOllamaVersion(localStorage.token).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (ollamaVersion) {\r\n\t\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\t\tawait models.set(await getModels());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tawait Promise.all([\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tOLLAMA_BASE_URLS = await getOllamaUrls(localStorage.token);\r\n\t\t\t\t})(),\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tOPENAI_API_BASE_URLS = await getOpenAIUrls(localStorage.token);\r\n\t\t\t\t})(),\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tOPENAI_API_KEYS = await getOpenAIKeys(localStorage.token);\r\n\t\t\t\t})()\r\n\t\t\t]);\r\n\r\n\t\t\tOPENAI_API_BASE_URLS.forEach(async (url, idx) => {\r\n\t\t\t\tconst res = await getOpenAIModels(localStorage.token, idx);\r\n\t\t\t\tif (res.pipelines) {\r\n\t\t\t\t\tpipelineUrls[url] = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconst ollamaConfig = await getOllamaConfig(localStorage.token);\r\n\t\t\tconst openaiConfig = await getOpenAIConfig(localStorage.token);\r\n\r\n\t\t\tENABLE_OPENAI_API = openaiConfig.ENABLE_OPENAI_API;\r\n\t\t\tENABLE_OLLAMA_API = ollamaConfig.ENABLE_OLLAMA_API;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tupdateOpenAIHandler();\r\n\t\tupdateOllamaUrlsHandler();\r\n\r\n\t\tdispatch('save');\r\n\t}}\r\n>\r\n\t<div class=\"space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if ENABLE_OPENAI_API !== null && ENABLE_OLLAMA_API !== null}\r\n\t\t\t<div class=\" space-y-3\">\r\n\t\t\t\t<div class=\"mt-2 space-y-2 pr-1.5\">\r\n\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('OpenAI API')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tbind:state={ENABLE_OPENAI_API}\r\n\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\tupdateOpenAIConfig(localStorage.token, ENABLE_OPENAI_API);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if ENABLE_OPENAI_API}\r\n\t\t\t\t\t\t<div class=\"flex flex-col gap-1\">\r\n\t\t\t\t\t\t\t{#each OPENAI_API_BASE_URLS as url, idx}\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 relative\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 {pipelineUrls[url]\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 'pr-8'\r\n\t\t\t\t\t\t\t\t\t\t\t\t: ''} text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={url}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{#if pipelineUrls[url]}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" absolute top-2.5 right-2.5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Pipelines\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={OPENAI_API_KEYS[idx]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t{#if idx === 0}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS = [...OPENAI_API_BASE_URLS, ''];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_KEYS = [...OPENAI_API_KEYS, ''];\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(url, urlIdx) => idx !== urlIdx\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.filter((key, keyIdx) => idx !== keyIdx);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Verify connection\" className=\"self-start mt-0.5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tverifyOpenAIHandler(idx);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('WebUI will make requests to')}\r\n\t\t\t\t\t\t\t\t\t<span class=\" text-gray-200\">'{url}/models'</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t\t<div class=\"pr-1.5 space-y-2\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Ollama API')}</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tbind:state={ENABLE_OLLAMA_API}\r\n\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\tupdateOllamaConfig(localStorage.token, ENABLE_OLLAMA_API);\r\n\r\n\t\t\t\t\t\t\t\tif (OLLAMA_BASE_URLS.length === 0) {\r\n\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS = [''];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{#if ENABLE_OLLAMA_API}\r\n\t\t\t\t\t<div class=\"flex w-full gap-1.5\">\r\n\t\t\t\t\t\t<div class=\"flex-1 flex flex-col gap-2\">\r\n\t\t\t\t\t\t\t{#each OLLAMA_BASE_URLS as url, idx}\r\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://localhost:11434)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t\t\t\t{#if idx === 0}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS = [...OLLAMA_BASE_URLS, ''];\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(url, urlIdx) => idx !== urlIdx\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Verify connection\" className=\"self-start mt-0.5\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tverifyOllamaHandler(idx);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t{$i18n.t('Trouble accessing Ollama?')}\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui#troubleshooting\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{$i18n.t('Click here for help.')}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex h-full justify-center\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"  px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { onMount, getContext, createEventDispatcher } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { getDocs } from '$lib/apis/documents';\r\n\timport { deleteAllFiles, deleteFileById } from '$lib/apis/files';\r\n\timport {\r\n\t\tgetQuerySettings,\r\n\t\tscanDocs,\r\n\t\tupdateQuerySettings,\r\n\t\tresetVectorDB,\r\n\t\tgetEmbeddingConfig,\r\n\t\tupdateEmbeddingConfig,\r\n\t\tgetRerankingConfig,\r\n\t\tupdateRerankingConfig,\r\n\t\tresetUploadDir,\r\n\t\tgetRAGConfig,\r\n\t\tupdateRAGConfig\r\n\t} from '$lib/apis/rag';\r\n\timport ResetUploadDirConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport ResetVectorDBConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet scanDirLoading = false;\r\n\tlet updateEmbeddingModelLoading = false;\r\n\tlet updateRerankingModelLoading = false;\r\n\r\n\tlet showResetConfirm = false;\r\n\tlet showResetUploadDirConfirm = false;\r\n\r\n\tlet embeddingEngine = '';\r\n\tlet embeddingModel = '';\r\n\tlet rerankingModel = '';\r\n\r\n\tlet fileMaxSize = null;\r\n\tlet fileMaxCount = null;\r\n\r\n\tlet contentExtractionEngine = 'default';\r\n\tlet tikaServerUrl = '';\r\n\tlet showTikaServerUrl = false;\r\n\r\n\tlet chunkSize = 0;\r\n\tlet chunkOverlap = 0;\r\n\tlet pdfExtractImages = true;\r\n\r\n\tlet OpenAIKey = '';\r\n\tlet OpenAIUrl = '';\r\n\tlet OpenAIBatchSize = 1;\r\n\r\n\tlet querySettings = {\r\n\t\ttemplate: '',\r\n\t\tr: 0.0,\r\n\t\tk: 4,\r\n\t\thybrid: false\r\n\t};\r\n\r\n\tconst scanHandler = async () => {\r\n\t\tscanDirLoading = true;\r\n\t\tconst res = await scanDocs(localStorage.token);\r\n\t\tscanDirLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t\t\ttoast.success($i18n.t('Scan complete!'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst embeddingModelUpdateHandler = async () => {\r\n\t\tif (embeddingEngine === '' && embeddingModel.split('/').length - 1 > 1) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (embeddingEngine === 'ollama' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (embeddingEngine === 'openai' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ((embeddingEngine === 'openai' && OpenAIKey === '') || OpenAIUrl === '') {\r\n\t\t\ttoast.error($i18n.t('OpenAI URL/Key required.'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconsole.log('Update embedding model attempt:', embeddingModel);\r\n\r\n\t\tupdateEmbeddingModelLoading = true;\r\n\t\tconst res = await updateEmbeddingConfig(localStorage.token, {\r\n\t\t\tembedding_engine: embeddingEngine,\r\n\t\t\tembedding_model: embeddingModel,\r\n\t\t\t...(embeddingEngine === 'openai'\r\n\t\t\t\t? {\r\n\t\t\t\t\t\topenai_config: {\r\n\t\t\t\t\t\t\tkey: OpenAIKey,\r\n\t\t\t\t\t\t\turl: OpenAIUrl,\r\n\t\t\t\t\t\t\tbatch_size: OpenAIBatchSize\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t: {})\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tawait setEmbeddingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateEmbeddingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('embeddingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\ttoast.success($i18n.t('Embedding model set to \"{{embedding_model}}\"', res), {\r\n\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst rerankingModelUpdateHandler = async () => {\r\n\t\tconsole.log('Update reranking model attempt:', rerankingModel);\r\n\r\n\t\tupdateRerankingModelLoading = true;\r\n\t\tconst res = await updateRerankingConfig(localStorage.token, {\r\n\t\t\treranking_model: rerankingModel\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tawait setRerankingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateRerankingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('rerankingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\tif (rerankingModel === '') {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model disabled', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model set to \"{{reranking_model}}\"', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tawait embeddingModelUpdateHandler();\r\n\r\n\t\tif (querySettings.hybrid) {\r\n\t\t\tawait rerankingModelUpdateHandler();\r\n\t\t}\r\n\r\n\t\tif (contentExtractionEngine === 'tika' && tikaServerUrl === '') {\r\n\t\t\ttoast.error($i18n.t('Tika Server URL required.'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tpdf_extract_images: pdfExtractImages,\r\n\t\t\tfile: {\r\n\t\t\t\tmax_size: fileMaxSize === '' ? null : fileMaxSize,\r\n\t\t\t\tmax_count: fileMaxCount === '' ? null : fileMaxCount\r\n\t\t\t},\r\n\t\t\tchunk: {\r\n\t\t\t\tchunk_overlap: chunkOverlap,\r\n\t\t\t\tchunk_size: chunkSize\r\n\t\t\t},\r\n\t\t\tcontent_extraction: {\r\n\t\t\t\tengine: contentExtractionEngine,\r\n\t\t\t\ttika_server_url: tikaServerUrl\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawait updateQuerySettings(localStorage.token, querySettings);\r\n\r\n\t\tdispatch('save');\r\n\t};\r\n\r\n\tconst setEmbeddingConfig = async () => {\r\n\t\tconst embeddingConfig = await getEmbeddingConfig(localStorage.token);\r\n\r\n\t\tif (embeddingConfig) {\r\n\t\t\tembeddingEngine = embeddingConfig.embedding_engine;\r\n\t\t\tembeddingModel = embeddingConfig.embedding_model;\r\n\r\n\t\t\tOpenAIKey = embeddingConfig.openai_config.key;\r\n\t\t\tOpenAIUrl = embeddingConfig.openai_config.url;\r\n\t\t\tOpenAIBatchSize = embeddingConfig.openai_config.batch_size ?? 1;\r\n\t\t}\r\n\t};\r\n\r\n\tconst setRerankingConfig = async () => {\r\n\t\tconst rerankingConfig = await getRerankingConfig(localStorage.token);\r\n\r\n\t\tif (rerankingConfig) {\r\n\t\t\trerankingModel = rerankingConfig.reranking_model;\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleHybridSearch = async () => {\r\n\t\tquerySettings.hybrid = !querySettings.hybrid;\r\n\t\tquerySettings = await updateQuerySettings(localStorage.token, querySettings);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait setEmbeddingConfig();\r\n\t\tawait setRerankingConfig();\r\n\r\n\t\tquerySettings = await getQuerySettings(localStorage.token);\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tpdfExtractImages = res.pdf_extract_images;\r\n\r\n\t\t\tchunkSize = res.chunk.chunk_size;\r\n\t\t\tchunkOverlap = res.chunk.chunk_overlap;\r\n\r\n\t\t\tcontentExtractionEngine = res.content_extraction.engine;\r\n\t\t\ttikaServerUrl = res.content_extraction.tika_server_url;\r\n\t\t\tshowTikaServerUrl = contentExtractionEngine === 'tika';\r\n\r\n\t\t\tfileMaxSize = res?.file.max_size ?? '';\r\n\t\t\tfileMaxCount = res?.file.max_count ?? '';\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<ResetUploadDirConfirmDialog\r\n\tbind:show={showResetUploadDirConfirm}\r\n\ton:confirm={async () => {\r\n\t\tconst res = await deleteAllFiles(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t}\r\n\t}}\r\n/>\r\n\r\n<ResetVectorDBConfirmDialog\r\n\tbind:show={showResetConfirm}\r\n\ton:confirm={() => {\r\n\t\tconst res = resetVectorDB(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t}\r\n\t}}\r\n/>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\r\n\t\t<div class=\"flex flex-col gap-0.5\">\r\n\t\t\t<div class=\" mb-0.5 text-sm font-medium\">{$i18n.t('General Settings')}</div>\r\n\r\n\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t{$i18n.t('Scan for documents from {{path}}', { path: 'DOCS_DIR (/data/docs)' })}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center {scanDirLoading\r\n\t\t\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tscanHandler();\r\n\t\t\t\t\t\tconsole.log('check');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdisabled={scanDirLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"self-center font-medium\">{$i18n.t('Scan')}</div>\r\n\r\n\t\t\t\t\t{#if scanDirLoading}\r\n\t\t\t\t\t\t<div class=\"ml-3 self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclass=\" w-3 h-3\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Model Engine')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\tbind:value={embeddingEngine}\r\n\t\t\t\t\t\tplaceholder=\"Select an embedding model engine\"\r\n\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\tif (e.target.value === 'ollama') {\r\n\t\t\t\t\t\t\t\tembeddingModel = '';\r\n\t\t\t\t\t\t\t} else if (e.target.value === 'openai') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'text-embedding-3-small';\r\n\t\t\t\t\t\t\t} else if (e.target.value === '') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'sentence-transformers/all-MiniLM-L6-v2';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default (SentenceTransformers)')}</option>\r\n\t\t\t\t\t\t<option value=\"ollama\">{$i18n.t('Ollama')}</option>\r\n\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if embeddingEngine === 'openai'}\r\n\t\t\t\t<div class=\"my-0.5 flex gap-2\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\tbind:value={OpenAIUrl}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={OpenAIKey} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex mt-0.5 space-x-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Batch Size')}</div>\r\n\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"steps-range\"\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax=\"2048\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\tbind:value={OpenAIBatchSize}\r\n\t\t\t\t\t\t\tclass=\"w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tbind:value={OpenAIBatchSize}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tclass=\" bg-transparent text-center w-14\"\r\n\t\t\t\t\t\t\tmin=\"-2\"\r\n\t\t\t\t\t\t\tmax=\"16000\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Hybrid Search')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\ttoggleHybridSearch();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\"dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"space-y-2\" />\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Embedding Model')}</div>\r\n\r\n\t\t\t{#if embeddingEngine === 'ollama'}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if !embeddingModel}\r\n\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t{#each $models.filter((m) => m.id && m.ollama && !(m?.preset ?? false)) as model}\r\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\">{model.name}</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model (e.g. {{model}})', {\r\n\t\t\t\t\t\t\t\tmodel: embeddingModel.slice(-40)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if embeddingEngine === ''}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tembeddingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t'Warning: If you update or change your embedding model, you will need to re-import all documents.'\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\" \">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Reranking Model')}</div>\r\n\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set reranking model (e.g. {{model}})', {\r\n\t\t\t\t\t\t\t\t\tmodel: 'BAAI/bge-reranker-v2-m3'\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tbind:value={rerankingModel}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\trerankingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateRerankingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateRerankingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"\">\r\n\t\t\t<div class=\"text-sm font-medium\">{$i18n.t('Content Extraction')}</div>\r\n\r\n\t\t\t<div class=\"flex w-full justify-between mt-2\">\r\n\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Engine')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\tbind:value={contentExtractionEngine}\r\n\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\tshowTikaServerUrl = e.target.value === 'tika';\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')} </option>\r\n\t\t\t\t\t\t<option value=\"tika\">{$i18n.t('Tika')}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if showTikaServerUrl}\r\n\t\t\t\t<div class=\"flex w-full mt-2\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tika Server URL')}\r\n\t\t\t\t\t\t\tbind:value={tikaServerUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"\">\r\n\t\t\t<div class=\"text-sm font-medium\">{$i18n.t('Files')}</div>\r\n\r\n\t\t\t<div class=\" my-2 flex gap-1.5\">\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Max Upload Size')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t'The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\r\n\t\t\t\t\t\t\t\tbind:value={fileMaxSize}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"  w-full\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Max Upload Count')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t'The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\r\n\t\t\t\t\t\t\t\tbind:value={fileMaxCount}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Query Params')}</div>\r\n\r\n\t\t\t<div class=\" flex gap-1\">\r\n\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit\">{$i18n.t('Top K')}</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Top K')}\r\n\t\t\t\t\t\t\tbind:value={querySettings.k}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit\">\r\n\t\t\t\t\t\t\t{$i18n.t('Minimum Score')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Score')}\r\n\t\t\t\t\t\t\t\tbind:value={querySettings.r}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0.0\"\r\n\t\t\t\t\t\t\t\ttitle={$i18n.t('The score should be a value between 0.0 (0%) and 1.0 (100%).')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t'Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-850 my-3\" />\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('RAG Template')}</div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tbind:value={querySettings.template}\r\n\t\t\t\t\tclass=\"w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\trows=\"4\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Chunk Params')}</div>\r\n\r\n\t\t\t<div class=\" my-2 flex gap-1.5\">\r\n\t\t\t\t<div class=\"  w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">{$i18n.t('Chunk Size')}</div>\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Size')}\r\n\t\t\t\t\t\t\tbind:value={chunkSize}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Chunk Overlap')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Overlap')}\r\n\t\t\t\t\t\t\tbind:value={chunkOverlap}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"my-3\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('PDF Extract Images (OCR)')}</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tpdfExtractImages = !pdfExtractImages;\r\n\t\t\t\t\t\t}}>{pdfExtractImages ? $i18n.t('On') : $i18n.t('Off')}</button\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowResetUploadDirConfirm = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Reset Upload Directory')}</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button\r\n\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowResetConfirm = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Reset Vector Storage')}</div>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getRAGConfig, updateRAGConfig } from '$lib/apis/rag';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet webConfig = null;\r\n\tlet webSearchEngines = [\r\n\t\t'searxng',\r\n\t\t'google_pse',\r\n\t\t'brave',\r\n\t\t'serpstack',\r\n\t\t'serper',\r\n\t\t'serply',\r\n\t\t'searchapi',\r\n\t\t'duckduckgo',\r\n\t\t'tavily',\r\n\t\t'jina'\r\n\t];\r\n\r\n\tlet youtubeLanguage = 'en';\r\n\tlet youtubeTranslation = null;\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tweb: webConfig,\r\n\t\t\tyoutube: {\r\n\t\t\t\tlanguage: youtubeLanguage.split(',').map((lang) => lang.trim()),\r\n\t\t\t\ttranslation: youtubeTranslation\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\twebConfig = res.web;\r\n\r\n\t\t\tyoutubeLanguage = res.youtube.language.join(',');\r\n\t\t\tyoutubeTranslation = res.youtube.translation;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait submitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if webConfig}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Search')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Enable Web Search')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={webConfig.search.enabled} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Web Search Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={webConfig.search.engine}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\r\n\t\t\t\t\t\t\t{#each webSearchEngines as engine}\r\n\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if webConfig.search.engine !== ''}\r\n\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t{#if webConfig.search.engine === 'searxng'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searxng_query_url}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'google_pse'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_engine_id}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'brave'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.brave_search_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serpstack'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serpstack_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serper'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serper API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serper API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serper_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serply'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serply API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serply API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serply_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'searchapi'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searchapi_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi Engine')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi Engine')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searchapi_engine}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'tavily'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Tavily API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tavily API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.tavily_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t{#if webConfig.search.enabled}\r\n\t\t\t\t\t<div class=\"mt-2 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.result_count}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.concurrent_requests}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Bypass SSL verification for Websites')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\twebConfig.ssl_verification = !webConfig.ssl_verification;\r\n\t\t\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if webConfig.ssl_verification === true}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" mt-2 mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Youtube Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" w-20 text-xs font-medium self-center\">{$i18n.t('Language')}</div>\r\n\t\t\t\t\t\t<div class=\" flex-1 self-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter language codes')}\r\n\t\t\t\t\t\t\t\tbind:value={youtubeLanguage}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script>\r\n\timport { getContext, tick, onMount } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport Database from './Settings/Database.svelte';\r\n\r\n\timport General from './Settings/General.svelte';\r\n\timport Users from './Settings/Users.svelte';\r\n\r\n\timport Pipelines from './Settings/Pipelines.svelte';\r\n\timport Audio from './Settings/Audio.svelte';\r\n\timport Images from './Settings/Images.svelte';\r\n\timport Interface from './Settings/Interface.svelte';\r\n\timport Models from './Settings/Models.svelte';\r\n\timport Connections from './Settings/Connections.svelte';\r\n\timport Documents from './Settings/Documents.svelte';\r\n\timport WebSearch from './Settings/WebSearch.svelte';\r\n\timport { config } from '$lib/stores';\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet selectedTab = 'general';\r\n\r\n\tonMount(() => {\r\n\t\tconst containerElement = document.getElementById('admin-settings-tabs-container');\r\n\r\n\t\tif (containerElement) {\r\n\t\t\tcontainerElement.addEventListener('wheel', function (event) {\r\n\t\t\t\tif (event.deltaY !== 0) {\r\n\t\t\t\t\t// Adjust horizontal scroll position based on vertical scroll\r\n\t\t\t\t\tcontainerElement.scrollLeft += event.deltaY;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<div class=\"flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4\">\r\n\t<div\r\n\t\tid=\"admin-settings-tabs-container\"\r\n\t\tclass=\"tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none\"\r\n\t>\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'general'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'general';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('General')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'users'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'users';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Users')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'connections'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'connections';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Connections')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'models'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'models';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Models')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'documents'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'documents';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path d=\"M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z\" />\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Documents')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'web'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'web';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Web Search')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'interface'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'interface';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Interface')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'audio'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'audio';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Audio')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'images'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'images';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Images')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'pipelines'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'pipelines';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Pipelines')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'db'\r\n\t\t\t\t? 'bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t: ' hover:bg-gray-50 dark:hover:bg-gray-850'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'db';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path d=\"M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z\" />\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Database')}</div>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div class=\"flex-1 mt-3 lg:mt-0 overflow-y-scroll\">\r\n\t\t{#if selectedTab === 'general'}\r\n\t\t\t<General\r\n\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'users'}\r\n\t\t\t<Users\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'connections'}\r\n\t\t\t<Connections\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'models'}\r\n\t\t\t<Models />\r\n\t\t{:else if selectedTab === 'documents'}\r\n\t\t\t<Documents\r\n\t\t\t\ton:save={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'web'}\r\n\t\t\t<WebSearch\r\n\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'interface'}\r\n\t\t\t<Interface\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'audio'}\r\n\t\t\t<Audio\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'images'}\r\n\t\t\t<Images\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'db'}\r\n\t\t\t<Database\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'pipelines'}\r\n\t\t\t<Pipelines\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n"],"names":["ctx","insert_hydration","target","div2","anchor","append_hydration","button0","div0","div1","button1","div3","div4","set_data","t1","t1_value","t4","t4_value","if_block","_a","create_if_block","form","div8","div7","input","hr0","hr1","button2","div5","div6","t0","t0_value","t7","t7_value","t13","t13_value","saveAs","fileSaver","i18n","getContext","saveHandler","$$props","exportAllUserChats","blob","getAllUserChats","onMount","e","file","reader","importConfig","error","toast","config","exportConfig","downloadDatabase","downloadLiteLLMConfig","switch0_props","switch1_props","switch2_props","switch3_props","add_render_callback","select","div21","option0","option1","option2","select_option","div9","div11","div10","div16","div13","div12","div14","input0","set_input_value","div15","span","hr2","div20","div18","div17","div19","input1","t2","t2_value","switch0_changes","t5","t5_value","t8","t8_value","t9","t9_value","t12","t12_value","switch1_changes","t15","t15_value","switch2_changes","t18","t18_value","switch3_changes","t22","t22_value","dirty","t25","t25_value","t27","t27_value","t30","t30_value","button","adminConfig","webhookUrl","updateHandler","updateWebhookUrl","updateAdminConfig","getAdminConfig","getWebhookUrl","$$self","value","select_value","svg","path","t_value","option","option_value_value","t","i","t3","t3_value","each_value_1","ensure_array_like","func_1","create_if_block_1","select_change_handler_1","_b","create_if_block_4","create_if_block_3","create_if_block_2","each_value_2","func","div22","hr","div23","button3","t14","t14_value","t16","t16_value","model","defaultModelId","whitelistEnabled","whitelistModels","permissions","getUserPermissions","res","getModelFilterConfig","$$invalidate","$config","modelIdx","setDefaultModels","updateUserPermissions","updateModelFilterConfig","getBackendConfig","div","create_if_block_14","create_if_block_13","create_if_block_12","option_1","path0","path1","create_if_block_10","each_value","each_blocks","attr","input_placeholder_value","switch_1_props","current","switch_1_changes","select_change_handler_2","create_if_block_9","if_block1","create_if_block_6","downloading","uploading","pipelineFiles","PIPELINES_LIST","selectedPipelinesUrlIdx","pipelines","valves","valves_spec","selectedPipelineIdx","pipelineDownloadUrl","pipeline","property","v","updatePipelineValves","$i18n","setPipelines","models","getModels","getValves","idx","getPipelineValvesSpec","getPipelineValves","getPipelines","addPipelineHandler","downloadPipeline","uploadPipelineHandler","uploadPipeline","pipelineUploadInputElement","deletePipelineHandler","deletePipeline","getPipelinesList","tick","datalist","datalist0","datalist1","option_selected_value","if_block0","create_if_block_5","TTS_RESPONSE_SPLIT","select0","select1","select2","option3","option4","option5","t6","t6_value","t10","t10_value","dispatch","createEventDispatcher","TTS_OPENAI_API_BASE_URL","TTS_OPENAI_API_KEY","TTS_API_KEY","TTS_ENGINE","TTS_MODEL","TTS_VOICE","TTS_SPLIT_ON","STT_OPENAI_API_BASE_URL","STT_OPENAI_API_KEY","STT_ENGINE","STT_MODEL","voices","_getModels","getVoices","getVoicesLoop","_getVoices","updateConfigHandler","updateAudioConfig","getAudioConfig","_c","a0","a1","t11","t11_value","textarea","loading","imageGenerationConfig","requiredWorkflowNodes","getImageGenerationModels","updateConfig","backendConfig","validateJSON","json","obj","node","id","updateImageGenerationConfig","$user","getConfig","n","imageConfigRes","getImageGenerationConfig","verifyConfigUrl","select_change_handler","input2","each_value_3","div17_class_value","textarea0","textarea1","t17","t17_value","to_number","t21","t21_value","t26","t26_value","m","taskConfig","promptSuggestions","banners","updateInterfaceHandler","updateTaskConfig","setDefaultPromptSuggestions","updateBanners","getTaskConfig","getBanners","_banners","setBanners","uuidv4","banner","bannerIdx","promptIdx","show_if","create_if_block_18","create_if_block_17","if_block4","create_if_block_11","input0_placeholder_value","input1_placeholder_value","a","svg1","path2","t24","t24_value","create_if_block_19","create_if_block_16","create_if_block_15","set_style","create_if_block_8","if_block2","if_block3","input_class_value","div_class_value","create_if_block_7","MAX_PARALLEL_DOWNLOADS","modelUploadInputElement","showModelDeleteConfirm","ollamaEnabled","OLLAMA_URLS","selectedOllamaUrlIdx","updateModelId","updateProgress","showExperimentalOllama","ollamaVersion","modelTransferring","modelTag","createModelLoading","createModelTag","createModelContent","createModelDigest","createModelPullProgress","digest","pullProgress","modelUploadMode","modelInputFile","modelFileUrl","modelFileContent","modelFileDigest","uploadProgress","uploadMessage","deleteModelTag","updateModelsHandler","$models","controller","pullModel","splitStream","done","lines","line","data","pullModelHandler","sanitizedModelTag","$MODEL_DOWNLOAD_POOL","MODEL_DOWNLOAD_POOL","downloadProgress","uploadModelHandler","uploaded","fileResponse","name","uploadModel","downloadModel","createModel","deleteModelHandler","deleteModel","cancelModelPullHandler","abortController","createModelHandler","getOllamaConfig","getOllamaUrls","getOllamaVersion","$$value","sensitiveinput_props","sensitiveinput_changes","OLLAMA_BASE_URLS","OPENAI_API_KEYS","OPENAI_API_BASE_URLS","pipelineUrls","ENABLE_OPENAI_API","ENABLE_OLLAMA_API","verifyOpenAIHandler","url","updateOpenAIUrls","updateOpenAIKeys","getOpenAIModels","verifyOllamaHandler","updateOllamaUrls","updateOpenAIHandler","diff","updateOllamaUrlsHandler","updateOllamaConfig","getOpenAIUrls","getOpenAIKeys","ollamaConfig","openaiConfig","getOpenAIConfig","updateOpenAIConfig","urlIdx","key","keyIdx","div53","div27","div26","div25","div24","hr3","div35","div28","div32","div31","div29","div30","div34","div33","hr4","div47","div36","div43","div39","div37","div38","div42","div40","div41","div46","div45","div44","hr5","div52","div48","div49","button4","div50","div51","div54","button5","t28","t28_value","t32","t32_value","t34","t34_value","t38","t38_value","t40","t40_value","t43","t43_value","t47","t47_value","t49","t49_value","t54","t54_value","t58","t58_value","t60","t60_value","t63","t63_value","t66","t66_value","t68","t68_value","t72","t72_value","t75","t75_value","t77","t77_value","scanDirLoading","updateEmbeddingModelLoading","updateRerankingModelLoading","showResetConfirm","showResetUploadDirConfirm","embeddingEngine","embeddingModel","rerankingModel","fileMaxSize","fileMaxCount","contentExtractionEngine","tikaServerUrl","showTikaServerUrl","chunkSize","chunkOverlap","pdfExtractImages","OpenAIKey","OpenAIUrl","OpenAIBatchSize","querySettings","scanHandler","scanDocs","documents","getDocs","embeddingModelUpdateHandler","updateEmbeddingConfig","setEmbeddingConfig","rerankingModelUpdateHandler","updateRerankingConfig","setRerankingConfig","submitHandler","updateRAGConfig","updateQuerySettings","embeddingConfig","getEmbeddingConfig","rerankingConfig","getRerankingConfig","toggleHybridSearch","getQuerySettings","getRAGConfig","deleteAllFiles","resetVectorDB","t19","t19_value","webConfig","webSearchEngines","youtubeLanguage","youtubeTranslation","lang","button0_class_value","button1_class_value","button2_class_value","button3_class_value","button4_class_value","button5_class_value","button6","button6_class_value","button7","button7_class_value","button8","button8_class_value","button9","button9_class_value","button10","button10_class_value","t31","t31_value","selectedTab","containerElement","event"],"mappings":"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"}