import{s as vl,e as d,t as U,k as A,c as h,a as _,b as C,d as u,o as D,A as ht,f as n,i as V,g as r,u as re,D as Ml,h as R,n as pt,F as Zt,j as zt,p as wl,q as Il,B as Ut,C as F,H as Jt,I as Et,E as Bt,K as Yt,J as Ct,y as wt,z as It,N as Ma,l as Gt,G as Oa,Z as Vl,M as ul}from"../chunks/scheduler.DB3Sqaa-.js";import{S as pl,i as gl,t as ae,g as Dt,a as ie,c as St,f as $t,b as Qe,d as Xe,m as xe,e as et}from"../chunks/index.CidI1d1E.js";import{t as Ue}from"../chunks/Toaster.svelte_svelte_type_style_lang.C-7zrEBl.js";import{f as Pi}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as Li,a as Ni}from"../chunks/index.vqieqdjN.js";import{d as Ul,m as il,u as Os,z as Ui,M as ma,n as Ci}from"../chunks/index.BUlp4Rdg.js";import{k as Ri,l as Hi,m as Bi}from"../chunks/index.BN08w03N.js";import{i as $i,e as Zi,s as ji,S as ml,g as Gi,a as Ki,b as Fi}from"../chunks/SensitiveInput.BxvmmM_b.js";import{b as zi,u as Wi,c as qi,d as Yi,a as ea,e as Ji,f as Qi,g as ba,h as Xi,i as xi,j as eo,k as to,l as lo,m as ao,n as so,o as ro}from"../chunks/index.CDXepxJu.js";import{b as no,c as io}from"../chunks/index.DCXY5bPz.js";import{S as kl}from"../chunks/Switch.C2EOWhLk.js";import{e as rt}from"../chunks/each.cN4tVpvB.js";import{S as Ea}from"../chunks/Spinner.BUWLBtIX.js";import{g as oo,a as uo,b as fo,u as co}from"../chunks/index.BpzFDba5.js";import{T as cs,v as ho,s as Va}from"../chunks/index.B8xbqn25.js";import{g as _o,a as vo,b as po,u as Er,c as go,v as kr}from"../chunks/index.CS2wDvAE.js";import{T as Qt}from"../chunks/create.DJSy4-Dz.js";import{a as Ai,b as Di,g as Vs,p as wr,d as Ir,c as yr,u as mo,e as bo,f as Tr,h as Ar}from"../chunks/index.CZIN57c3.js";import{C as Ms}from"../chunks/ConfirmDialog.BhA26OgX.js";import{a as Eo,b as ko,c as wo,d as Dr,u as Sr,e as Vr,f as Io}from"../chunks/index.CSL2-54a.js";import{g as yo}from"../chunks/index.DKiNIYsa.js";import{g as To,a as Si,s as Ao,b as Do,c as Vi,d as Mr,e as So,f as Vo,h as Mo,r as Oo,i as Po}from"../chunks/index.DU6l3aKX.js";function Or(a){let e,t,l,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',o,i,c=a[1].t("Download Database")+"",f,v,g,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,I,k=a[1].t("Export All Chats (All Users)")+"",w,E,y;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=s,o=A(),i=d("div"),f=U(c),v=A(),g=d("button"),p=d("div"),p.innerHTML=b,m=A(),I=d("div"),w=U(k),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=_(e);t=h(S,"BUTTON",{class:!0,type:!0});var P=_(t);l=h(P,"DIV",{class:!0,"data-svelte-h":!0}),ht(l)!=="svelte-1n29mwa"&&(l.innerHTML=s),o=D(P),i=h(P,"DIV",{class:!0});var $=_(i);f=C($,c),$.forEach(u),P.forEach(u),S.forEach(u),v=D(T),g=h(T,"BUTTON",{class:!0});var M=_(g);p=h(M,"DIV",{class:!0,"data-svelte-h":!0}),ht(p)!=="svelte-1l0oz0g"&&(p.innerHTML=b),m=D(M),I=h(M,"DIV",{class:!0});var Z=_(I);w=C(Z,k),Z.forEach(u),M.forEach(u),this.h()},h(){n(l,"class","self-center mr-3"),n(i,"class","self-center text-sm font-medium"),n(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"type","button"),n(e,"class","flex w-full justify-between"),n(p,"class","self-center mr-3"),n(I,"class","self-center text-sm font-medium"),n(g,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,S){V(T,e,S),r(e,t),r(t,l),r(t,o),r(t,i),r(i,f),V(T,v,S),V(T,g,S),r(g,p),r(g,m),r(g,I),r(I,w),E||(y=[re(t,"click",a[9]),re(g,"click",a[10])],E=!0)},p(T,S){S&2&&c!==(c=T[1].t("Download Database")+"")&&R(f,c),S&2&&k!==(k=T[1].t("Export All Chats (All Users)")+"")&&R(w,k)},d(T){T&&(u(e),u(v),u(g)),E=!1,Zt(y)}}}function Lo(a){var ee;let e,t,l,s,o=a[1].t("Database")+"",i,c,f,v,g,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,I,k=a[1].t("Import Config from JSON File")+"",w,E,y,T,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',P,$,M=a[1].t("Export Config to JSON File")+"",Z,W,G,q,L,H,B,O,N,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',Y,Q,J=a[1].t("Export LiteLLM config.yaml")+"",K,x,le,oe=(((ee=a[2])==null?void 0:ee.features.enable_admin_export)??!0)&&Or(a);return{c(){e=d("form"),t=d("div"),l=d("div"),s=d("div"),i=U(o),c=A(),f=d("input"),v=A(),g=d("button"),p=d("div"),p.innerHTML=b,m=A(),I=d("div"),w=U(k),E=A(),y=d("button"),T=d("div"),T.innerHTML=S,P=A(),$=d("div"),Z=U(M),W=A(),G=d("hr"),q=A(),oe&&oe.c(),L=A(),H=d("hr"),B=A(),O=d("button"),N=d("div"),N.innerHTML=j,Y=A(),Q=d("div"),K=U(J),this.h()},l(_e){e=h(_e,"FORM",{class:!0});var ue=_(e);t=h(ue,"DIV",{class:!0});var Te=_(t);l=h(Te,"DIV",{});var ce=_(l);s=h(ce,"DIV",{class:!0});var Me=_(s);i=C(Me,o),Me.forEach(u),c=D(ce),f=h(ce,"INPUT",{id:!0,type:!0,accept:!0}),v=D(ce),g=h(ce,"BUTTON",{type:!0,class:!0});var De=_(g);p=h(De,"DIV",{class:!0,"data-svelte-h":!0}),ht(p)!=="svelte-uk5zsu"&&(p.innerHTML=b),m=D(De),I=h(De,"DIV",{class:!0});var He=_(I);w=C(He,k),He.forEach(u),De.forEach(u),E=D(ce),y=h(ce,"BUTTON",{type:!0,class:!0});var ke=_(y);T=h(ke,"DIV",{class:!0,"data-svelte-h":!0}),ht(T)!=="svelte-uk5zsu"&&(T.innerHTML=S),P=D(ke),$=h(ke,"DIV",{class:!0});var Ge=_($);Z=C(Ge,M),Ge.forEach(u),ke.forEach(u),W=D(ce),G=h(ce,"HR",{class:!0}),q=D(ce),oe&&oe.l(ce),L=D(ce),H=h(ce,"HR",{class:!0}),B=D(ce),O=h(ce,"BUTTON",{type:!0,class:!0});var me=_(O);N=h(me,"DIV",{class:!0,"data-svelte-h":!0}),ht(N)!=="svelte-uk5zsu"&&(N.innerHTML=j),Y=D(me),Q=h(me,"DIV",{class:!0});var Ae=_(Q);K=C(Ae,J),Ae.forEach(u),me.forEach(u),ce.forEach(u),Te.forEach(u),ue.forEach(u),this.h()},h(){n(s,"class","mb-2 text-sm font-medium"),n(f,"id","config-json-input"),f.hidden=!0,n(f,"type","file"),n(f,"accept",".json"),n(p,"class","self-center mr-3"),n(I,"class","self-center text-sm font-medium"),n(g,"type","button"),n(g,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(T,"class","self-center mr-3"),n($,"class","self-center text-sm font-medium"),n(y,"type","button"),n(y,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(G,"class","dark:border-gray-850 my-1"),n(H,"class","dark:border-gray-850 my-1"),n(N,"class","self-center mr-3"),n(Q,"class","self-center text-sm font-medium"),n(O,"type","button"),n(O,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(_e,ue){V(_e,e,ue),r(e,t),r(t,l),r(l,s),r(s,i),r(l,c),r(l,f),r(l,v),r(l,g),r(g,p),r(g,m),r(g,I),r(I,w),r(l,E),r(l,y),r(y,T),r(y,P),r(y,$),r($,Z),r(l,W),r(l,G),r(l,q),oe&&oe.m(l,null),r(l,L),r(l,H),r(l,B),r(l,O),r(O,N),r(O,Y),r(O,Q),r(Q,K),x||(le=[re(f,"change",a[6]),re(g,"click",a[7]),re(y,"click",a[8]),re(O,"click",a[11]),re(e,"submit",Ml(a[12]))],x=!0)},p(_e,[ue]){var Te;ue&2&&o!==(o=_e[1].t("Database")+"")&&R(i,o),ue&2&&k!==(k=_e[1].t("Import Config from JSON File")+"")&&R(w,k),ue&2&&M!==(M=_e[1].t("Export Config to JSON File")+"")&&R(Z,M),((Te=_e[2])==null?void 0:Te.features.enable_admin_export)??!0?oe?oe.p(_e,ue):(oe=Or(_e),oe.c(),oe.m(l,L)):oe&&(oe.d(1),oe=null),ue&2&&J!==(J=_e[1].t("Export LiteLLM config.yaml")+"")&&R(K,J)},i:pt,o:pt,d(_e){_e&&u(e),oe&&oe.d(),x=!1,Zt(le)}}}function No(a,e,t){let l,s;zt(a,Ul,w=>t(2,s=w));const{saveAs:o}=Pi,i=wl("i18n");zt(a,i,w=>t(1,l=w));let{saveHandler:c}=e;const f=async()=>{let w=new Blob([JSON.stringify(await Ri(localStorage.token))],{type:"application/json"});o(w,`all-chats-export-${Date.now()}.json`)};Il(async()=>{});const v=w=>{const E=w.target.files[0],y=new FileReader;y.onload=async T=>{await $i(localStorage.token,JSON.parse(T.target.result)).catch(P=>{Ue.error(P)})&&Ue.success("Config imported successfully"),T.target.value=null},y.readAsText(E)},g=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await Zi(localStorage.token),E=new Blob([JSON.stringify(w)],{type:"application/json"});o(E,`config-${Date.now()}.json`)},b=()=>{Li(localStorage.token).catch(w=>{Ue.error(w)})},m=()=>{f()},I=()=>{Ni(localStorage.token).catch(w=>{Ue.error(w)})},k=async()=>{c()};return a.$$set=w=>{"saveHandler"in w&&t(0,c=w.saveHandler)},[c,l,s,o,i,f,v,g,p,b,m,I,k]}class Uo extends pl{constructor(e){super(),gl(this,e,No,Lo,vl,{saveHandler:0})}}function Pr(a){let e,t,l=a[2].t("General Settings")+"",s,o,i,c,f=a[2].t("Enable New Sign Ups")+"",v,g,p,b,m,I,k,w=a[2].t("Default User Role")+"",E,y,T,S,P,$=a[2].t("pending")+"",M,Z,W=a[2].t("user")+"",G,q,L=a[2].t("admin")+"",H,B,O,N,j,Y,Q=a[2].t("Show Admin Details in Account Pending Overlay")+"",J,K,x,le,oe,ee,_e,ue=a[2].t("Enable Community Sharing")+"",Te,ce,Me,De,He,ke,Ge,me=a[2].t("Enable Message Rating")+"",Ae,Ce,we,Le,ze,Re,Ye,at,ve,Se,pe=a[2].t("JWT Expiration")+"",fe,Ie,ne,Ve,Be,Oe,X=a[2].t("Valid time units:")+"",se,Pe,Ke,We=a[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",nt,qe,Je,tt,ct,ot,ge,ft=a[2].t("Webhook URL")+"",lt,st,de,te,z,he,Ne;function ye($e){a[6]($e)}let Ee={};a[0].ENABLE_SIGNUP!==void 0&&(Ee.state=a[0].ENABLE_SIGNUP),p=new kl({props:Ee}),Ut.push(()=>$t(p,"state",ye));function ut($e){a[8]($e)}let _t={};a[0].SHOW_ADMIN_DETAILS!==void 0&&(_t.state=a[0].SHOW_ADMIN_DETAILS),x=new kl({props:_t}),Ut.push(()=>$t(x,"state",ut));function yt($e){a[9]($e)}let Rt={};a[0].ENABLE_COMMUNITY_SHARING!==void 0&&(Rt.state=a[0].ENABLE_COMMUNITY_SHARING),Me=new kl({props:Rt}),Ut.push(()=>$t(Me,"state",yt));function jt($e){a[10]($e)}let Pt={};return a[0].ENABLE_MESSAGE_RATING!==void 0&&(Pt.state=a[0].ENABLE_MESSAGE_RATING),we=new kl({props:Pt}),Ut.push(()=>$t(we,"state",jt)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),v=U(f),g=A(),Qe(p.$$.fragment),m=A(),I=d("div"),k=d("div"),E=U(w),y=A(),T=d("div"),S=d("select"),P=d("option"),M=U($),Z=d("option"),G=U(W),q=d("option"),H=U(L),B=A(),O=d("hr"),N=A(),j=d("div"),Y=d("div"),J=U(Q),K=A(),Qe(x.$$.fragment),oe=A(),ee=d("div"),_e=d("div"),Te=U(ue),ce=A(),Qe(Me.$$.fragment),He=A(),ke=d("div"),Ge=d("div"),Ae=U(me),Ce=A(),Qe(we.$$.fragment),ze=A(),Re=d("hr"),Ye=A(),at=d("div"),ve=d("div"),Se=d("div"),fe=U(pe),Ie=A(),ne=d("div"),Ve=d("input"),Be=A(),Oe=d("div"),se=U(X),Pe=A(),Ke=d("span"),nt=U(We),qe=A(),Je=d("hr"),tt=A(),ct=d("div"),ot=d("div"),ge=d("div"),lt=U(ft),st=A(),de=d("div"),te=d("input"),this.h()},l($e){e=h($e,"DIV",{});var Ze=_(e);t=h(Ze,"DIV",{class:!0});var Vt=_(t);s=C(Vt,l),Vt.forEach(u),o=D(Ze),i=h(Ze,"DIV",{class:!0});var Mt=_(i);c=h(Mt,"DIV",{class:!0});var mt=_(c);v=C(mt,f),mt.forEach(u),g=D(Mt),Xe(p.$$.fragment,Mt),Mt.forEach(u),m=D(Ze),I=h(Ze,"DIV",{class:!0});var bt=_(I);k=h(bt,"DIV",{class:!0});var gt=_(k);E=C(gt,w),gt.forEach(u),y=D(bt),T=h(bt,"DIV",{class:!0});var kt=_(T);S=h(kt,"SELECT",{class:!0,placeholder:!0});var it=_(S);P=h(it,"OPTION",{});var Ht=_(P);M=C(Ht,$),Ht.forEach(u),Z=h(it,"OPTION",{});var Ft=_(Z);G=C(Ft,W),Ft.forEach(u),q=h(it,"OPTION",{});var Kt=_(q);H=C(Kt,L),Kt.forEach(u),it.forEach(u),kt.forEach(u),bt.forEach(u),B=D(Ze),O=h(Ze,"HR",{class:!0}),N=D(Ze),j=h(Ze,"DIV",{class:!0});var Lt=_(j);Y=h(Lt,"DIV",{class:!0});var Tt=_(Y);J=C(Tt,Q),Tt.forEach(u),K=D(Lt),Xe(x.$$.fragment,Lt),Lt.forEach(u),oe=D(Ze),ee=h(Ze,"DIV",{class:!0});var Fe=_(ee);_e=h(Fe,"DIV",{class:!0});var dt=_(_e);Te=C(dt,ue),dt.forEach(u),ce=D(Fe),Xe(Me.$$.fragment,Fe),Fe.forEach(u),He=D(Ze),ke=h(Ze,"DIV",{class:!0});var vt=_(ke);Ge=h(vt,"DIV",{class:!0});var Xt=_(Ge);Ae=C(Xt,me),Xt.forEach(u),Ce=D(vt),Xe(we.$$.fragment,vt),vt.forEach(u),ze=D(Ze),Re=h(Ze,"HR",{class:!0}),Ye=D(Ze),at=h(Ze,"DIV",{class:!0});var Nt=_(at);ve=h(Nt,"DIV",{class:!0});var Wt=_(ve);Se=h(Wt,"DIV",{class:!0});var fl=_(Se);fe=C(fl,pe),fl.forEach(u),Wt.forEach(u),Ie=D(Nt),ne=h(Nt,"DIV",{class:!0});var el=_(ne);Ve=h(el,"INPUT",{class:!0,type:!0,placeholder:!0}),el.forEach(u),Be=D(Nt),Oe=h(Nt,"DIV",{class:!0});var yl=_(Oe);se=C(yl,X),Pe=D(yl),Ke=h(yl,"SPAN",{class:!0});var xt=_(Ke);nt=C(xt,We),xt.forEach(u),yl.forEach(u),Nt.forEach(u),qe=D(Ze),Je=h(Ze,"HR",{class:!0}),tt=D(Ze),ct=h(Ze,"DIV",{class:!0});var tl=_(ct);ot=h(tl,"DIV",{class:!0});var cl=_(ot);ge=h(cl,"DIV",{class:!0});var Tl=_(ge);lt=C(Tl,ft),Tl.forEach(u),cl.forEach(u),st=D(tl),de=h(tl,"DIV",{class:!0});var bl=_(de);te=h(bl,"INPUT",{class:!0,type:!0,placeholder:!0}),bl.forEach(u),tl.forEach(u),Ze.forEach(u),this.h()},h(){n(t,"class","mb-3 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(i,"class","flex w-full justify-between pr-2"),n(k,"class","self-center text-xs font-medium"),P.__value="pending",F(P,P.__value),Z.__value="user",F(Z,Z.__value),q.__value="admin",F(q,q.__value),n(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),n(S,"placeholder","Select a role"),a[0].DEFAULT_USER_ROLE===void 0&&Jt(()=>a[7].call(S)),n(T,"class","flex items-center relative"),n(I,"class","my-3 flex w-full justify-between"),n(O,"class","dark:border-gray-850 my-2"),n(Y,"class","self-center text-xs font-medium"),n(j,"class","my-3 flex w-full items-center justify-between pr-2"),n(_e,"class","self-center text-xs font-medium"),n(ee,"class","my-3 flex w-full items-center justify-between pr-2"),n(Ge,"class","self-center text-xs font-medium"),n(ke,"class","my-3 flex w-full items-center justify-between pr-2"),n(Re,"class","dark:border-gray-850 my-2"),n(Se,"class","self-center text-xs font-medium"),n(ve,"class","flex w-full justify-between"),n(Ve,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Ve,"type","text"),n(Ve,"placeholder",'e.g.) "30m","1h", "10d". '),n(ne,"class","flex mt-2 space-x-2"),n(Ke,"class","text-gray-300 font-medium"),n(Oe,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(at,"class","w-full justify-between"),n(Je,"class","dark:border-gray-850 my-2"),n(ge,"class","self-center text-xs font-medium"),n(ot,"class","flex w-full justify-between"),n(te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(te,"type","text"),n(te,"placeholder","https://example.com/webhook"),n(de,"class","flex mt-2 space-x-2"),n(ct,"class","w-full justify-between")},m($e,Ze){V($e,e,Ze),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,v),r(i,g),xe(p,i,null),r(e,m),r(e,I),r(I,k),r(k,E),r(I,y),r(I,T),r(T,S),r(S,P),r(P,M),r(S,Z),r(Z,G),r(S,q),r(q,H),Et(S,a[0].DEFAULT_USER_ROLE,!0),r(e,B),r(e,O),r(e,N),r(e,j),r(j,Y),r(Y,J),r(j,K),xe(x,j,null),r(e,oe),r(e,ee),r(ee,_e),r(_e,Te),r(ee,ce),xe(Me,ee,null),r(e,He),r(e,ke),r(ke,Ge),r(Ge,Ae),r(ke,Ce),xe(we,ke,null),r(e,ze),r(e,Re),r(e,Ye),r(e,at),r(at,ve),r(ve,Se),r(Se,fe),r(at,Ie),r(at,ne),r(ne,Ve),F(Ve,a[0].JWT_EXPIRES_IN),r(at,Be),r(at,Oe),r(Oe,se),r(Oe,Pe),r(Oe,Ke),r(Ke,nt),r(e,qe),r(e,Je),r(e,tt),r(e,ct),r(ct,ot),r(ot,ge),r(ge,lt),r(ct,st),r(ct,de),r(de,te),F(te,a[1]),z=!0,he||(Ne=[re(S,"change",a[7]),re(Ve,"input",a[11]),re(te,"input",a[12])],he=!0)},p($e,Ze){(!z||Ze&4)&&l!==(l=$e[2].t("General Settings")+"")&&R(s,l),(!z||Ze&4)&&f!==(f=$e[2].t("Enable New Sign Ups")+"")&&R(v,f);const Vt={};!b&&Ze&1&&(b=!0,Vt.state=$e[0].ENABLE_SIGNUP,Bt(()=>b=!1)),p.$set(Vt),(!z||Ze&4)&&w!==(w=$e[2].t("Default User Role")+"")&&R(E,w),(!z||Ze&4)&&$!==($=$e[2].t("pending")+"")&&R(M,$),(!z||Ze&4)&&W!==(W=$e[2].t("user")+"")&&R(G,W),(!z||Ze&4)&&L!==(L=$e[2].t("admin")+"")&&R(H,L),Ze&1&&Et(S,$e[0].DEFAULT_USER_ROLE),(!z||Ze&4)&&Q!==(Q=$e[2].t("Show Admin Details in Account Pending Overlay")+"")&&R(J,Q);const Mt={};!le&&Ze&1&&(le=!0,Mt.state=$e[0].SHOW_ADMIN_DETAILS,Bt(()=>le=!1)),x.$set(Mt),(!z||Ze&4)&&ue!==(ue=$e[2].t("Enable Community Sharing")+"")&&R(Te,ue);const mt={};!De&&Ze&1&&(De=!0,mt.state=$e[0].ENABLE_COMMUNITY_SHARING,Bt(()=>De=!1)),Me.$set(mt),(!z||Ze&4)&&me!==(me=$e[2].t("Enable Message Rating")+"")&&R(Ae,me);const bt={};!Le&&Ze&1&&(Le=!0,bt.state=$e[0].ENABLE_MESSAGE_RATING,Bt(()=>Le=!1)),we.$set(bt),(!z||Ze&4)&&pe!==(pe=$e[2].t("JWT Expiration")+"")&&R(fe,pe),Ze&1&&Ve.value!==$e[0].JWT_EXPIRES_IN&&F(Ve,$e[0].JWT_EXPIRES_IN),(!z||Ze&4)&&X!==(X=$e[2].t("Valid time units:")+"")&&R(se,X),(!z||Ze&4)&&We!==(We=$e[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&R(nt,We),(!z||Ze&4)&&ft!==(ft=$e[2].t("Webhook URL")+"")&&R(lt,ft),Ze&2&&te.value!==$e[1]&&F(te,$e[1])},i($e){z||(ae(p.$$.fragment,$e),ae(x.$$.fragment,$e),ae(Me.$$.fragment,$e),ae(we.$$.fragment,$e),z=!0)},o($e){ie(p.$$.fragment,$e),ie(x.$$.fragment,$e),ie(Me.$$.fragment,$e),ie(we.$$.fragment,$e),z=!1},d($e){$e&&u(e),et(p),et(x),et(Me),et(we),he=!1,Zt(Ne)}}}function Co(a){let e,t,l,s,o,i=a[2].t("Save")+"",c,f,v,g,p=a[0]!==null&&Pr(a);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=A(),s=d("div"),o=d("button"),c=U(i),this.h()},l(b){e=h(b,"FORM",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);p&&p.l(I),I.forEach(u),l=D(m),s=h(m,"DIV",{class:!0});var k=_(s);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=C(w,i),w.forEach(u),k.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(s,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(b,m){V(b,e,m),r(e,t),p&&p.m(t,null),r(e,l),r(e,s),r(s,o),r(o,c),f=!0,v||(g=re(e,"submit",Ml(a[13])),v=!0)},p(b,[m]){b[0]!==null?p?(p.p(b,m),m&1&&ae(p,1)):(p=Pr(b),p.c(),ae(p,1),p.m(t,null)):p&&(Dt(),ie(p,1,1,()=>{p=null}),St()),(!f||m&4)&&i!==(i=b[2].t("Save")+"")&&R(c,i)},i(b){f||(ae(p),f=!0)},o(b){ie(p),f=!1},d(b){b&&u(e),p&&p.d(),v=!1,g()}}}function Ro(a,e,t){let l;const s=wl("i18n");zt(a,s,E=>t(2,l=E));let{saveHandler:o}=e,i=null,c="";const f=async()=>{t(1,c=await Wi(localStorage.token,c)),await io(localStorage.token,i)?o():Ue.error(s.t("Failed to update settings"))};Il(async()=>{await Promise.all([(async()=>{t(0,i=await no(localStorage.token))})(),(async()=>{t(1,c=await zi(localStorage.token))})()])});function v(E){a.$$.not_equal(i.ENABLE_SIGNUP,E)&&(i.ENABLE_SIGNUP=E,t(0,i))}function g(){i.DEFAULT_USER_ROLE=Yt(this),t(0,i)}function p(E){a.$$.not_equal(i.SHOW_ADMIN_DETAILS,E)&&(i.SHOW_ADMIN_DETAILS=E,t(0,i))}function b(E){a.$$.not_equal(i.ENABLE_COMMUNITY_SHARING,E)&&(i.ENABLE_COMMUNITY_SHARING=E,t(0,i))}function m(E){a.$$.not_equal(i.ENABLE_MESSAGE_RATING,E)&&(i.ENABLE_MESSAGE_RATING=E,t(0,i))}function I(){i.JWT_EXPIRES_IN=this.value,t(0,i)}function k(){c=this.value,t(1,c)}const w=async()=>{f()};return a.$$set=E=>{"saveHandler"in E&&t(5,o=E.saveHandler)},[i,c,l,s,f,o,v,g,p,b,m,I,k,w]}class Ho extends pl{constructor(e){super(),gl(this,e,Ro,Co,vl,{saveHandler:5})}}function Lr(a,e,t){const l=a.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Nr(a,e,t){const l=a.slice();return l[21]=e[t],l}function Ur(a,e,t){const l=a.slice();return l[21]=e[t],l}function Bo(a){let e,t,l,s,o=a[5].t("Don't Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function $o(a){let e,t,l,s,o=a[5].t("Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function Zo(a){let e,t,l,s,o=a[5].t("Don't Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function jo(a){let e,t,l,s,o=a[5].t("Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function Go(a){let e,t,l,s,o=a[5].t("Don't Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Don't Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function Ko(a){let e,t,l,s,o=a[5].t("Allow")+"",i;return{c(){e=wt("svg"),t=wt("path"),l=A(),s=d("span"),i=U(o),this.h()},l(c){e=It(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(e);t=It(f,"path",{d:!0}),_(t).forEach(u),f.forEach(u),l=D(c),s=h(c,"SPAN",{class:!0});var v=_(s);i=C(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(s,"class","ml-2 self-center")},m(c,f){V(c,e,f),r(e,t),V(c,l,f),V(c,s,f),r(s,i)},p(c,f){f&32&&o!==(o=c[5].t("Allow")+"")&&R(i,o)},d(c){c&&(u(e),u(l),u(s))}}}function Cr(a){let e,t=a[21].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[21].id,F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){V(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&s!==(s=o[21].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function Rr(a){let e,t,l,s,o,i=a[3].length+"",c,f,v=a[5].t("Model(s) Whitelisted")+"",g,p=rt(a[3]),b=[];for(let m=0;m<p.length;m+=1)b[m]=Br(Lr(a,p,m));return{c(){e=d("div"),t=d("div");for(let m=0;m<b.length;m+=1)b[m].c();l=A(),s=d("div"),o=d("div"),c=U(i),f=A(),g=U(v),this.h()},l(m){e=h(m,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var k=_(t);for(let y=0;y<b.length;y+=1)b[y].l(k);k.forEach(u),l=D(I),s=h(I,"DIV",{class:!0});var w=_(s);o=h(w,"DIV",{class:!0});var E=_(o);c=C(E,i),f=D(E),g=C(E,v),E.forEach(u),w.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","space-y-1.5"),n(o,"class","text-xs font-medium"),n(s,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(m,I){V(m,e,I),r(e,t);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(t,null);r(e,l),r(e,s),r(s,o),r(o,c),r(o,f),r(o,g)},p(m,I){if(I&104){p=rt(m[3]);let k;for(k=0;k<p.length;k+=1){const w=Lr(m,p,k);b[k]?b[k].p(w,I):(b[k]=Br(w),b[k].c(),b[k].m(t,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=p.length}I&8&&i!==(i=m[3].length+"")&&R(c,i),I&32&&v!==(v=m[5].t("Model(s) Whitelisted")+"")&&R(g,v)},d(m){m&&u(e),Ct(b,m)}}}function Hr(a){let e,t=a[21].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[21].id,F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){V(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&s!==(s=o[21].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function Fo(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,s;function o(){return a[15](a[20])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function zo(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,s;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(o,i){V(o,e,i),l||(s=re(e,"click",a[14]),l=!0)},p:pt,d(o){o&&u(e),l=!1,s()}}}function Br(a){let e,t,l,s,o=a[5].t("Select a model")+"",i,c,f,v,g,p=rt(a[6].filter(Zr)),b=[];for(let E=0;E<p.length;E+=1)b[E]=Hr(Nr(a,p,E));function m(){a[13].call(l,a[19],a[20])}function I(E,y){return E[20]===0?zo:Fo}let w=I(a)(a);return{c(){e=d("div"),t=d("div"),l=d("select"),s=d("option"),i=U(o);for(let E=0;E<b.length;E+=1)b[E].c();c=A(),w.c(),f=A(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var S=_(l);s=h(S,"OPTION",{});var P=_(s);i=C(P,o),P.forEach(u);for(let $=0;$<b.length;$+=1)b[$].l(S);S.forEach(u),T.forEach(u),c=D(y),w.l(y),f=D(y),y.forEach(u),this.h()},h(){s.__value="",F(s,s.__value),s.disabled=!0,s.selected=!0,n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","Select a model"),a[18]===void 0&&Jt(m),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(E,y){V(E,e,y),r(e,t),r(t,l),r(l,s),r(s,i);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(l,null);Et(l,a[18],!0),r(e,c),w.m(e,null),r(e,f),v||(g=re(l,"change",m),v=!0)},p(E,y){if(a=E,y&32&&o!==(o=a[5].t("Select a model")+"")&&R(i,o),y&64){p=rt(a[6].filter(Zr));let T;for(T=0;T<p.length;T+=1){const S=Nr(a,p,T);b[T]?b[T].p(S,y):(b[T]=Hr(S),b[T].c(),b[T].m(l,null))}for(;T<b.length;T+=1)b[T].d(1);b.length=p.length}y&72&&Et(l,a[18]),w.p(a,y)},d(E){E&&u(e),Ct(b,E),w.d(),v=!1,g()}}}function Wo(a){let e,t,l,s,o=a[5].t("User Permissions")+"",i,c,f,v,g=a[5].t("Allow Chat Deletion")+"",p,b,m,I,k,w,E=a[5].t("Allow Chat Editing")+"",y,T,S,P,$,M,Z=a[5].t("Allow Temporary Chat")+"",W,G,q,L,H,B,O,N,j,Y,Q,J=a[5].t("Manage Models")+"",K,x,le,oe,ee,_e,ue=a[5].t("Default Model")+"",Te,ce,Me,De,He,ke=a[5].t("Select a model")+"",Ge,me,Ae,Ce,we,Le,ze=a[5].t("Model Whitelisting")+"",Re,Ye,at,ve,Se,pe,fe,Ie,ne=a[5].t("Save")+"",Ve,Be,Oe,X;function se(de,te){var z,he;return((he=(z=de[4])==null?void 0:z.chat)==null?void 0:he.deletion)??!0?$o:Bo}let Pe=se(a),Ke=Pe(a);function We(de,te){var z,he;return((he=(z=de[4])==null?void 0:z.chat)==null?void 0:he.editing)??!0?jo:Zo}let nt=We(a),qe=nt(a);function Je(de,te){var z,he;return((he=(z=de[4])==null?void 0:z.chat)==null?void 0:he.temporary)??!0?Ko:Go}let tt=Je(a),ct=tt(a),ot=rt(a[6].filter($r)),ge=[];for(let de=0;de<ot.length;de+=1)ge[de]=Cr(Ur(a,ot,de));function ft(de){a[12](de)}let lt={};a[2]!==void 0&&(lt.state=a[2]),at=new kl({props:lt}),Ut.push(()=>$t(at,"state",ft));let st=a[2]&&Rr(a);return{c(){e=d("form"),t=d("div"),l=d("div"),s=d("div"),i=U(o),c=A(),f=d("div"),v=d("div"),p=U(g),b=A(),m=d("button"),Ke.c(),I=A(),k=d("div"),w=d("div"),y=U(E),T=A(),S=d("button"),qe.c(),P=A(),$=d("div"),M=d("div"),W=U(Z),G=A(),q=d("button"),ct.c(),L=A(),H=d("hr"),B=A(),O=d("div"),N=d("div"),j=d("div"),Y=d("div"),Q=d("div"),K=U(J),x=A(),le=d("div"),oe=d("div"),ee=d("div"),_e=d("div"),Te=U(ue),ce=A(),Me=d("div"),De=d("select"),He=d("option"),Ge=U(ke);for(let de=0;de<ge.length;de+=1)ge[de].c();me=A(),Ae=d("div"),Ce=d("div"),we=d("div"),Le=d("div"),Re=U(ze),Ye=A(),Qe(at.$$.fragment),Se=A(),st&&st.c(),pe=A(),fe=d("div"),Ie=d("button"),Ve=U(ne),this.h()},l(de){e=h(de,"FORM",{class:!0});var te=_(e);t=h(te,"DIV",{class:!0});var z=_(t);l=h(z,"DIV",{});var he=_(l);s=h(he,"DIV",{class:!0});var Ne=_(s);i=C(Ne,o),Ne.forEach(u),c=D(he),f=h(he,"DIV",{class:!0});var ye=_(f);v=h(ye,"DIV",{class:!0});var Ee=_(v);p=C(Ee,g),Ee.forEach(u),b=D(ye),m=h(ye,"BUTTON",{class:!0,type:!0});var ut=_(m);Ke.l(ut),ut.forEach(u),ye.forEach(u),I=D(he),k=h(he,"DIV",{class:!0});var _t=_(k);w=h(_t,"DIV",{class:!0});var yt=_(w);y=C(yt,E),yt.forEach(u),T=D(_t),S=h(_t,"BUTTON",{class:!0,type:!0});var Rt=_(S);qe.l(Rt),Rt.forEach(u),_t.forEach(u),P=D(he),$=h(he,"DIV",{class:!0});var jt=_($);M=h(jt,"DIV",{class:!0});var Pt=_(M);W=C(Pt,Z),Pt.forEach(u),G=D(jt),q=h(jt,"BUTTON",{class:!0,type:!0});var $e=_(q);ct.l($e),$e.forEach(u),jt.forEach(u),he.forEach(u),L=D(z),H=h(z,"HR",{class:!0}),B=D(z),O=h(z,"DIV",{class:!0});var Ze=_(O);N=h(Ze,"DIV",{});var Vt=_(N);j=h(Vt,"DIV",{class:!0});var Mt=_(j);Y=h(Mt,"DIV",{class:!0});var mt=_(Y);Q=h(mt,"DIV",{class:!0});var bt=_(Q);K=C(bt,J),bt.forEach(u),mt.forEach(u),Mt.forEach(u),x=D(Vt),le=h(Vt,"DIV",{class:!0});var gt=_(le);oe=h(gt,"DIV",{class:!0});var kt=_(oe);ee=h(kt,"DIV",{class:!0});var it=_(ee);_e=h(it,"DIV",{class:!0});var Ht=_(_e);Te=C(Ht,ue),Ht.forEach(u),it.forEach(u),kt.forEach(u),ce=D(gt),Me=h(gt,"DIV",{class:!0});var Ft=_(Me);De=h(Ft,"SELECT",{class:!0,placeholder:!0});var Kt=_(De);He=h(Kt,"OPTION",{});var Lt=_(He);Ge=C(Lt,ke),Lt.forEach(u);for(let Wt=0;Wt<ge.length;Wt+=1)ge[Wt].l(Kt);Kt.forEach(u),Ft.forEach(u),gt.forEach(u),me=D(Vt),Ae=h(Vt,"DIV",{class:!0});var Tt=_(Ae);Ce=h(Tt,"DIV",{class:!0});var Fe=_(Ce);we=h(Fe,"DIV",{class:!0});var dt=_(we);Le=h(dt,"DIV",{class:!0});var vt=_(Le);Re=C(vt,ze),vt.forEach(u),Ye=D(dt),Xe(at.$$.fragment,dt),dt.forEach(u),Fe.forEach(u),Se=D(Tt),st&&st.l(Tt),Tt.forEach(u),Vt.forEach(u),Ze.forEach(u),z.forEach(u),pe=D(te),fe=h(te,"DIV",{class:!0});var Xt=_(fe);Ie=h(Xt,"BUTTON",{class:!0,type:!0});var Nt=_(Ie);Ve=C(Nt,ne),Nt.forEach(u),Xt.forEach(u),te.forEach(u),this.h()},h(){n(s,"class","mb-2 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(m,"class","p-1 px-3 text-xs flex rounded transition"),n(m,"type","button"),n(f,"class","flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),n(S,"class","p-1 px-3 text-xs flex rounded transition"),n(S,"type","button"),n(k,"class","flex w-full justify-between"),n(M,"class","self-center text-xs font-medium"),n(q,"class","p-1 px-3 text-xs flex rounded transition"),n(q,"type","button"),n($,"class","flex w-full justify-between"),n(H,"class","dark:border-gray-850 my-2"),n(Q,"class","text-sm font-medium"),n(Y,"class","flex justify-between items-center text-xs"),n(j,"class","mb-2"),n(_e,"class","text-xs font-medium"),n(ee,"class","flex justify-between items-center text-xs"),n(oe,"class","mb-2"),He.__value="",F(He,He.__value),He.disabled=!0,He.selected=!0,n(De,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(De,"placeholder","Select a model"),a[1]===void 0&&Jt(()=>a[11].call(De)),n(Me,"class","flex-1 mr-2"),n(le,"class","space-y-1 mb-3"),n(Le,"class","text-xs font-medium"),n(we,"class","flex justify-between items-center text-xs"),n(Ce,"class","mb-2"),n(Ae,"class","space-y-1"),n(O,"class","mt-2 space-y-3"),n(t,"class","space-y-3 overflow-y-scroll max-h-full"),n(Ie,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ie,"type","submit"),n(fe,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,te){V(de,e,te),r(e,t),r(t,l),r(l,s),r(s,i),r(l,c),r(l,f),r(f,v),r(v,p),r(f,b),r(f,m),Ke.m(m,null),r(l,I),r(l,k),r(k,w),r(w,y),r(k,T),r(k,S),qe.m(S,null),r(l,P),r(l,$),r($,M),r(M,W),r($,G),r($,q),ct.m(q,null),r(t,L),r(t,H),r(t,B),r(t,O),r(O,N),r(N,j),r(j,Y),r(Y,Q),r(Q,K),r(N,x),r(N,le),r(le,oe),r(oe,ee),r(ee,_e),r(_e,Te),r(le,ce),r(le,Me),r(Me,De),r(De,He),r(He,Ge);for(let z=0;z<ge.length;z+=1)ge[z]&&ge[z].m(De,null);Et(De,a[1],!0),r(N,me),r(N,Ae),r(Ae,Ce),r(Ce,we),r(we,Le),r(Le,Re),r(we,Ye),xe(at,we,null),r(Ae,Se),st&&st.m(Ae,null),r(e,pe),r(e,fe),r(fe,Ie),r(Ie,Ve),Be=!0,Oe||(X=[re(m,"click",a[8]),re(S,"click",a[9]),re(q,"click",a[10]),re(De,"change",a[11]),re(e,"submit",Ml(a[16]))],Oe=!0)},p(de,[te]){if((!Be||te&32)&&o!==(o=de[5].t("User Permissions")+"")&&R(i,o),(!Be||te&32)&&g!==(g=de[5].t("Allow Chat Deletion")+"")&&R(p,g),Pe===(Pe=se(de))&&Ke?Ke.p(de,te):(Ke.d(1),Ke=Pe(de),Ke&&(Ke.c(),Ke.m(m,null))),(!Be||te&32)&&E!==(E=de[5].t("Allow Chat Editing")+"")&&R(y,E),nt===(nt=We(de))&&qe?qe.p(de,te):(qe.d(1),qe=nt(de),qe&&(qe.c(),qe.m(S,null))),(!Be||te&32)&&Z!==(Z=de[5].t("Allow Temporary Chat")+"")&&R(W,Z),tt===(tt=Je(de))&&ct?ct.p(de,te):(ct.d(1),ct=tt(de),ct&&(ct.c(),ct.m(q,null))),(!Be||te&32)&&J!==(J=de[5].t("Manage Models")+"")&&R(K,J),(!Be||te&32)&&ue!==(ue=de[5].t("Default Model")+"")&&R(Te,ue),(!Be||te&32)&&ke!==(ke=de[5].t("Select a model")+"")&&R(Ge,ke),te&64){ot=rt(de[6].filter($r));let he;for(he=0;he<ot.length;he+=1){const Ne=Ur(de,ot,he);ge[he]?ge[he].p(Ne,te):(ge[he]=Cr(Ne),ge[he].c(),ge[he].m(De,null))}for(;he<ge.length;he+=1)ge[he].d(1);ge.length=ot.length}te&66&&Et(De,de[1]),(!Be||te&32)&&ze!==(ze=de[5].t("Model Whitelisting")+"")&&R(Re,ze);const z={};!ve&&te&4&&(ve=!0,z.state=de[2],Bt(()=>ve=!1)),at.$set(z),de[2]?st?st.p(de,te):(st=Rr(de),st.c(),st.m(Ae,null)):st&&(st.d(1),st=null),(!Be||te&32)&&ne!==(ne=de[5].t("Save")+"")&&R(Ve,ne)},i(de){Be||(ae(at.$$.fragment,de),Be=!0)},o(de){ie(at.$$.fragment,de),Be=!1},d(de){de&&u(e),Ke.d(),qe.d(),ct.d(),Ct(ge,de),et(at),st&&st.d(),Oe=!1,Zt(X)}}}const $r=a=>a.id,Zr=a=>a.id;function qo(a,e,t){let l,s,o;zt(a,Ul,P=>t(17,l=P)),zt(a,il,P=>t(6,o=P));const i=wl("i18n");zt(a,i,P=>t(5,s=P));let{saveHandler:c}=e,f="",v=!1,g=[""],p={chat:{deletion:!0,edit:!0,temporary:!0}};Il(async()=>{t(4,p=await Hi(localStorage.token));const P=await qi(localStorage.token);P&&(t(2,v=P.enabled),t(3,g=P.models.length>0?P.models:[""])),t(1,f=l.default_models?l==null?void 0:l.default_models.split(",")[0]:"")});const b=()=>{var P;t(4,p.chat.deletion=!(((P=p==null?void 0:p.chat)==null?void 0:P.deletion)??!0),p)},m=()=>{var P;t(4,p.chat.editing=!(((P=p==null?void 0:p.chat)==null?void 0:P.editing)??!0),p)},I=()=>{var P;t(4,p.chat.temporary=!(((P=p==null?void 0:p.chat)==null?void 0:P.temporary)??!0),p)};function k(){f=Yt(this),t(1,f)}function w(P){v=P,t(2,v)}function E(P,$){P[$]=Yt(this),t(3,g)}const y=()=>{g.at(-1)!==""&&t(3,g=[...g,""])},T=P=>{g.splice(P,1),t(3,g)},S=async()=>{await ji(localStorage.token,f),await Bi(localStorage.token,p),await Yi(localStorage.token,v,g),c(),await Ul.set(await ea())};return a.$$set=P=>{"saveHandler"in P&&t(0,c=P.saveHandler)},[c,f,v,g,p,s,o,i,b,m,I,k,w,E,y,T,S]}class Yo extends pl{constructor(e){super(),gl(this,e,qo,Wo,vl,{saveHandler:0})}}function jr(a,e,t){const l=a.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function Gr(a,e,t){const l=a.slice();return l[37]=e[t],l}function Kr(a,e,t){const l=a.slice();return l[40]=e[t],l[36]=t,l}function Fr(a,e,t){const l=a.slice();return l[10]=e[t],l[36]=t,l}function Jo(a){let e,t,l,s;return l=new Ea({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Qe(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Xe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center h-full")},m(o,i){V(o,e,i),r(e,t),xe(l,t,null),s=!0},p:pt,i(o){s||(ae(l.$$.fragment,o),s=!0)},o(o){ie(l.$$.fragment,o),s=!1},d(o){o&&u(e),et(l)}}}function Qo(a){let e,t,l=a[9].t("Manage Pipelines")+"",s,o,i,c,f,v;const g=[xo,Xo],p=[];function b(m,I){return m[3].length>0?0:1}return i=b(a),c=p[i]=g[i](a),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),c.c(),f=Gt(),this.h()},l(m){e=h(m,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var k=_(t);s=C(k,l),k.forEach(u),I.forEach(u),o=D(m),c.l(m),f=Gt(),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2")},m(m,I){V(m,e,I),r(e,t),r(t,s),V(m,o,I),p[i].m(m,I),V(m,f,I),v=!0},p(m,I){(!v||I[0]&512)&&l!==(l=m[9].t("Manage Pipelines")+"")&&R(s,l);let k=i;i=b(m),i===k?p[i].p(m,I):(Dt(),ie(p[k],1,1,()=>{p[k]=null}),St(),c=p[i],c?c.p(m,I):(c=p[i]=g[i](m),c.c()),ae(c,1),c.m(f.parentNode,f))},i(m){v||(ae(c),v=!0)},o(m){ie(c),v=!1},d(m){m&&(u(e),u(o),u(f)),p[i].d(m)}}}function Xo(a){let e,t=a[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=U(t)},l(s){e=h(s,"DIV",{});var o=_(e);l=C(o,t),o.forEach(u)},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&512&&t!==(t=s[9].t("Pipelines Not Detected")+"")&&R(l,t)},i:pt,o:pt,d(s){s&&u(e)}}}function xo(a){let e,t,l,s,o,i=a[9].t("Select a pipeline url")+"",c,f,v,g,p,b=a[9].t("Upload Pipeline")+"",m,I,k,w,E,y,T,S,P,$,M,Z,W=a[9].t("Install from Github URL")+"",G,q,L,H,B,O,N,j,Y,Q,J=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,K,x,le,oe,ee,_e,ue,Te,ce,Me=rt(a[3]),De=[];for(let ve=0;ve<Me.length;ve+=1)De[ve]=zr(Fr(a,Me,ve));function He(ve,Se){return ve[2]?tu:eu}let ke=He(a),Ge=ke(a);function me(ve,Se){return ve[1]?au:lu}let Ae=me(a),Ce=Ae(a);function we(ve,Se){return ve[0]?ru:su}let Le=we(a),ze=Le(a);const Re=[iu,nu],Ye=[];function at(ve,Se){return ve[10]!==null?0:1}return oe=at(a),ee=Ye[oe]=Re[oe](a),{c(){e=d("div"),t=d("div"),l=d("div"),s=d("select"),o=d("option"),c=U(i);for(let ve=0;ve<De.length;ve+=1)De[ve].c();v=A(),g=d("div"),p=d("div"),m=U(b),I=A(),k=d("div"),w=d("div"),E=d("input"),y=A(),T=d("button"),Ge.c(),S=A(),P=d("button"),Ce.c(),$=A(),M=d("div"),Z=d("div"),G=U(W),q=A(),L=d("div"),H=d("div"),B=d("input"),N=A(),j=d("button"),ze.c(),Y=A(),Q=d("div"),Q.innerHTML=J,K=A(),x=d("hr"),le=A(),ee.c(),_e=Gt(),this.h()},l(ve){e=h(ve,"DIV",{class:!0});var Se=_(e);t=h(Se,"DIV",{class:!0});var pe=_(t);l=h(pe,"DIV",{class:!0});var fe=_(l);s=h(fe,"SELECT",{class:!0,placeholder:!0});var Ie=_(s);o=h(Ie,"OPTION",{class:!0});var ne=_(o);c=C(ne,i),ne.forEach(u);for(let tt=0;tt<De.length;tt+=1)De[tt].l(Ie);Ie.forEach(u),fe.forEach(u),pe.forEach(u),Se.forEach(u),v=D(ve),g=h(ve,"DIV",{class:!0});var Ve=_(g);p=h(Ve,"DIV",{class:!0});var Be=_(p);m=C(Be,b),Be.forEach(u),I=D(Ve),k=h(Ve,"DIV",{class:!0});var Oe=_(k);w=h(Oe,"DIV",{class:!0});var X=_(w);E=h(X,"INPUT",{id:!0,type:!0,accept:!0}),y=D(X),T=h(X,"BUTTON",{class:!0,type:!0});var se=_(T);Ge.l(se),se.forEach(u),X.forEach(u),S=D(Oe),P=h(Oe,"BUTTON",{class:!0,type:!0});var Pe=_(P);Ce.l(Pe),Pe.forEach(u),Oe.forEach(u),Ve.forEach(u),$=D(ve),M=h(ve,"DIV",{class:!0});var Ke=_(M);Z=h(Ke,"DIV",{class:!0});var We=_(Z);G=C(We,W),We.forEach(u),q=D(Ke),L=h(Ke,"DIV",{class:!0});var nt=_(L);H=h(nt,"DIV",{class:!0});var qe=_(H);B=h(qe,"INPUT",{class:!0,placeholder:!0}),qe.forEach(u),N=D(nt),j=h(nt,"BUTTON",{class:!0,type:!0});var Je=_(j);ze.l(Je),Je.forEach(u),nt.forEach(u),Y=D(Ke),Q=h(Ke,"DIV",{class:!0,"data-svelte-h":!0}),ht(Q)!=="svelte-ob7r3n"&&(Q.innerHTML=J),Ke.forEach(u),K=D(ve),x=h(ve,"HR",{class:!0}),le=D(ve),ee.l(ve),_e=Gt(),this.h()},h(){o.__value="",F(o,o.__value),o.selected=!0,o.disabled=!0,n(o,"class","bg-gray-100 dark:bg-gray-700"),n(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(s,"placeholder",f=a[9].t("Select a pipeline url")),a[4]===void 0&&Jt(()=>a[19].call(s)),n(l,"class","flex-1"),n(t,"class","flex gap-2"),n(e,"class","space-y-1"),n(p,"class","mb-2 text-sm font-medium"),n(E,"id","pipelines-upload-input"),n(E,"type","file"),n(E,"accept",".py"),E.hidden=!0,n(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(T,"type","button"),n(w,"class","flex-1 mr-2"),n(P,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),P.disabled=a[1],n(P,"type","button"),n(k,"class","flex w-full"),n(g,"class","my-2"),n(Z,"class","mb-2 text-sm font-medium"),n(B,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(B,"placeholder",O=a[9].t("Enter Github Raw URL")),n(H,"class","flex-1 mr-2"),n(j,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),j.disabled=a[0],n(j,"type","button"),n(L,"class","flex w-full"),n(Q,"class","mt-2 text-xs text-gray-500"),n(M,"class","my-2"),n(x,"class","dark:border-gray-800 my-3 w-full")},m(ve,Se){V(ve,e,Se),r(e,t),r(t,l),r(l,s),r(s,o),r(o,c);for(let pe=0;pe<De.length;pe+=1)De[pe]&&De[pe].m(s,null);Et(s,a[4],!0),V(ve,v,Se),V(ve,g,Se),r(g,p),r(p,m),r(g,I),r(g,k),r(k,w),r(w,E),r(w,y),r(w,T),Ge.m(T,null),r(k,S),r(k,P),Ce.m(P,null),V(ve,$,Se),V(ve,M,Se),r(M,Z),r(Z,G),r(M,q),r(M,L),r(L,H),r(H,B),F(B,a[8]),r(L,N),r(L,j),ze.m(j,null),r(M,Y),r(M,Q),V(ve,K,Se),V(ve,x,Se),V(ve,le,Se),Ye[oe].m(ve,Se),V(ve,_e,Se),ue=!0,Te||(ce=[re(s,"change",a[19]),re(s,"change",a[20]),re(E,"change",a[21]),re(T,"click",a[22]),re(P,"click",a[23]),re(B,"input",a[24]),re(j,"click",a[25])],Te=!0)},p(ve,Se){if((!ue||Se[0]&512)&&i!==(i=ve[9].t("Select a pipeline url")+"")&&R(c,i),Se[0]&8){Me=rt(ve[3]);let fe;for(fe=0;fe<Me.length;fe+=1){const Ie=Fr(ve,Me,fe);De[fe]?De[fe].p(Ie,Se):(De[fe]=zr(Ie),De[fe].c(),De[fe].m(s,null))}for(;fe<De.length;fe+=1)De[fe].d(1);De.length=Me.length}(!ue||Se[0]&512&&f!==(f=ve[9].t("Select a pipeline url")))&&n(s,"placeholder",f),Se[0]&24&&Et(s,ve[4]),(!ue||Se[0]&512)&&b!==(b=ve[9].t("Upload Pipeline")+"")&&R(m,b),ke===(ke=He(ve))&&Ge?Ge.p(ve,Se):(Ge.d(1),Ge=ke(ve),Ge&&(Ge.c(),Ge.m(T,null))),Ae!==(Ae=me(ve))&&(Ce.d(1),Ce=Ae(ve),Ce&&(Ce.c(),Ce.m(P,null))),(!ue||Se[0]&2)&&(P.disabled=ve[1]),(!ue||Se[0]&512)&&W!==(W=ve[9].t("Install from Github URL")+"")&&R(G,W),(!ue||Se[0]&512&&O!==(O=ve[9].t("Enter Github Raw URL")))&&n(B,"placeholder",O),Se[0]&256&&B.value!==ve[8]&&F(B,ve[8]),Le!==(Le=we(ve))&&(ze.d(1),ze=Le(ve),ze&&(ze.c(),ze.m(j,null))),(!ue||Se[0]&1)&&(j.disabled=ve[0]);let pe=oe;oe=at(ve),oe===pe?Ye[oe].p(ve,Se):(Dt(),ie(Ye[pe],1,1,()=>{Ye[pe]=null}),St(),ee=Ye[oe],ee?ee.p(ve,Se):(ee=Ye[oe]=Re[oe](ve),ee.c()),ae(ee,1),ee.m(_e.parentNode,_e))},i(ve){ue||(ae(ee),ue=!0)},o(ve){ie(ee),ue=!1},d(ve){ve&&(u(e),u(v),u(g),u($),u(M),u(K),u(x),u(le),u(_e)),Ct(De,ve),Ge.d(),Ce.d(),ze.d(),Ye[oe].d(ve),Te=!1,Zt(ce)}}}function zr(a){let e,t=a[10].url+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[10].idx.toString(),F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[10].url+"")&&R(l,t),i[0]&8&&s!==(s=o[10].idx.toString())&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function eu(a){let e=a[9].t("Click here to select a py file.")+"",t;return{c(){t=U(e)},l(l){t=C(l,e)},m(l,s){V(l,t,s)},p(l,s){s[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&R(t,e)},d(l){l&&u(t)}}}function tu(a){let e=a[2].length>0?`${a[2].length}`:"",t,l;return{c(){t=U(e),l=U(" pipeline(s) selected.")},l(s){t=C(s,e),l=C(s," pipeline(s) selected.")},m(s,o){V(s,t,o),V(s,l,o)},p(s,o){o[0]&4&&e!==(e=s[2].length>0?`${s[2].length}`:"")&&R(t,e)},d(s){s&&(u(t),u(l))}}}function lu(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function au(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function su(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function ru(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function nu(a){let e,t,l,s;return l=new Ea({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),Qe(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Xe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center")},m(o,i){V(o,e,i),r(e,t),xe(l,t,null),s=!0},p:pt,i(o){s||(ae(l.$$.fragment,o),s=!0)},o(o){ie(l.$$.fragment,o),s=!1},d(o){o&&u(e),et(l)}}}function iu(a){let e,t,l,s;const o=[uu,ou],i=[];function c(f,v){return f[10].length>0?0:f[10].length===0?1:-1}return~(e=c(a))&&(t=i[e]=o[e](a)),{c(){t&&t.c(),l=Gt()},l(f){t&&t.l(f),l=Gt()},m(f,v){~e&&i[e].m(f,v),V(f,l,v),s=!0},p(f,v){let g=e;e=c(f),e===g?~e&&i[e].p(f,v):(t&&(Dt(),ie(i[g],1,1,()=>{i[g]=null}),St()),~e?(t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),ae(t,1),t.m(l.parentNode,l)):t=null)},i(f){s||(ae(t),s=!0)},o(f){ie(t),s=!1},d(f){f&&u(l),~e&&i[e].d(f)}}}function ou(a){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ht(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,s){V(l,e,s)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function uu(a){let e,t,l=a[9].t("Pipelines Valves")+"",s,o,i,c,f,v,g,p,b=a[10].length>0&&Wr(a);const m=[cu,fu],I=[];function k(w,E){return w[10][w[7]].valves?0:1}return v=k(a),g=I[v]=m[v](a),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),b&&b.c(),c=A(),f=d("div"),g.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var y=_(t);s=C(y,l),y.forEach(u),E.forEach(u),o=D(w),i=h(w,"DIV",{class:!0});var T=_(i);b&&b.l(T),c=D(T),f=h(T,"DIV",{class:!0});var S=_(f);g.l(S),S.forEach(u),T.forEach(u),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2"),n(f,"class","space-y-1"),n(i,"class","space-y-1")},m(w,E){V(w,e,E),r(e,t),r(t,s),V(w,o,E),V(w,i,E),b&&b.m(i,null),r(i,c),r(i,f),I[v].m(f,null),p=!0},p(w,E){(!p||E[0]&512)&&l!==(l=w[9].t("Pipelines Valves")+"")&&R(s,l),w[10].length>0?b?b.p(w,E):(b=Wr(w),b.c(),b.m(i,c)):b&&(b.d(1),b=null);let y=v;v=k(w),v===y?I[v].p(w,E):(Dt(),ie(I[y],1,1,()=>{I[y]=null}),St(),g=I[v],g?g.p(w,E):(g=I[v]=m[v](w),g.c()),ae(g,1),g.m(f,null))},i(w){p||(ae(g),p=!0)},o(w){ie(g),p=!1},d(w){w&&(u(e),u(o),u(i)),b&&b.d(),I[v].d()}}}function Wr(a){let e,t,l,s,o,i,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',f,v,g=rt(a[10]),p=[];for(let b=0;b<g.length;b+=1)p[b]=qr(Kr(a,g,b));return{c(){e=d("div"),t=d("div"),l=d("select");for(let b=0;b<p.length;b+=1)p[b].c();o=A(),i=d("button"),i.innerHTML=c,this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);l=h(I,"SELECT",{class:!0,placeholder:!0});var k=_(l);for(let w=0;w<p.length;w+=1)p[w].l(k);k.forEach(u),I.forEach(u),o=D(m),i=h(m,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(i)!=="svelte-121ij38"&&(i.innerHTML=c),m.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[9].t("Select a pipeline")),a[7]===void 0&&Jt(()=>a[26].call(l)),n(t,"class","flex-1"),n(i,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(i,"type","button"),n(e,"class","flex gap-2")},m(b,m){V(b,e,m),r(e,t),r(t,l);for(let I=0;I<p.length;I+=1)p[I]&&p[I].m(l,null);Et(l,a[7],!0),r(e,o),r(e,i),f||(v=[re(l,"change",a[26]),re(l,"change",a[27]),re(i,"click",a[28])],f=!0)},p(b,m){if(m[0]&1024){g=rt(b[10]);let I;for(I=0;I<g.length;I+=1){const k=Kr(b,g,I);p[I]?p[I].p(k,m):(p[I]=qr(k),p[I].c(),p[I].m(l,null))}for(;I<p.length;I+=1)p[I].d(1);p.length=g.length}m[0]&512&&s!==(s=b[9].t("Select a pipeline"))&&n(l,"placeholder",s),m[0]&128&&Et(l,b[7])},d(b){b&&u(e),Ct(p,b),f=!1,Zt(v)}}}function qr(a){let e,t=a[40].name+"",l,s,o=(a[40].type??"pipe")+"",i,c;return{c(){e=d("option"),l=U(t),s=U(" ("),i=U(o),c=U(")"),this.h()},l(f){e=h(f,"OPTION",{class:!0});var v=_(e);l=C(v,t),s=C(v," ("),i=C(v,o),c=C(v,")"),v.forEach(u),this.h()},h(){e.__value=a[36],F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(f,v){V(f,e,v),r(e,l),r(e,s),r(e,i),r(e,c)},p(f,v){v[0]&1024&&t!==(t=f[40].name+"")&&R(l,t),v[0]&1024&&o!==(o=(f[40].type??"pipe")+"")&&R(i,o)},d(f){f&&u(e)}}}function fu(a){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ht(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,s){V(l,e,s)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function cu(a){let e,t,l,s;const o=[hu,du],i=[];function c(f,v){return f[5]?0:1}return e=c(a),t=i[e]=o[e](a),{c(){t.c(),l=Gt()},l(f){t.l(f),l=Gt()},m(f,v){i[e].m(f,v),V(f,l,v),s=!0},p(f,v){let g=e;e=c(f),e===g?i[e].p(f,v):(Dt(),ie(i[g],1,1,()=>{i[g]=null}),St(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),ae(t,1),t.m(l.parentNode,l))},i(f){s||(ae(t),s=!0)},o(f){ie(t),s=!1},d(f){f&&u(l),i[e].d(f)}}}function du(a){let e,t;return e=new Ea({props:{className:"size-5"}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function hu(a){let e,t,l=rt(Object.keys(a[6].properties)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Qr(jr(a,l,i));const o=i=>ie(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Gt()},l(i){for(let c=0;c<s.length;c+=1)s[c].l(i);e=Gt()},m(i,c){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,c);V(i,e,c),t=!0},p(i,c){if(c[0]&608){l=rt(Object.keys(i[6].properties));let f;for(f=0;f<l.length;f+=1){const v=jr(i,l,f);s[f]?(s[f].p(v,c),ae(s[f],1)):(s[f]=Qr(v),s[f].c(),ae(s[f],1),s[f].m(e.parentNode,e))}for(Dt(),f=l.length;f<s.length;f+=1)o(f);St()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)ae(s[c]);t=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)ie(s[c]);t=!1},d(i){i&&u(e),Ct(s,i)}}}function _u(a){let e,t=a[9].t("Custom")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&512&&t!==(t=s[9].t("Custom")+"")&&R(l,t)},d(s){s&&u(e)}}}function vu(a){let e,t=a[9].t("None")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&512&&t!==(t=s[9].t("None")+"")&&R(l,t)},d(s){s&&u(e)}}}function Yr(a){let e,t,l,s,o;const i=[mu,gu,pu],c=[];function f(v,g){var p,b;return((p=v[6].properties[v[34]])==null?void 0:p.enum)??null?0:(((b=v[6].properties[v[34]])==null?void 0:b.type)??null)==="boolean"?1:2}return l=f(a),s=c[l]=i[l](a),{c(){e=d("div"),t=d("div"),s.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var p=_(t);s.l(p),p.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","flex-1"),n(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(v,g){V(v,e,g),r(e,t),c[l].m(t,null),o=!0},p(v,g){let p=l;l=f(v),l===p?c[l].p(v,g):(Dt(),ie(c[p],1,1,()=>{c[p]=null}),St(),s=c[l],s?s.p(v,g):(s=c[l]=i[l](v),s.c()),ae(s,1),s.m(t,null))},i(v){o||(ae(s),o=!0)},o(v){ie(s),o=!1},d(v){v&&u(e),c[l].d()}}}function pu(a){let e,t,l,s;function o(){a[32].call(e,a[34])}return{c(){e=d("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","text"),n(e,"placeholder",t=a[6].properties[a[34]].title),n(e,"autocomplete","off"),e.required=!0},m(i,c){V(i,e,c),F(e,a[5][a[34]]),l||(s=re(e,"input",o),l=!0)},p(i,c){a=i,c[0]&64&&t!==(t=a[6].properties[a[34]].title)&&n(e,"placeholder",t),c[0]&96&&e.value!==a[5][a[34]]&&F(e,a[5][a[34]])},i:pt,o:pt,d(i){i&&u(e),l=!1,s()}}}function gu(a){let e,t,l=a[5][a[34]]?"Enabled":"Disabled",s,o,i,c,f,v;function g(b){a[31](b,a[34])}let p={};return a[5][a[34]]!==void 0&&(p.state=a[5][a[34]]),c=new kl({props:p}),Ut.push(()=>$t(c,"state",g)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),Qe(c.$$.fragment),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);s=C(I,l),I.forEach(u),o=D(m),i=h(m,"DIV",{class:!0});var k=_(i);Xe(c.$$.fragment,k),k.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","text-xs text-gray-500"),n(i,"class","pr-2"),n(e,"class","flex justify-between items-center")},m(b,m){V(b,e,m),r(e,t),r(t,s),r(e,o),r(e,i),xe(c,i,null),v=!0},p(b,m){a=b,(!v||m[0]&96)&&l!==(l=a[5][a[34]]?"Enabled":"Disabled")&&R(s,l);const I={};!f&&m[0]&96&&(f=!0,I.state=a[5][a[34]],Bt(()=>f=!1)),c.$set(I)},i(b){v||(ae(c.$$.fragment,b),v=!0)},o(b){ie(c.$$.fragment,b),v=!1},d(b){b&&u(e),et(c)}}}function mu(a){let e,t,l,s=rt(a[6].properties[a[34]].enum),o=[];for(let c=0;c<s.length;c+=1)o[c]=Jr(Gr(a,s,c));function i(){a[30].call(e,a[34])}return{c(){e=d("select");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"SELECT",{class:!0});var f=_(e);for(let v=0;v<o.length;v+=1)o[v].l(f);f.forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),a[5][a[34]]===void 0&&Jt(i)},m(c,f){V(c,e,f);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(e,null);Et(e,a[5][a[34]],!0),t||(l=re(e,"change",i),t=!0)},p(c,f){if(a=c,f[0]&96){s=rt(a[6].properties[a[34]].enum);let v;for(v=0;v<s.length;v+=1){const g=Gr(a,s,v);o[v]?o[v].p(g,f):(o[v]=Jr(g),o[v].c(),o[v].m(e,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=s.length}f[0]&96&&Et(e,a[5][a[34]])},i:pt,o:pt,d(c){c&&u(e),Ct(o,c),t=!1,l()}}}function Jr(a){let e,t=a[37]+"",l,s,o,i;return{c(){e=d("option"),l=U(t),s=A(),this.h()},l(c){e=h(c,"OPTION",{});var f=_(e);l=C(f,t),s=D(f),f.forEach(u),this.h()},h(){e.__value=o=a[37],F(e,e.__value),e.selected=i=a[37]===a[5][a[34]]},m(c,f){V(c,e,f),r(e,l),r(e,s)},p(c,f){f[0]&64&&t!==(t=c[37]+"")&&R(l,t),f[0]&64&&o!==(o=c[37])&&(e.__value=o,F(e,e.__value)),f[0]&96&&i!==(i=c[37]===c[5][c[34]])&&(e.selected=i)},d(c){c&&u(e)}}}function Qr(a){let e,t,l,s=a[6].properties[a[34]].title+"",o,i,c,f,v,g,p,b;function m(y,T){return(y[5][y[34]]??null)===null?vu:_u}let I=m(a),k=I(a);function w(){return a[29](a[34])}let E=(a[5][a[34]]??null)!==null&&Yr(a);return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("button"),k.c(),f=A(),E&&E.c(),v=A(),this.h()},l(y){e=h(y,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var S=_(t);l=h(S,"DIV",{class:!0});var P=_(l);o=C(P,s),P.forEach(u),i=D(S),c=h(S,"BUTTON",{class:!0,type:!0});var $=_(c);k.l($),$.forEach(u),S.forEach(u),f=D(T),E&&E.l(T),v=D(T),T.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between"),n(e,"class","py-0.5 w-full justify-between")},m(y,T){V(y,e,T),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),k.m(c,null),r(e,f),E&&E.m(e,null),r(e,v),g=!0,p||(b=re(c,"click",w),p=!0)},p(y,T){a=y,(!g||T[0]&64)&&s!==(s=a[6].properties[a[34]].title+"")&&R(o,s),I===(I=m(a))&&k?k.p(a,T):(k.d(1),k=I(a),k&&(k.c(),k.m(c,null))),(a[5][a[34]]??null)!==null?E?(E.p(a,T),T[0]&96&&ae(E,1)):(E=Yr(a),E.c(),ae(E,1),E.m(e,v)):E&&(Dt(),ie(E,1,1,()=>{E=null}),St())},i(y){g||(ae(E),g=!0)},o(y){ie(E),g=!1},d(y){y&&u(e),k.d(),E&&E.d(),p=!1,b()}}}function bu(a){let e,t,l,s,o,i,c,f=a[9].t("Save")+"",v,g,p,b;const m=[Qo,Jo],I=[];function k(w,E){return w[3]!==null?0:1}return l=k(a),s=I[l]=m[l](a),{c(){e=d("form"),t=d("div"),s.c(),o=A(),i=d("div"),c=d("button"),v=U(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var y=_(t);s.l(y),y.forEach(u),o=D(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var S=_(c);v=C(S,f),S.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,E){V(w,e,E),r(e,t),I[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),g=!0,p||(b=re(e,"submit",Ml(a[33])),p=!0)},p(w,E){let y=l;l=k(w),l===y?I[l].p(w,E):(Dt(),ie(I[y],1,1,()=>{I[y]=null}),St(),s=I[l],s?s.p(w,E):(s=I[l]=m[l](w),s.c()),ae(s,1),s.m(t,null)),(!g||E[0]&512)&&f!==(f=w[9].t("Save")+"")&&R(v,f)},i(w){g||(ae(s),g=!0)},o(w){ie(s),g=!1},d(w){w&&u(e),I[l].d(),p=!1,b()}}}function Eu(a,e,t){let l;const s=wl("i18n");zt(a,s,K=>t(9,l=K));let{saveHandler:o}=e,i=!1,c=!1,f,v=null,g="",p=null,b=null,m=null,I=null,k="";const w=async()=>{var x;const K=p[I];if(K&&((K==null?void 0:K.valves)??!1)){for(const oe in m.properties)((x=m.properties[oe])==null?void 0:x.type)==="array"&&t(5,b[oe]=b[oe].split(",").map(ee=>ee.trim()),b);await Qi(localStorage.token,K.id,b,g).catch(oe=>{Ue.error(oe)})&&(Ue.success(l.t("Valves updated successfully")),y(),il.set(await ba(localStorage.token)),o())}else Ue.error(l.t("No valves to update"))},E=async K=>{var x;t(5,b=null),t(6,m=null),t(6,m=await Xi(localStorage.token,p[K].id,g)),t(5,b=await xi(localStorage.token,p[K].id,g));for(const le in m.properties)((x=m.properties[le])==null?void 0:x.type)==="array"&&t(5,b[le]=b[le].join(","),b)},y=async()=>{t(10,p=null),t(5,b=null),t(6,m=null),v.length>0?(console.log(g),t(10,p=await eo(localStorage.token,g)),p.length>0&&(t(7,I=0),await E(I))):t(10,p=[])},T=async()=>{t(0,i=!0),await to(localStorage.token,k,g).catch(x=>(Ue.error(x),null))&&(Ue.success(l.t("Pipeline downloaded successfully")),y(),il.set(await ba(localStorage.token))),t(0,i=!1)},S=async()=>{if(t(1,c=!0),f&&f.length!==0){const x=f[0];console.log(x),await ao(localStorage.token,x,g).catch(oe=>(console.log(oe),Ue.error("Something went wrong :/"),null))&&(Ue.success(l.t("Pipeline downloaded successfully")),y(),il.set(await ba(localStorage.token)))}else Ue.error(l.t("No file selected"));t(2,f=null);const K=document.getElementById("pipeline-upload-input");K&&(K.value=null),t(1,c=!1)},P=async()=>{await lo(localStorage.token,p[I].id,g).catch(x=>(Ue.error(x),null))&&(Ue.success(l.t("Pipeline deleted successfully")),y(),il.set(await ba(localStorage.token)))};Il(async()=>{t(3,v=await Ji(localStorage.token)),console.log(v),v.length>0&&t(4,g=v[0].idx.toString()),await y()});function $(){g=Yt(this),t(4,g),t(3,v)}const M=async()=>{await Ma(),await y()};function Z(){f=this.files,t(2,f)}const W=()=>{var K;(K=document.getElementById("pipelines-upload-input"))==null||K.click()},G=()=>{S()};function q(){k=this.value,t(8,k)}const L=()=>{T()};function H(){I=Yt(this),t(7,I)}const B=async()=>{await Ma(),await E(I)},O=()=>{P()},N=K=>{t(5,b[K]=(b[K]??null)===null?"":null,b)};function j(K){b[K]=Yt(this),t(5,b),t(6,m)}function Y(K,x){a.$$.not_equal(b[x],K)&&(b[x]=K,t(5,b))}function Q(K){b[K]=this.value,t(5,b),t(6,m)}const J=async()=>{w()};return a.$$set=K=>{"saveHandler"in K&&t(18,o=K.saveHandler)},[i,c,f,v,g,b,m,I,k,l,p,s,w,E,y,T,S,P,o,$,M,Z,W,G,q,L,H,B,O,N,j,Y,Q,J]}class ku extends pl{constructor(e){super(),gl(this,e,Eu,bu,vl,{saveHandler:18},null,[-1,-1])}}function Xr(a,e,t){const l=a.slice();return l[42]=e[t],l}function xr(a,e,t){const l=a.slice();return l[45]=e[t],l}function en(a,e,t){const l=a.slice();return l[48]=e[t],l}function tn(a,e,t){const l=a.slice();return l[45]=e[t],l}function ln(a,e,t){const l=a.slice();return l[48]=e[t],l}function an(a,e,t){const l=a.slice();return l[45]=e[t],l}function sn(a,e,t){const l=a.slice();return l[45]=e[t],l}function rn(a){let e,t,l,s,o,i,c,f,v,g,p,b,m=a[15].t("STT Model")+"",I,k,w,E,y,T,S,P,$,M,Z;function W(q){a[24](q)}let G={placeholder:a[15].t("API Key")};return a[10]!==void 0&&(G.value=a[10]),i=new ml({props:G}),Ut.push(()=>$t(i,"value",W)),{c(){e=d("div"),t=d("div"),l=d("input"),o=A(),Qe(i.$$.fragment),f=A(),v=d("hr"),g=A(),p=d("div"),b=d("div"),I=U(m),k=A(),w=d("div"),E=d("div"),y=d("input"),T=A(),S=d("datalist"),P=d("option"),this.h()},l(q){e=h(q,"DIV",{});var L=_(e);t=h(L,"DIV",{class:!0});var H=_(t);l=h(H,"INPUT",{class:!0,placeholder:!0}),o=D(H),Xe(i.$$.fragment,H),H.forEach(u),L.forEach(u),f=D(q),v=h(q,"HR",{class:!0}),g=D(q),p=h(q,"DIV",{});var B=_(p);b=h(B,"DIV",{class:!0});var O=_(b);I=C(O,m),O.forEach(u),k=D(B),w=h(B,"DIV",{class:!0});var N=_(w);E=h(N,"DIV",{class:!0});var j=_(E);y=h(j,"INPUT",{list:!0,class:!0,placeholder:!0}),T=D(j),S=h(j,"DATALIST",{id:!0});var Y=_(S);P=h(Y,"OPTION",{}),_(P).forEach(u),Y.forEach(u),j.forEach(u),N.forEach(u),B.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[15].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1"),n(v,"class","dark:border-gray-850 my-2"),n(b,"class","mb-1.5 text-sm font-medium"),n(y,"list","model-list"),n(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(y,"placeholder","Select a model"),P.__value="whisper-1",F(P,P.__value),n(S,"id","model-list"),n(E,"class","flex-1"),n(w,"class","flex w-full")},m(q,L){V(q,e,L),r(e,t),r(t,l),F(l,a[9]),r(t,o),xe(i,t,null),V(q,f,L),V(q,v,L),V(q,g,L),V(q,p,L),r(p,b),r(b,I),r(p,k),r(p,w),r(w,E),r(E,y),F(y,a[12]),r(E,T),r(E,S),r(S,P),$=!0,M||(Z=[re(l,"input",a[23]),re(y,"input",a[25])],M=!0)},p(q,L){(!$||L[0]&32768&&s!==(s=q[15].t("API Base URL")))&&n(l,"placeholder",s),L[0]&512&&l.value!==q[9]&&F(l,q[9]);const H={};L[0]&32768&&(H.placeholder=q[15].t("API Key")),!c&&L[0]&1024&&(c=!0,H.value=q[10],Bt(()=>c=!1)),i.$set(H),(!$||L[0]&32768)&&m!==(m=q[15].t("STT Model")+"")&&R(I,m),L[0]&4096&&y.value!==q[12]&&F(y,q[12])},i(q){$||(ae(i.$$.fragment,q),$=!0)},o(q){ie(i.$$.fragment,q),$=!1},d(q){q&&(u(e),u(f),u(v),u(g),u(p)),et(i),M=!1,Zt(Z)}}}function wu(a){let e,t,l,s,o,i,c,f,v;return{c(){e=d("div"),t=d("div"),l=d("input"),o=A(),i=d("input"),this.h()},l(g){e=h(g,"DIV",{});var p=_(e);t=h(p,"DIV",{class:!0});var b=_(t);l=h(b,"INPUT",{class:!0,placeholder:!0}),o=D(b),i=h(b,"INPUT",{class:!0,placeholder:!0}),b.forEach(u),p.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[15].t("API Key")),l.required=!0,n(i,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(i,"placeholder",c=a[15].t("Azure Region")),i.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(g,p){V(g,e,p),r(e,t),r(t,l),F(l,a[2]),r(t,o),r(t,i),F(i,a[7]),f||(v=[re(l,"input",a[31]),re(i,"input",a[32])],f=!0)},p(g,p){p[0]&32768&&s!==(s=g[15].t("API Key"))&&n(l,"placeholder",s),p[0]&4&&l.value!==g[2]&&F(l,g[2]),p[0]&32768&&c!==(c=g[15].t("Azure Region"))&&n(i,"placeholder",c),p[0]&128&&i.value!==g[7]&&F(i,g[7])},i:pt,o:pt,d(g){g&&u(e),f=!1,Zt(v)}}}function Iu(a){let e,t,l,s,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[15].t("API Key")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(c,f){V(c,e,f),r(e,t),r(t,l),F(l,a[2]),o||(i=re(l,"input",a[30]),o=!0)},p(c,f){f[0]&32768&&s!==(s=c[15].t("API Key"))&&n(l,"placeholder",s),f[0]&4&&l.value!==c[2]&&F(l,c[2])},i:pt,o:pt,d(c){c&&u(e),o=!1,i()}}}function yu(a){let e,t,l,s,o,i,c,f,v,g;function p(m){a[29](m)}let b={placeholder:a[15].t("API Key")};return a[1]!==void 0&&(b.value=a[1]),i=new ml({props:b}),Ut.push(()=>$t(i,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),o=A(),Qe(i.$$.fragment),this.h()},l(m){e=h(m,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var k=_(t);l=h(k,"INPUT",{class:!0,placeholder:!0}),o=D(k),Xe(i.$$.fragment,k),k.forEach(u),I.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[15].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(m,I){V(m,e,I),r(e,t),r(t,l),F(l,a[0]),r(t,o),xe(i,t,null),f=!0,v||(g=re(l,"input",a[28]),v=!0)},p(m,I){(!f||I[0]&32768&&s!==(s=m[15].t("API Base URL")))&&n(l,"placeholder",s),I[0]&1&&l.value!==m[0]&&F(l,m[0]);const k={};I[0]&32768&&(k.placeholder=m[15].t("API Key")),!c&&I[0]&2&&(c=!0,k.value=m[1],Bt(()=>c=!1)),i.$set(k)},i(m){f||(ae(i.$$.fragment,m),f=!0)},o(m){ie(i.$$.fragment,m),f=!1},d(m){m&&u(e),et(i),v=!1,g()}}}function Tu(a){let e,t,l,s=a[15].t("TTS Voice")+"",o,i,c,f,v,g,p,b,m,I,k=a[15].t("Output format")+"",w,E,y,T,S=a[15].t("Available list")+"",P,$,M,Z,W,G,q,L=rt(a[13]),H=[];for(let B=0;B<L.length;B+=1)H[B]=nn(xr(a,L,B));return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("div"),f=d("div"),v=d("input"),g=A(),p=d("datalist");for(let B=0;B<H.length;B+=1)H[B].c();b=A(),m=d("div"),I=d("div"),w=U(k),E=A(),y=d("a"),T=d("small"),P=U(S),$=A(),M=d("div"),Z=d("div"),W=d("input"),this.h()},l(B){e=h(B,"DIV",{class:!0});var O=_(e);t=h(O,"DIV",{class:!0});var N=_(t);l=h(N,"DIV",{class:!0});var j=_(l);o=C(j,s),j.forEach(u),i=D(N),c=h(N,"DIV",{class:!0});var Y=_(c);f=h(Y,"DIV",{class:!0});var Q=_(f);v=h(Q,"INPUT",{list:!0,class:!0,placeholder:!0}),g=D(Q),p=h(Q,"DATALIST",{id:!0});var J=_(p);for(let ue=0;ue<H.length;ue+=1)H[ue].l(J);J.forEach(u),Q.forEach(u),Y.forEach(u),N.forEach(u),b=D(O),m=h(O,"DIV",{class:!0});var K=_(m);I=h(K,"DIV",{class:!0});var x=_(I);w=C(x,k),E=D(x),y=h(x,"A",{href:!0,target:!0});var le=_(y);T=h(le,"SMALL",{});var oe=_(T);P=C(oe,S),oe.forEach(u),le.forEach(u),x.forEach(u),$=D(K),M=h(K,"DIV",{class:!0});var ee=_(M);Z=h(ee,"DIV",{class:!0});var _e=_(Z);W=h(_e,"INPUT",{list:!0,class:!0,placeholder:!0}),_e.forEach(u),ee.forEach(u),K.forEach(u),O.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(y,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),n(y,"target","_blank"),n(I,"class","mb-1.5 text-sm font-medium"),n(W,"list","tts-model-list"),n(W,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(W,"placeholder","Select a output format"),n(Z,"class","flex-1"),n(M,"class","flex w-full"),n(m,"class","w-full"),n(e,"class","flex gap-2")},m(B,O){V(B,e,O),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),F(v,a[5]),r(f,g),r(f,p);for(let N=0;N<H.length;N+=1)H[N]&&H[N].m(p,null);r(e,b),r(e,m),r(m,I),r(I,w),r(I,E),r(I,y),r(y,T),r(T,P),r(m,$),r(m,M),r(M,Z),r(Z,W),F(W,a[8]),G||(q=[re(v,"input",a[38]),re(W,"input",a[39])],G=!0)},p(B,O){if(O[0]&32768&&s!==(s=B[15].t("TTS Voice")+"")&&R(o,s),O[0]&8224&&v.value!==B[5]&&F(v,B[5]),O[0]&8192){L=rt(B[13]);let N;for(N=0;N<L.length;N+=1){const j=xr(B,L,N);H[N]?H[N].p(j,O):(H[N]=nn(j),H[N].c(),H[N].m(p,null))}for(;N<H.length;N+=1)H[N].d(1);H.length=L.length}O[0]&32768&&k!==(k=B[15].t("Output format")+"")&&R(w,k),O[0]&32768&&S!==(S=B[15].t("Available list")+"")&&R(P,S),O[0]&256&&W.value!==B[8]&&F(W,B[8])},d(B){B&&u(e),Ct(H,B),G=!1,Zt(q)}}}function Au(a){let e,t,l,s=a[15].t("TTS Voice")+"",o,i,c,f,v,g,p,b,m,I,k=a[15].t("TTS Model")+"",w,E,y,T,S,P,$,M,Z,W=rt(a[13]),G=[];for(let H=0;H<W.length;H+=1)G[H]=on(tn(a,W,H));let q=rt(a[14]),L=[];for(let H=0;H<q.length;H+=1)L[H]=un(en(a,q,H));return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("div"),f=d("div"),v=d("input"),g=A(),p=d("datalist");for(let H=0;H<G.length;H+=1)G[H].c();b=A(),m=d("div"),I=d("div"),w=U(k),E=A(),y=d("div"),T=d("div"),S=d("input"),P=A(),$=d("datalist");for(let H=0;H<L.length;H+=1)L[H].c();this.h()},l(H){e=h(H,"DIV",{class:!0});var B=_(e);t=h(B,"DIV",{class:!0});var O=_(t);l=h(O,"DIV",{class:!0});var N=_(l);o=C(N,s),N.forEach(u),i=D(O),c=h(O,"DIV",{class:!0});var j=_(c);f=h(j,"DIV",{class:!0});var Y=_(f);v=h(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),g=D(Y),p=h(Y,"DATALIST",{id:!0});var Q=_(p);for(let ee=0;ee<G.length;ee+=1)G[ee].l(Q);Q.forEach(u),Y.forEach(u),j.forEach(u),O.forEach(u),b=D(B),m=h(B,"DIV",{class:!0});var J=_(m);I=h(J,"DIV",{class:!0});var K=_(I);w=C(K,k),K.forEach(u),E=D(J),y=h(J,"DIV",{class:!0});var x=_(y);T=h(x,"DIV",{class:!0});var le=_(T);S=h(le,"INPUT",{list:!0,class:!0,placeholder:!0}),P=D(le),$=h(le,"DATALIST",{id:!0});var oe=_($);for(let ee=0;ee<L.length;ee+=1)L[ee].l(oe);oe.forEach(u),le.forEach(u),x.forEach(u),J.forEach(u),B.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(I,"class","mb-1.5 text-sm font-medium"),n(S,"list","tts-model-list"),n(S,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(S,"placeholder","Select a model"),n($,"id","tts-model-list"),n(T,"class","flex-1"),n(y,"class","flex w-full"),n(m,"class","w-full"),n(e,"class","flex gap-2")},m(H,B){V(H,e,B),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),F(v,a[5]),r(f,g),r(f,p);for(let O=0;O<G.length;O+=1)G[O]&&G[O].m(p,null);r(e,b),r(e,m),r(m,I),r(I,w),r(m,E),r(m,y),r(y,T),r(T,S),F(S,a[4]),r(T,P),r(T,$);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m($,null);M||(Z=[re(v,"input",a[36]),re(S,"input",a[37])],M=!0)},p(H,B){if(B[0]&32768&&s!==(s=H[15].t("TTS Voice")+"")&&R(o,s),B[0]&8224&&v.value!==H[5]&&F(v,H[5]),B[0]&8192){W=rt(H[13]);let O;for(O=0;O<W.length;O+=1){const N=tn(H,W,O);G[O]?G[O].p(N,B):(G[O]=on(N),G[O].c(),G[O].m(p,null))}for(;O<G.length;O+=1)G[O].d(1);G.length=W.length}if(B[0]&32768&&k!==(k=H[15].t("TTS Model")+"")&&R(w,k),B[0]&16&&S.value!==H[4]&&F(S,H[4]),B[0]&16384){q=rt(H[14]);let O;for(O=0;O<q.length;O+=1){const N=en(H,q,O);L[O]?L[O].p(N,B):(L[O]=un(N),L[O].c(),L[O].m($,null))}for(;O<L.length;O+=1)L[O].d(1);L.length=q.length}},d(H){H&&u(e),Ct(G,H),Ct(L,H),M=!1,Zt(Z)}}}function Du(a){let e,t,l,s=a[15].t("TTS Voice")+"",o,i,c,f,v,g,p,b,m,I,k=a[15].t("TTS Model")+"",w,E,y,T,S,P,$,M,Z,W=rt(a[13]),G=[];for(let H=0;H<W.length;H+=1)G[H]=fn(an(a,W,H));let q=rt(a[14]),L=[];for(let H=0;H<q.length;H+=1)L[H]=cn(ln(a,q,H));return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("div"),f=d("div"),v=d("input"),g=A(),p=d("datalist");for(let H=0;H<G.length;H+=1)G[H].c();b=A(),m=d("div"),I=d("div"),w=U(k),E=A(),y=d("div"),T=d("div"),S=d("input"),P=A(),$=d("datalist");for(let H=0;H<L.length;H+=1)L[H].c();this.h()},l(H){e=h(H,"DIV",{class:!0});var B=_(e);t=h(B,"DIV",{class:!0});var O=_(t);l=h(O,"DIV",{class:!0});var N=_(l);o=C(N,s),N.forEach(u),i=D(O),c=h(O,"DIV",{class:!0});var j=_(c);f=h(j,"DIV",{class:!0});var Y=_(f);v=h(Y,"INPUT",{list:!0,class:!0,placeholder:!0}),g=D(Y),p=h(Y,"DATALIST",{id:!0});var Q=_(p);for(let ee=0;ee<G.length;ee+=1)G[ee].l(Q);Q.forEach(u),Y.forEach(u),j.forEach(u),O.forEach(u),b=D(B),m=h(B,"DIV",{class:!0});var J=_(m);I=h(J,"DIV",{class:!0});var K=_(I);w=C(K,k),K.forEach(u),E=D(J),y=h(J,"DIV",{class:!0});var x=_(y);T=h(x,"DIV",{class:!0});var le=_(T);S=h(le,"INPUT",{list:!0,class:!0,placeholder:!0}),P=D(le),$=h(le,"DATALIST",{id:!0});var oe=_($);for(let ee=0;ee<L.length;ee+=1)L[ee].l(oe);oe.forEach(u),le.forEach(u),x.forEach(u),J.forEach(u),B.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(f,"class","flex-1"),n(c,"class","flex w-full"),n(t,"class","w-full"),n(I,"class","mb-1.5 text-sm font-medium"),n(S,"list","tts-model-list"),n(S,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(S,"placeholder","Select a model"),n($,"id","tts-model-list"),n(T,"class","flex-1"),n(y,"class","flex w-full"),n(m,"class","w-full"),n(e,"class","flex gap-2")},m(H,B){V(H,e,B),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(c,f),r(f,v),F(v,a[5]),r(f,g),r(f,p);for(let O=0;O<G.length;O+=1)G[O]&&G[O].m(p,null);r(e,b),r(e,m),r(m,I),r(I,w),r(m,E),r(m,y),r(y,T),r(T,S),F(S,a[4]),r(T,P),r(T,$);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m($,null);M||(Z=[re(v,"input",a[34]),re(S,"input",a[35])],M=!0)},p(H,B){if(B[0]&32768&&s!==(s=H[15].t("TTS Voice")+"")&&R(o,s),B[0]&8224&&v.value!==H[5]&&F(v,H[5]),B[0]&8192){W=rt(H[13]);let O;for(O=0;O<W.length;O+=1){const N=an(H,W,O);G[O]?G[O].p(N,B):(G[O]=fn(N),G[O].c(),G[O].m(p,null))}for(;O<G.length;O+=1)G[O].d(1);G.length=W.length}if(B[0]&32768&&k!==(k=H[15].t("TTS Model")+"")&&R(w,k),B[0]&16&&S.value!==H[4]&&F(S,H[4]),B[0]&16384){q=rt(H[14]);let O;for(O=0;O<q.length;O+=1){const N=ln(H,q,O);L[O]?L[O].p(N,B):(L[O]=cn(N),L[O].c(),L[O].m($,null))}for(;O<L.length;O+=1)L[O].d(1);L.length=q.length}},d(H){H&&u(e),Ct(G,H),Ct(L,H),M=!1,Zt(Z)}}}function Su(a){let e,t,l=a[15].t("TTS Voice")+"",s,o,i,c,f,v,g=a[15].t("Default")+"",p,b,m,I,k=rt(a[13]),w=[];for(let E=0;E<k.length;E+=1)w[E]=dn(sn(a,k,E));return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("select"),v=d("option"),p=U(g);for(let E=0;E<w.length;E+=1)w[E].c();this.h()},l(E){e=h(E,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);s=C(T,l),T.forEach(u),o=D(y),i=h(y,"DIV",{class:!0});var S=_(i);c=h(S,"DIV",{class:!0});var P=_(c);f=h(P,"SELECT",{class:!0});var $=_(f);v=h($,"OPTION",{});var M=_(v);p=C(M,g),M.forEach(u);for(let Z=0;Z<w.length;Z+=1)w[Z].l($);$.forEach(u),P.forEach(u),S.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),v.__value="",F(v,v.__value),v.selected=b=a[5]!=="",n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),a[5]===void 0&&Jt(()=>a[33].call(f)),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(E,y){V(E,e,y),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,p);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(f,null);Et(f,a[5],!0),m||(I=re(f,"change",a[33]),m=!0)},p(E,y){if(y[0]&32768&&l!==(l=E[15].t("TTS Voice")+"")&&R(s,l),y[0]&32768&&g!==(g=E[15].t("Default")+"")&&R(p,g),y[0]&8224&&b!==(b=E[5]!=="")&&(v.selected=b),y[0]&8224){k=rt(E[13]);let T;for(T=0;T<k.length;T+=1){const S=sn(E,k,T);w[T]?w[T].p(S,y):(w[T]=dn(S),w[T].c(),w[T].m(f,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=k.length}y[0]&8224&&Et(f,E[5])},d(E){E&&u(e),Ct(w,E),m=!1,I()}}}function nn(a){let e,t=a[45].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[45].id,F(e,e.__value)},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[45].name+"")&&R(l,t),i[0]&8192&&s!==(s=o[45].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function on(a){let e,t=a[45].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[45].id,F(e,e.__value)},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[45].name+"")&&R(l,t),i[0]&8192&&s!==(s=o[45].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function un(a){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=a[48].id,F(e,e.__value)},m(l,s){V(l,e,s)},p(l,s){s[0]&16384&&t!==(t=l[48].id)&&(e.__value=t,F(e,e.__value))},d(l){l&&u(e)}}}function fn(a){let e,t=a[45].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[45].id,F(e,e.__value)},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[45].name+"")&&R(l,t),i[0]&8192&&s!==(s=o[45].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function cn(a){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=a[48].id,F(e,e.__value)},m(l,s){V(l,e,s)},p(l,s){s[0]&16384&&t!==(t=l[48].id)&&(e.__value=t,F(e,e.__value))},d(l){l&&u(e)}}}function dn(a){let e,t=a[45].name+"",l,s,o;return{c(){e=d("option"),l=U(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=C(c,t),c.forEach(u),this.h()},h(){e.__value=s=a[45].voiceURI,F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=o=a[5]===a[45].voiceURI},m(i,c){V(i,e,c),r(e,l)},p(i,c){c[0]&8192&&t!==(t=i[45].name+"")&&R(l,t),c[0]&8192&&s!==(s=i[45].voiceURI)&&(e.__value=s,F(e,e.__value)),c[0]&8224&&o!==(o=i[5]===i[45].voiceURI)&&(e.selected=o)},d(i){i&&u(e)}}}function hn(a){let e,t=a[15].t(a[42].charAt(0).toUpperCase()+a[42].slice(1))+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value=a[42],F(e,e.__value)},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&32768&&t!==(t=s[15].t(s[42].charAt(0).toUpperCase()+s[42].slice(1))+"")&&R(l,t)},d(s){s&&u(e)}}}function Vu(a){let e,t,l,s,o,i=a[15].t("STT Settings")+"",c,f,v,g,p=a[15].t("Speech-to-Text Engine")+"",b,m,I,k,w,E=a[15].t("Whisper (Local)")+"",y,T,S="OpenAI",P,$=a[15].t("Web API")+"",M,Z,W,G,q,L,H,B=a[15].t("TTS Settings")+"",O,N,j,Y,Q=a[15].t("Text-to-Speech Engine")+"",J,K,x,le,oe,ee=a[15].t("Web API")+"",_e,ue,Te=a[15].t("OpenAI")+"",ce,Me,De=a[15].t("ElevenLabs")+"",He,ke,Ge=a[15].t("Azure AI Speech")+"",me,Ae,Ce,we,Le,ze,Re,Ye,at,ve,Se,pe,fe=a[15].t("Response splitting")+"",Ie,ne,Ve,Be,Oe,X,se=a[15].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",Pe,Ke,We,nt,qe=a[15].t("Save")+"",Je,tt,ct,ot,ge=a[11]==="openai"&&rn(a);const ft=[yu,Iu,wu],lt=[];function st(ye,Ee){return ye[3]==="openai"?0:ye[3]==="elevenlabs"?1:ye[3]==="azure"?2:-1}~(Ce=st(a))&&(we=lt[Ce]=ft[Ce](a));function de(ye,Ee){if(ye[3]==="")return Su;if(ye[3]==="openai")return Du;if(ye[3]==="elevenlabs")return Au;if(ye[3]==="azure")return Tu}let te=de(a),z=te&&te(a),he=rt(Object.values(cs)),Ne=[];for(let ye=0;ye<he.length;ye+=1)Ne[ye]=hn(Xr(a,he,ye));return{c(){e=d("form"),t=d("div"),l=d("div"),s=d("div"),o=d("div"),c=U(i),f=A(),v=d("div"),g=d("div"),b=U(p),m=A(),I=d("div"),k=d("select"),w=d("option"),y=U(E),T=d("option"),T.textContent=S,P=d("option"),M=U($),Z=A(),ge&&ge.c(),W=A(),G=d("hr"),q=A(),L=d("div"),H=d("div"),O=U(B),N=A(),j=d("div"),Y=d("div"),J=U(Q),K=A(),x=d("div"),le=d("select"),oe=d("option"),_e=U(ee),ue=d("option"),ce=U(Te),Me=d("option"),He=U(De),ke=d("option"),me=U(Ge),Ae=A(),we&&we.c(),Le=A(),ze=d("hr"),Re=A(),z&&z.c(),Ye=A(),at=d("hr"),ve=A(),Se=d("div"),pe=d("div"),Ie=U(fe),ne=A(),Ve=d("div"),Be=d("select");for(let ye=0;ye<Ne.length;ye+=1)Ne[ye].c();Oe=A(),X=d("div"),Pe=U(se),Ke=A(),We=d("div"),nt=d("button"),Je=U(qe),this.h()},l(ye){e=h(ye,"FORM",{class:!0});var Ee=_(e);t=h(Ee,"DIV",{class:!0});var ut=_(t);l=h(ut,"DIV",{class:!0});var _t=_(l);s=h(_t,"DIV",{});var yt=_(s);o=h(yt,"DIV",{class:!0});var Rt=_(o);c=C(Rt,i),Rt.forEach(u),f=D(yt),v=h(yt,"DIV",{class:!0});var jt=_(v);g=h(jt,"DIV",{class:!0});var Pt=_(g);b=C(Pt,p),Pt.forEach(u),m=D(jt),I=h(jt,"DIV",{class:!0});var $e=_(I);k=h($e,"SELECT",{class:!0,placeholder:!0});var Ze=_(k);w=h(Ze,"OPTION",{});var Vt=_(w);y=C(Vt,E),Vt.forEach(u),T=h(Ze,"OPTION",{"data-svelte-h":!0}),ht(T)!=="svelte-bbvrw2"&&(T.textContent=S),P=h(Ze,"OPTION",{});var Mt=_(P);M=C(Mt,$),Mt.forEach(u),Ze.forEach(u),$e.forEach(u),jt.forEach(u),Z=D(yt),ge&&ge.l(yt),yt.forEach(u),W=D(_t),G=h(_t,"HR",{class:!0}),q=D(_t),L=h(_t,"DIV",{});var mt=_(L);H=h(mt,"DIV",{class:!0});var bt=_(H);O=C(bt,B),bt.forEach(u),N=D(mt),j=h(mt,"DIV",{class:!0});var gt=_(j);Y=h(gt,"DIV",{class:!0});var kt=_(Y);J=C(kt,Q),kt.forEach(u),K=D(gt),x=h(gt,"DIV",{class:!0});var it=_(x);le=h(it,"SELECT",{class:!0,placeholder:!0});var Ht=_(le);oe=h(Ht,"OPTION",{});var Ft=_(oe);_e=C(Ft,ee),Ft.forEach(u),ue=h(Ht,"OPTION",{});var Kt=_(ue);ce=C(Kt,Te),Kt.forEach(u),Me=h(Ht,"OPTION",{});var Lt=_(Me);He=C(Lt,De),Lt.forEach(u),ke=h(Ht,"OPTION",{});var Tt=_(ke);me=C(Tt,Ge),Tt.forEach(u),Ht.forEach(u),it.forEach(u),gt.forEach(u),Ae=D(mt),we&&we.l(mt),Le=D(mt),ze=h(mt,"HR",{class:!0}),Re=D(mt),z&&z.l(mt),Ye=D(mt),at=h(mt,"HR",{class:!0}),ve=D(mt),Se=h(mt,"DIV",{class:!0});var Fe=_(Se);pe=h(Fe,"DIV",{class:!0});var dt=_(pe);Ie=C(dt,fe),dt.forEach(u),ne=D(Fe),Ve=h(Fe,"DIV",{class:!0});var vt=_(Ve);Be=h(vt,"SELECT",{class:!0,"aria-label":!0});var Xt=_(Be);for(let el=0;el<Ne.length;el+=1)Ne[el].l(Xt);Xt.forEach(u),vt.forEach(u),Fe.forEach(u),Oe=D(mt),X=h(mt,"DIV",{class:!0});var Nt=_(X);Pe=C(Nt,se),Nt.forEach(u),mt.forEach(u),_t.forEach(u),ut.forEach(u),Ke=D(Ee),We=h(Ee,"DIV",{class:!0});var Wt=_(We);nt=h(Wt,"BUTTON",{class:!0,type:!0});var fl=_(nt);Je=C(fl,qe),fl.forEach(u),Wt.forEach(u),Ee.forEach(u),this.h()},h(){n(o,"class","mb-1 text-sm font-medium"),n(g,"class","self-center text-xs font-medium"),w.__value="",F(w,w.__value),T.__value="openai",F(T,T.__value),P.__value="web",F(P,P.__value),n(k,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(k,"placeholder","Select an engine"),a[11]===void 0&&Jt(()=>a[22].call(k)),n(I,"class","flex items-center relative"),n(v,"class","py-0.5 flex w-full justify-between"),n(G,"class","dark:border-gray-800"),n(H,"class","mb-1 text-sm font-medium"),n(Y,"class","self-center text-xs font-medium"),oe.__value="",F(oe,oe.__value),ue.__value="openai",F(ue,ue.__value),Me.__value="elevenlabs",F(Me,Me.__value),ke.__value="azure",F(ke,ke.__value),n(le,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(le,"placeholder","Select a mode"),a[3]===void 0&&Jt(()=>a[26].call(le)),n(x,"class","flex items-center relative"),n(j,"class","py-0.5 flex w-full justify-between"),n(ze,"class","dark:border-gray-850 my-2"),n(at,"class","dark:border-gray-850 my-2"),n(pe,"class","self-center text-xs font-medium"),n(Be,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(Be,"aria-label","Select how to split message text for TTS requests"),a[6]===void 0&&Jt(()=>a[40].call(Be)),n(Ve,"class","flex items-center relative"),n(Se,"class","pt-0.5 flex w-full justify-between"),n(X,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(l,"class","flex flex-col gap-3"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(nt,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(nt,"type","submit"),n(We,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ye,Ee){V(ye,e,Ee),r(e,t),r(t,l),r(l,s),r(s,o),r(o,c),r(s,f),r(s,v),r(v,g),r(g,b),r(v,m),r(v,I),r(I,k),r(k,w),r(w,y),r(k,T),r(k,P),r(P,M),Et(k,a[11],!0),r(s,Z),ge&&ge.m(s,null),r(l,W),r(l,G),r(l,q),r(l,L),r(L,H),r(H,O),r(L,N),r(L,j),r(j,Y),r(Y,J),r(j,K),r(j,x),r(x,le),r(le,oe),r(oe,_e),r(le,ue),r(ue,ce),r(le,Me),r(Me,He),r(le,ke),r(ke,me),Et(le,a[3],!0),r(L,Ae),~Ce&&lt[Ce].m(L,null),r(L,Le),r(L,ze),r(L,Re),z&&z.m(L,null),r(L,Ye),r(L,at),r(L,ve),r(L,Se),r(Se,pe),r(pe,Ie),r(Se,ne),r(Se,Ve),r(Ve,Be);for(let ut=0;ut<Ne.length;ut+=1)Ne[ut]&&Ne[ut].m(Be,null);Et(Be,a[6],!0),r(L,Oe),r(L,X),r(X,Pe),r(e,Ke),r(e,We),r(We,nt),r(nt,Je),tt=!0,ct||(ot=[re(k,"change",a[22]),re(le,"change",a[26]),re(le,"change",a[27]),re(Be,"change",a[40]),re(e,"submit",Ml(a[41]))],ct=!0)},p(ye,Ee){(!tt||Ee[0]&32768)&&i!==(i=ye[15].t("STT Settings")+"")&&R(c,i),(!tt||Ee[0]&32768)&&p!==(p=ye[15].t("Speech-to-Text Engine")+"")&&R(b,p),(!tt||Ee[0]&32768)&&E!==(E=ye[15].t("Whisper (Local)")+"")&&R(y,E),(!tt||Ee[0]&32768)&&$!==($=ye[15].t("Web API")+"")&&R(M,$),Ee[0]&2048&&Et(k,ye[11]),ye[11]==="openai"?ge?(ge.p(ye,Ee),Ee[0]&2048&&ae(ge,1)):(ge=rn(ye),ge.c(),ae(ge,1),ge.m(s,null)):ge&&(Dt(),ie(ge,1,1,()=>{ge=null}),St()),(!tt||Ee[0]&32768)&&B!==(B=ye[15].t("TTS Settings")+"")&&R(O,B),(!tt||Ee[0]&32768)&&Q!==(Q=ye[15].t("Text-to-Speech Engine")+"")&&R(J,Q),(!tt||Ee[0]&32768)&&ee!==(ee=ye[15].t("Web API")+"")&&R(_e,ee),(!tt||Ee[0]&32768)&&Te!==(Te=ye[15].t("OpenAI")+"")&&R(ce,Te),(!tt||Ee[0]&32768)&&De!==(De=ye[15].t("ElevenLabs")+"")&&R(He,De),(!tt||Ee[0]&32768)&&Ge!==(Ge=ye[15].t("Azure AI Speech")+"")&&R(me,Ge),Ee[0]&8&&Et(le,ye[3]);let ut=Ce;if(Ce=st(ye),Ce===ut?~Ce&&lt[Ce].p(ye,Ee):(we&&(Dt(),ie(lt[ut],1,1,()=>{lt[ut]=null}),St()),~Ce?(we=lt[Ce],we?we.p(ye,Ee):(we=lt[Ce]=ft[Ce](ye),we.c()),ae(we,1),we.m(L,Le)):we=null),te===(te=de(ye))&&z?z.p(ye,Ee):(z&&z.d(1),z=te&&te(ye),z&&(z.c(),z.m(L,Ye))),(!tt||Ee[0]&32768)&&fe!==(fe=ye[15].t("Response splitting")+"")&&R(Ie,fe),Ee[0]&32768){he=rt(Object.values(cs));let _t;for(_t=0;_t<he.length;_t+=1){const yt=Xr(ye,he,_t);Ne[_t]?Ne[_t].p(yt,Ee):(Ne[_t]=hn(yt),Ne[_t].c(),Ne[_t].m(Be,null))}for(;_t<Ne.length;_t+=1)Ne[_t].d(1);Ne.length=he.length}Ee[0]&64&&Et(Be,ye[6]),(!tt||Ee[0]&32768)&&se!==(se=ye[15].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&R(Pe,se),(!tt||Ee[0]&32768)&&qe!==(qe=ye[15].t("Save")+"")&&R(Je,qe)},i(ye){tt||(ae(ge),ae(we),tt=!0)},o(ye){ie(ge),ie(we),tt=!1},d(ye){ye&&u(e),ge&&ge.d(),~Ce&&lt[Ce].d(),z&&z.d(),Ct(Ne,ye),ct=!1,Zt(ot)}}}function Mu(a,e,t){let l;const s=Oa(),o=wl("i18n");zt(a,o,ce=>t(15,l=ce));let{saveHandler:i}=e,c="",f="",v="",g="",p="",b="",m=cs.PUNCTUATION,I="",k="",w="",E="",y="",T="",S=[],P=[];const $=async()=>{if(g==="")t(14,P=[]);else{const ce=await uo(localStorage.token).catch(Me=>{Ue.error(Me)});ce&&(console.log(ce),t(14,P=ce.models))}},M=async()=>{if(g===""){const ce=setInterval(()=>{t(13,S=speechSynthesis.getVoices()),S.length>0&&clearInterval(ce)},100)}else{const ce=await fo(localStorage.token).catch(Me=>{Ue.error(Me)});ce&&(console.log(ce),t(13,S=ce.voices))}},Z=async()=>{await co(localStorage.token,{tts:{OPENAI_API_BASE_URL:c,OPENAI_API_KEY:f,API_KEY:v,ENGINE:g,MODEL:p,VOICE:b,SPLIT_ON:m,AZURE_SPEECH_REGION:I,AZURE_SPEECH_OUTPUT_FORMAT:k},stt:{OPENAI_API_BASE_URL:w,OPENAI_API_KEY:E,ENGINE:y,MODEL:T}})&&(i(),ea().then(Ul.set).catch(()=>{}))};Il(async()=>{const ce=await oo(localStorage.token);ce&&(console.log(ce),t(0,c=ce.tts.OPENAI_API_BASE_URL),t(1,f=ce.tts.OPENAI_API_KEY),t(2,v=ce.tts.API_KEY),t(3,g=ce.tts.ENGINE),t(4,p=ce.tts.MODEL),t(5,b=ce.tts.VOICE),t(6,m=ce.tts.SPLIT_ON||cs.PUNCTUATION),t(8,k=ce.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,I=ce.tts.AZURE_SPEECH_REGION),t(9,w=ce.stt.OPENAI_API_BASE_URL),t(10,E=ce.stt.OPENAI_API_KEY),t(11,y=ce.stt.ENGINE),t(12,T=ce.stt.MODEL)),await M(),await $()});function W(){y=Yt(this),t(11,y)}function G(){w=this.value,t(9,w)}function q(ce){E=ce,t(10,E)}function L(){T=this.value,t(12,T)}function H(){g=Yt(this),t(3,g)}const B=async ce=>{var Me;await Z(),await M(),await $(),((Me=ce.target)==null?void 0:Me.value)==="openai"?(t(5,b="alloy"),t(4,p="tts-1")):(t(5,b=""),t(4,p=""))};function O(){c=this.value,t(0,c)}function N(ce){f=ce,t(1,f)}function j(){v=this.value,t(2,v)}function Y(){v=this.value,t(2,v)}function Q(){I=this.value,t(7,I)}function J(){b=Yt(this),t(5,b),t(13,S)}function K(){b=this.value,t(5,b),t(13,S)}function x(){p=this.value,t(4,p)}function le(){b=this.value,t(5,b),t(13,S)}function oe(){p=this.value,t(4,p)}function ee(){b=this.value,t(5,b),t(13,S)}function _e(){k=this.value,t(8,k)}function ue(){m=Yt(this),t(6,m)}const Te=async()=>{await Z(),s("save")};return a.$$set=ce=>{"saveHandler"in ce&&t(21,i=ce.saveHandler)},[c,f,v,g,p,b,m,I,k,w,E,y,T,S,P,l,s,o,$,M,Z,i,W,G,q,L,H,B,O,N,j,Y,Q,J,K,x,le,oe,ee,_e,ue,Te]}class Ou extends pl{constructor(e){super(),gl(this,e,Mu,Vu,vl,{saveHandler:21},null,[-1,-1])}}function _n(a,e,t){const l=a.slice();return l[38]=e[t],l}function vn(a,e,t){const l=a.slice();return l[47]=e[t],l[48]=e,l[49]=t,l}function pn(a,e,t){const l=a.slice();return l[41]=e[t],l}function gn(a,e,t){const l=a.slice();return l[44]=e[t],l}function mn(a){var Ge;let e,t,l=a[5].t("Image Settings")+"",s,o,i,c,f,v=a[5].t("Image Generation (Experimental)")+"",g,p,b,m,I,k,w,E,y=a[5].t("Image Generation Engine")+"",T,S,P,$,M,Z=a[5].t("Default (Open AI)")+"",W,G,q=a[5].t("ComfyUI")+"",L,H,B=a[5].t("Automatic1111")+"",O,N,j,Y,Q,J,K,x,le,oe,ee,_e,ue;function Te(me){a[11](me)}let ce={};a[1].enabled!==void 0&&(ce.state=a[1].enabled),m=new kl({props:ce}),Ut.push(()=>$t(m,"state",Te)),m.$on("change",a[12]);const Me=[Nu,Lu,Pu],De=[];function He(me,Ae){var Ce,we,Le;return(((Ce=me[1])==null?void 0:Ce.engine)??"automatic1111")==="automatic1111"?0:((we=me[1])==null?void 0:we.engine)==="comfyui"?1:((Le=me[1])==null?void 0:Le.engine)==="openai"?2:-1}~(K=He(a))&&(x=De[K]=Me[K](a));let ke=((Ge=a[1])==null?void 0:Ge.enabled)&&yn(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("div"),g=U(v),p=A(),b=d("div"),Qe(m.$$.fragment),k=A(),w=d("div"),E=d("div"),T=U(y),S=A(),P=d("div"),$=d("select"),M=d("option"),W=U(Z),G=d("option"),L=U(q),H=d("option"),O=U(B),j=A(),Y=d("hr"),Q=A(),J=d("div"),x&&x.c(),le=A(),ke&&ke.c(),oe=Gt(),this.h()},l(me){e=h(me,"DIV",{});var Ae=_(e);t=h(Ae,"DIV",{class:!0});var Ce=_(t);s=C(Ce,l),Ce.forEach(u),o=D(Ae),i=h(Ae,"DIV",{});var we=_(i);c=h(we,"DIV",{class:!0});var Le=_(c);f=h(Le,"DIV",{class:!0});var ze=_(f);g=C(ze,v),ze.forEach(u),p=D(Le),b=h(Le,"DIV",{class:!0});var Re=_(b);Xe(m.$$.fragment,Re),Re.forEach(u),Le.forEach(u),we.forEach(u),k=D(Ae),w=h(Ae,"DIV",{class:!0});var Ye=_(w);E=h(Ye,"DIV",{class:!0});var at=_(E);T=C(at,y),at.forEach(u),S=D(Ye),P=h(Ye,"DIV",{class:!0});var ve=_(P);$=h(ve,"SELECT",{class:!0,placeholder:!0});var Se=_($);M=h(Se,"OPTION",{});var pe=_(M);W=C(pe,Z),pe.forEach(u),G=h(Se,"OPTION",{});var fe=_(G);L=C(fe,q),fe.forEach(u),H=h(Se,"OPTION",{});var Ie=_(H);O=C(Ie,B),Ie.forEach(u),Se.forEach(u),ve.forEach(u),Ye.forEach(u),Ae.forEach(u),j=D(me),Y=h(me,"HR",{class:!0}),Q=D(me),J=h(me,"DIV",{class:!0});var ne=_(J);x&&x.l(ne),ne.forEach(u),le=D(me),ke&&ke.l(me),oe=Gt(),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(b,"class","px-1"),n(c,"class","py-0.5 flex w-full justify-between"),n(E,"class","self-center text-xs font-medium"),M.__value="openai",F(M,M.__value),G.__value="comfyui",F(G,G.__value),H.__value="automatic1111",F(H,H.__value),n($,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n($,"placeholder",N=a[5].t("Select Engine")),a[1].engine===void 0&&Jt(()=>a[13].call($)),n(P,"class","flex items-center relative"),n(w,"class","py-0.5 flex w-full justify-between"),n(Y,"class","dark:border-gray-850"),n(J,"class","flex flex-col gap-2")},m(me,Ae){V(me,e,Ae),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),r(f,g),r(c,p),r(c,b),xe(m,b,null),r(e,k),r(e,w),r(w,E),r(E,T),r(w,S),r(w,P),r(P,$),r($,M),r(M,W),r($,G),r(G,L),r($,H),r(H,O),Et($,a[1].engine,!0),V(me,j,Ae),V(me,Y,Ae),V(me,Q,Ae),V(me,J,Ae),~K&&De[K].m(J,null),V(me,le,Ae),ke&&ke.m(me,Ae),V(me,oe,Ae),ee=!0,_e||(ue=[re($,"change",a[13]),re($,"change",a[14])],_e=!0)},p(me,Ae){var Le;(!ee||Ae[0]&32)&&l!==(l=me[5].t("Image Settings")+"")&&R(s,l),(!ee||Ae[0]&32)&&v!==(v=me[5].t("Image Generation (Experimental)")+"")&&R(g,v);const Ce={};!I&&Ae[0]&2&&(I=!0,Ce.state=me[1].enabled,Bt(()=>I=!1)),m.$set(Ce),(!ee||Ae[0]&32)&&y!==(y=me[5].t("Image Generation Engine")+"")&&R(T,y),(!ee||Ae[0]&32)&&Z!==(Z=me[5].t("Default (Open AI)")+"")&&R(W,Z),(!ee||Ae[0]&32)&&q!==(q=me[5].t("ComfyUI")+"")&&R(L,q),(!ee||Ae[0]&32)&&B!==(B=me[5].t("Automatic1111")+"")&&R(O,B),(!ee||Ae[0]&32&&N!==(N=me[5].t("Select Engine")))&&n($,"placeholder",N),Ae[0]&2&&Et($,me[1].engine);let we=K;K=He(me),K===we?~K&&De[K].p(me,Ae):(x&&(Dt(),ie(De[we],1,1,()=>{De[we]=null}),St()),~K?(x=De[K],x?x.p(me,Ae):(x=De[K]=Me[K](me),x.c()),ae(x,1),x.m(J,null)):x=null),(Le=me[1])!=null&&Le.enabled?ke?(ke.p(me,Ae),Ae[0]&2&&ae(ke,1)):(ke=yn(me),ke.c(),ae(ke,1),ke.m(oe.parentNode,oe)):ke&&(Dt(),ie(ke,1,1,()=>{ke=null}),St())},i(me){ee||(ae(m.$$.fragment,me),ae(x),ae(ke),ee=!0)},o(me){ie(m.$$.fragment,me),ie(x),ie(ke),ee=!1},d(me){me&&(u(e),u(j),u(Y),u(Q),u(J),u(le),u(oe)),et(m),~K&&De[K].d(),ke&&ke.d(me),_e=!1,Zt(ue)}}}function Pu(a){let e,t,l=a[5].t("OpenAI API Config")+"",s,o,i,c,f,v,g,p,b,m,I;function k(E){a[29](E)}let w={placeholder:a[5].t("API Key")};return a[1].openai.OPENAI_API_KEY!==void 0&&(w.value=a[1].openai.OPENAI_API_KEY),g=new ml({props:w}),Ut.push(()=>$t(g,"value",k)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("input"),v=A(),Qe(g.$$.fragment),this.h()},l(E){e=h(E,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);s=C(T,l),T.forEach(u),o=D(y),i=h(y,"DIV",{class:!0});var S=_(i);c=h(S,"INPUT",{class:!0,placeholder:!0}),v=D(S),Xe(g.$$.fragment,S),S.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),n(c,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=a[5].t("API Base URL")),c.required=!0,n(i,"class","flex gap-2 mb-1")},m(E,y){V(E,e,y),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),F(c,a[1].openai.OPENAI_API_BASE_URL),r(i,v),xe(g,i,null),b=!0,m||(I=re(c,"input",a[28]),m=!0)},p(E,y){(!b||y[0]&32)&&l!==(l=E[5].t("OpenAI API Config")+"")&&R(s,l),(!b||y[0]&32&&f!==(f=E[5].t("API Base URL")))&&n(c,"placeholder",f),y[0]&2&&c.value!==E[1].openai.OPENAI_API_BASE_URL&&F(c,E[1].openai.OPENAI_API_BASE_URL);const T={};y[0]&32&&(T.placeholder=E[5].t("API Key")),!p&&y[0]&2&&(p=!0,T.value=E[1].openai.OPENAI_API_KEY,Bt(()=>p=!1)),g.$set(T)},i(E){b||(ae(g.$$.fragment,E),b=!0)},o(E){ie(g.$$.fragment,E),b=!1},d(E){E&&u(e),et(g),m=!1,I()}}}function Lu(a){let e,t,l=a[5].t("ComfyUI Base URL")+"",s,o,i,c,f,v,g,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,I,k,w=a[5].t("ComfyUI Workflow")+"",E,y,T,S,P,$,M,Z,W=a[5].t("Click here to upload a workflow.json file.")+"",G,q,L,H=a[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",B,O,N,j,Y,Q,J=a[1].comfyui.COMFYUI_WORKFLOW&&bn(a),K=a[1].comfyui.COMFYUI_WORKFLOW&&En(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("input"),g=A(),p=d("button"),p.innerHTML=b,m=A(),I=d("div"),k=d("div"),E=U(w),y=A(),J&&J.c(),T=A(),S=d("div"),P=d("div"),$=d("input"),M=A(),Z=d("button"),G=U(W),q=A(),L=d("div"),B=U(H),O=A(),K&&K.c(),N=Gt(),this.h()},l(x){e=h(x,"DIV",{class:!0});var le=_(e);t=h(le,"DIV",{class:!0});var oe=_(t);s=C(oe,l),oe.forEach(u),o=D(le),i=h(le,"DIV",{class:!0});var ee=_(i);c=h(ee,"DIV",{class:!0});var _e=_(c);f=h(_e,"INPUT",{class:!0,placeholder:!0}),_e.forEach(u),g=D(ee),p=h(ee,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(p)!=="svelte-3652k3"&&(p.innerHTML=b),ee.forEach(u),le.forEach(u),m=D(x),I=h(x,"DIV",{class:!0});var ue=_(I);k=h(ue,"DIV",{class:!0});var Te=_(k);E=C(Te,w),Te.forEach(u),y=D(ue),J&&J.l(ue),T=D(ue),S=h(ue,"DIV",{class:!0});var ce=_(S);P=h(ce,"DIV",{class:!0});var Me=_(P);$=h(Me,"INPUT",{id:!0,type:!0,accept:!0}),M=D(Me),Z=h(Me,"BUTTON",{class:!0,type:!0});var De=_(Z);G=C(De,W),De.forEach(u),Me.forEach(u),ce.forEach(u),q=D(ue),L=h(ue,"DIV",{class:!0});var He=_(L);B=C(He,H),He.forEach(u),ue.forEach(u),O=D(x),K&&K.l(x),N=Gt(),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=a[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(e,"class",""),n(k,"class","mb-2 text-sm font-medium"),n($,"id","upload-comfyui-workflow-input"),$.hidden=!0,n($,"type","file"),n($,"accept",".json"),n(Z,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(Z,"type","button"),n(P,"class","flex-1"),n(S,"class","flex w-full"),n(L,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(I,"class","")},m(x,le){V(x,e,le),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),F(f,a[1].comfyui.COMFYUI_BASE_URL),r(i,g),r(i,p),V(x,m,le),V(x,I,le),r(I,k),r(k,E),r(I,y),J&&J.m(I,null),r(I,T),r(I,S),r(S,P),r(P,$),r(P,M),r(P,Z),r(Z,G),r(I,q),r(I,L),r(L,B),V(x,O,le),K&&K.m(x,le),V(x,N,le),j=!0,Y||(Q=[re(f,"input",a[21]),re(p,"click",a[22]),re($,"change",a[24]),re(Z,"click",a[25])],Y=!0)},p(x,le){(!j||le[0]&32)&&l!==(l=x[5].t("ComfyUI Base URL")+"")&&R(s,l),(!j||le[0]&32&&v!==(v=x[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),le[0]&2&&f.value!==x[1].comfyui.COMFYUI_BASE_URL&&F(f,x[1].comfyui.COMFYUI_BASE_URL),(!j||le[0]&32)&&w!==(w=x[5].t("ComfyUI Workflow")+"")&&R(E,w),x[1].comfyui.COMFYUI_WORKFLOW?J?J.p(x,le):(J=bn(x),J.c(),J.m(I,T)):J&&(J.d(1),J=null),(!j||le[0]&32)&&W!==(W=x[5].t("Click here to upload a workflow.json file.")+"")&&R(G,W),(!j||le[0]&32)&&H!==(H=x[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&R(B,H),x[1].comfyui.COMFYUI_WORKFLOW?K?(K.p(x,le),le[0]&2&&ae(K,1)):(K=En(x),K.c(),ae(K,1),K.m(N.parentNode,N)):K&&(Dt(),ie(K,1,1,()=>{K=null}),St())},i(x){j||(ae(K),j=!0)},o(x){ie(K),j=!1},d(x){x&&(u(e),u(m),u(I),u(O),u(N)),J&&J.d(),K&&K.d(x),Y=!1,Zt(Q)}}}function Nu(a){let e,t,l=a[5].t("AUTOMATIC1111 Base URL")+"",s,o,i,c,f,v,g,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,I,k=a[5].t("Include `--api` flag when running stable-diffusion-webui")+"",w,E,y,T=a[5].t("(e.g. `sh webui.sh --api`)")+"",S,P,$,M,Z=a[5].t("AUTOMATIC1111 Api Auth String")+"",W,G,q,L,H,B,O=a[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",N,j,Y,Q=a[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",J,K,x,le,oe=a[5].t("Set Sampler")+"",ee,_e,ue,Te,ce,Me,De,He,ke=a[5].t("Set Scheduler")+"",Ge,me,Ae,Ce,we,Le,ze,Re,Ye=a[5].t("Set CFG Scale")+"",at,ve,Se,pe,fe,Ie,ne,Ve;function Be(X){a[17](X)}let Oe={placeholder:a[5].t("Enter api auth string (e.g. username:password)"),required:!1};return a[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(Oe.value=a[1].automatic1111.AUTOMATIC1111_API_AUTH),q=new ml({props:Oe}),Ut.push(()=>$t(q,"value",Be)),ce=new Qt({props:{content:a[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[Ru]},$$scope:{ctx:a}}}),we=new Qt({props:{content:a[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[Hu]},$$scope:{ctx:a}}}),fe=new Qt({props:{content:a[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[Bu]},$$scope:{ctx:a}}}),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("input"),g=A(),p=d("button"),p.innerHTML=b,m=A(),I=d("div"),w=U(k),E=A(),y=d("a"),S=U(T),P=A(),$=d("div"),M=d("div"),W=U(Z),G=A(),Qe(q.$$.fragment),H=A(),B=d("div"),N=U(O),j=A(),Y=d("a"),J=U(Q),K=A(),x=d("div"),le=d("div"),ee=U(oe),_e=A(),ue=d("div"),Te=d("div"),Qe(ce.$$.fragment),Me=A(),De=d("div"),He=d("div"),Ge=U(ke),me=A(),Ae=d("div"),Ce=d("div"),Qe(we.$$.fragment),Le=A(),ze=d("div"),Re=d("div"),at=U(Ye),ve=A(),Se=d("div"),pe=d("div"),Qe(fe.$$.fragment),this.h()},l(X){e=h(X,"DIV",{});var se=_(e);t=h(se,"DIV",{class:!0});var Pe=_(t);s=C(Pe,l),Pe.forEach(u),o=D(se),i=h(se,"DIV",{class:!0});var Ke=_(i);c=h(Ke,"DIV",{class:!0});var We=_(c);f=h(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(u),g=D(Ke),p=h(Ke,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(p)!=="svelte-3652k3"&&(p.innerHTML=b),Ke.forEach(u),m=D(se),I=h(se,"DIV",{class:!0});var nt=_(I);w=C(nt,k),E=D(nt),y=h(nt,"A",{class:!0,href:!0,target:!0});var qe=_(y);S=C(qe,T),qe.forEach(u),nt.forEach(u),se.forEach(u),P=D(X),$=h(X,"DIV",{});var Je=_($);M=h(Je,"DIV",{class:!0});var tt=_(M);W=C(tt,Z),tt.forEach(u),G=D(Je),Xe(q.$$.fragment,Je),H=D(Je),B=h(Je,"DIV",{class:!0});var ct=_(B);N=C(ct,O),j=D(ct),Y=h(ct,"A",{class:!0,href:!0,target:!0});var ot=_(Y);J=C(ot,Q),ot.forEach(u),ct.forEach(u),Je.forEach(u),K=D(X),x=h(X,"DIV",{});var ge=_(x);le=h(ge,"DIV",{class:!0});var ft=_(le);ee=C(ft,oe),ft.forEach(u),_e=D(ge),ue=h(ge,"DIV",{class:!0});var lt=_(ue);Te=h(lt,"DIV",{class:!0});var st=_(Te);Xe(ce.$$.fragment,st),st.forEach(u),lt.forEach(u),ge.forEach(u),Me=D(X),De=h(X,"DIV",{});var de=_(De);He=h(de,"DIV",{class:!0});var te=_(He);Ge=C(te,ke),te.forEach(u),me=D(de),Ae=h(de,"DIV",{class:!0});var z=_(Ae);Ce=h(z,"DIV",{class:!0});var he=_(Ce);Xe(we.$$.fragment,he),he.forEach(u),z.forEach(u),de.forEach(u),Le=D(X),ze=h(X,"DIV",{});var Ne=_(ze);Re=h(Ne,"DIV",{class:!0});var ye=_(Re);at=C(ye,Ye),ye.forEach(u),ve=D(Ne),Se=h(Ne,"DIV",{class:!0});var Ee=_(Se);pe=h(Ee,"DIV",{class:!0});var ut=_(pe);Xe(fe.$$.fragment,ut),ut.forEach(u),Ee.forEach(u),Ne.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=a[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(y,"class","text-gray-300 font-medium"),n(y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),n(y,"target","_blank"),n(I,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(M,"class","mb-2 text-sm font-medium"),n(Y,"class","text-gray-300 font-medium"),n(Y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),n(Y,"target","_blank"),n(B,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(le,"class","mb-2.5 text-sm font-medium"),n(Te,"class","flex-1 mr-2"),n(ue,"class","flex w-full"),n(He,"class","mb-2.5 text-sm font-medium"),n(Ce,"class","flex-1 mr-2"),n(Ae,"class","flex w-full"),n(Re,"class","mb-2.5 text-sm font-medium"),n(pe,"class","flex-1 mr-2"),n(Se,"class","flex w-full")},m(X,se){V(X,e,se),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),F(f,a[1].automatic1111.AUTOMATIC1111_BASE_URL),r(i,g),r(i,p),r(e,m),r(e,I),r(I,w),r(I,E),r(I,y),r(y,S),V(X,P,se),V(X,$,se),r($,M),r(M,W),r($,G),xe(q,$,null),r($,H),r($,B),r(B,N),r(B,j),r(B,Y),r(Y,J),V(X,K,se),V(X,x,se),r(x,le),r(le,ee),r(x,_e),r(x,ue),r(ue,Te),xe(ce,Te,null),V(X,Me,se),V(X,De,se),r(De,He),r(He,Ge),r(De,me),r(De,Ae),r(Ae,Ce),xe(we,Ce,null),V(X,Le,se),V(X,ze,se),r(ze,Re),r(Re,at),r(ze,ve),r(ze,Se),r(Se,pe),xe(fe,pe,null),Ie=!0,ne||(Ve=[re(f,"input",a[15]),re(p,"click",a[16])],ne=!0)},p(X,se){(!Ie||se[0]&32)&&l!==(l=X[5].t("AUTOMATIC1111 Base URL")+"")&&R(s,l),(!Ie||se[0]&32&&v!==(v=X[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(f,"placeholder",v),se[0]&2&&f.value!==X[1].automatic1111.AUTOMATIC1111_BASE_URL&&F(f,X[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Ie||se[0]&32)&&k!==(k=X[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&R(w,k),(!Ie||se[0]&32)&&T!==(T=X[5].t("(e.g. `sh webui.sh --api`)")+"")&&R(S,T),(!Ie||se[0]&32)&&Z!==(Z=X[5].t("AUTOMATIC1111 Api Auth String")+"")&&R(W,Z);const Pe={};se[0]&32&&(Pe.placeholder=X[5].t("Enter api auth string (e.g. username:password)")),!L&&se[0]&2&&(L=!0,Pe.value=X[1].automatic1111.AUTOMATIC1111_API_AUTH,Bt(()=>L=!1)),q.$set(Pe),(!Ie||se[0]&32)&&O!==(O=X[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&R(N,O),(!Ie||se[0]&32)&&Q!==(Q=X[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&R(J,Q),(!Ie||se[0]&32)&&oe!==(oe=X[5].t("Set Sampler")+"")&&R(ee,oe);const Ke={};se[0]&32&&(Ke.content=X[5].t("Enter Sampler (e.g. Euler a)")),se[0]&34|se[1]&524288&&(Ke.$$scope={dirty:se,ctx:X}),ce.$set(Ke),(!Ie||se[0]&32)&&ke!==(ke=X[5].t("Set Scheduler")+"")&&R(Ge,ke);const We={};se[0]&32&&(We.content=X[5].t("Enter Scheduler (e.g. Karras)")),se[0]&34|se[1]&524288&&(We.$$scope={dirty:se,ctx:X}),we.$set(We),(!Ie||se[0]&32)&&Ye!==(Ye=X[5].t("Set CFG Scale")+"")&&R(at,Ye);const nt={};se[0]&32&&(nt.content=X[5].t("Enter CFG Scale (e.g. 7.0)")),se[0]&34|se[1]&524288&&(nt.$$scope={dirty:se,ctx:X}),fe.$set(nt)},i(X){Ie||(ae(q.$$.fragment,X),ae(ce.$$.fragment,X),ae(we.$$.fragment,X),ae(fe.$$.fragment,X),Ie=!0)},o(X){ie(q.$$.fragment,X),ie(ce.$$.fragment,X),ie(we.$$.fragment,X),ie(fe.$$.fragment,X),Ie=!1},d(X){X&&(u(e),u(P),u($),u(K),u(x),u(Me),u(De),u(Le),u(ze)),et(q),et(ce),et(we),et(fe),ne=!1,Zt(Ve)}}}function bn(a){let e,t,l;return{c(){e=d("textarea"),this.h()},l(s){e=h(s,"TEXTAREA",{class:!0,rows:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),n(e,"rows","10"),e.required=!0},m(s,o){V(s,e,o),F(e,a[1].comfyui.COMFYUI_WORKFLOW),t||(l=re(e,"input",a[23]),t=!0)},p(s,o){o[0]&2&&F(e,s[1].comfyui.COMFYUI_WORKFLOW)},d(s){s&&u(e),t=!1,l()}}}function En(a){let e,t,l=a[5].t("ComfyUI Workflow Nodes")+"",s,o,i,c,f,v=a[5].t("*Prompt node ID(s) are required for image generation")+"",g,p,b=rt(a[4]),m=[];for(let k=0;k<b.length;k+=1)m[k]=kn(vn(a,b,k));const I=k=>ie(m[k],1,1,()=>{m[k]=null});return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div");for(let k=0;k<m.length;k+=1)m[k].c();c=A(),f=d("div"),g=U(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);s=C(E,l),E.forEach(u),o=D(w),i=h(w,"DIV",{class:!0});var y=_(i);for(let S=0;S<m.length;S+=1)m[S].l(y);y.forEach(u),c=D(w),f=h(w,"DIV",{class:!0});var T=_(f);g=C(T,v),T.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(i,"class","text-xs flex flex-col gap-1.5"),n(f,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),n(e,"class","")},m(k,w){V(k,e,w),r(e,t),r(t,s),r(e,o),r(e,i);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(i,null);r(e,c),r(e,f),r(f,g),p=!0},p(k,w){if((!p||w[0]&32)&&l!==(l=k[5].t("ComfyUI Workflow Nodes")+"")&&R(s,l),w[0]&16){b=rt(k[4]);let E;for(E=0;E<b.length;E+=1){const y=vn(k,b,E);m[E]?(m[E].p(y,w),ae(m[E],1)):(m[E]=kn(y),m[E].c(),ae(m[E],1),m[E].m(i,null))}for(Dt(),E=b.length;E<m.length;E+=1)I(E);St()}(!p||w[0]&32)&&v!==(v=k[5].t("*Prompt node ID(s) are required for image generation")+"")&&R(g,v)},i(k){if(!p){for(let w=0;w<b.length;w+=1)ae(m[w]);p=!0}},o(k){m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)ie(m[w]);p=!1},d(k){k&&u(e),Ct(m,k)}}}function Uu(a){let e,t,l;function s(){a[26].call(e,a[48],a[49])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),n(e,"placeholder","Key"),e.required=!0},m(o,i){V(o,e,i),F(e,a[47].key),t||(l=re(e,"input",s),t=!0)},p(o,i){a=o,i[0]&16&&e.value!==a[47].key&&F(e,a[47].key)},d(o){o&&u(e),t=!1,l()}}}function Cu(a){let e,t,l;function s(){a[27].call(e,a[48],a[49])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),n(e,"placeholder","Node Ids")},m(o,i){V(o,e,i),F(e,a[47].node_ids),t||(l=re(e,"input",s),t=!0)},p(o,i){a=o,i[0]&16&&e.value!==a[47].node_ids&&F(e,a[47].node_ids)},d(o){o&&u(e),t=!1,l()}}}function kn(a){let e,t,l,s=a[47].type+"",o,i=a[47].type==="prompt"?"*":"",c,f,v,g,p,b,m,I,k;return g=new Qt({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Uu]},$$scope:{ctx:a}}}),m=new Qt({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Cu]},$$scope:{ctx:a}}}),{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),c=U(i),f=A(),v=d("div"),Qe(g.$$.fragment),p=A(),b=d("div"),Qe(m.$$.fragment),I=A(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var y=_(t);l=h(y,"DIV",{class:!0});var T=_(l);o=C(T,s),c=C(T,i),T.forEach(u),y.forEach(u),f=D(E),v=h(E,"DIV",{class:!0});var S=_(v);Xe(g.$$.fragment,S),S.forEach(u),p=D(E),b=h(E,"DIV",{class:!0});var P=_(b);Xe(m.$$.fragment,P),P.forEach(u),I=D(E),E.forEach(u),this.h()},h(){n(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),n(t,"class","flex-shrink-0"),n(v,"class",""),n(b,"class","w-full"),n(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(w,E){V(w,e,E),r(e,t),r(t,l),r(l,o),r(l,c),r(e,f),r(e,v),xe(g,v,null),r(e,p),r(e,b),xe(m,b,null),r(e,I),k=!0},p(w,E){(!k||E[0]&16)&&s!==(s=w[47].type+"")&&R(o,s),(!k||E[0]&16)&&i!==(i=w[47].type==="prompt"?"*":"")&&R(c,i);const y={};E[0]&16|E[1]&524288&&(y.$$scope={dirty:E,ctx:w}),g.$set(y);const T={};E[0]&16|E[1]&524288&&(T.$$scope={dirty:E,ctx:w}),m.$set(T)},i(w){k||(ae(g.$$.fragment,w),ae(m.$$.fragment,w),k=!0)},o(w){ie(g.$$.fragment,w),ie(m.$$.fragment,w),k=!1},d(w){w&&u(e),et(g),et(m)}}}function wn(a){let e,t=a[44]+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value=a[44],F(e,e.__value)},m(s,o){V(s,e,o),r(e,l)},p:pt,d(s){s&&u(e)}}}function Ru(a){let e,t,l,s,o,i,c=rt(a[7]??[]),f=[];for(let v=0;v<c.length;v+=1)f[v]=wn(gn(a,c,v));return{c(){e=d("input"),l=A(),s=d("datalist");for(let v=0;v<f.length;v+=1)f[v].c();this.h()},l(v){e=h(v,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(v),s=h(v,"DATALIST",{id:!0});var g=_(s);for(let p=0;p<f.length;p+=1)f[p].l(g);g.forEach(u),this.h()},h(){n(e,"list","sampler-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=a[5].t("Enter Sampler (e.g. Euler a)")),n(s,"id","sampler-list")},m(v,g){V(v,e,g),F(e,a[1].automatic1111.AUTOMATIC1111_SAMPLER),V(v,l,g),V(v,s,g);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(s,null);o||(i=re(e,"input",a[18]),o=!0)},p(v,g){if(g[0]&32&&t!==(t=v[5].t("Enter Sampler (e.g. Euler a)"))&&n(e,"placeholder",t),g[0]&2&&e.value!==v[1].automatic1111.AUTOMATIC1111_SAMPLER&&F(e,v[1].automatic1111.AUTOMATIC1111_SAMPLER),g[0]&128){c=rt(v[7]??[]);let p;for(p=0;p<c.length;p+=1){const b=gn(v,c,p);f[p]?f[p].p(b,g):(f[p]=wn(b),f[p].c(),f[p].m(s,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}},d(v){v&&(u(e),u(l),u(s)),Ct(f,v),o=!1,i()}}}function In(a){let e,t=a[41]+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value=a[41],F(e,e.__value)},m(s,o){V(s,e,o),r(e,l)},p:pt,d(s){s&&u(e)}}}function Hu(a){let e,t,l,s,o,i,c=rt(a[8]??[]),f=[];for(let v=0;v<c.length;v+=1)f[v]=In(pn(a,c,v));return{c(){e=d("input"),l=A(),s=d("datalist");for(let v=0;v<f.length;v+=1)f[v].c();this.h()},l(v){e=h(v,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(v),s=h(v,"DATALIST",{id:!0});var g=_(s);for(let p=0;p<f.length;p+=1)f[p].l(g);g.forEach(u),this.h()},h(){n(e,"list","scheduler-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=a[5].t("Enter Scheduler (e.g. Karras)")),n(s,"id","scheduler-list")},m(v,g){V(v,e,g),F(e,a[1].automatic1111.AUTOMATIC1111_SCHEDULER),V(v,l,g),V(v,s,g);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(s,null);o||(i=re(e,"input",a[19]),o=!0)},p(v,g){if(g[0]&32&&t!==(t=v[5].t("Enter Scheduler (e.g. Karras)"))&&n(e,"placeholder",t),g[0]&2&&e.value!==v[1].automatic1111.AUTOMATIC1111_SCHEDULER&&F(e,v[1].automatic1111.AUTOMATIC1111_SCHEDULER),g[0]&256){c=rt(v[8]??[]);let p;for(p=0;p<c.length;p+=1){const b=pn(v,c,p);f[p]?f[p].p(b,g):(f[p]=In(b),f[p].c(),f[p].m(s,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}},d(v){v&&(u(e),u(l),u(s)),Ct(f,v),o=!1,i()}}}function Bu(a){let e,t,l,s;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=a[5].t("Enter CFG Scale (e.g. 7.0)"))},m(o,i){V(o,e,i),F(e,a[1].automatic1111.AUTOMATIC1111_CFG_SCALE),l||(s=re(e,"input",a[20]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter CFG Scale (e.g. 7.0)"))&&n(e,"placeholder",t),i[0]&2&&e.value!==o[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&F(e,o[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(o){o&&u(e),l=!1,s()}}}function yn(a){let e,t,l,s,o=a[5].t("Set Default Model")+"",i,c,f,v,g,p,b,m,I,k,w=a[5].t("Set Image Size")+"",E,y,T,S,P,$,M,Z,W=a[5].t("Set Steps")+"",G,q,L,H,B,O;return b=new Qt({props:{content:a[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[$u]},$$scope:{ctx:a}}}),P=new Qt({props:{content:a[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[Zu]},$$scope:{ctx:a}}}),B=new Qt({props:{content:a[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[ju]},$$scope:{ctx:a}}}),{c(){e=d("hr"),t=A(),l=d("div"),s=d("div"),i=U(o),c=A(),f=d("div"),v=d("div"),g=d("div"),p=d("div"),Qe(b.$$.fragment),m=A(),I=d("div"),k=d("div"),E=U(w),y=A(),T=d("div"),S=d("div"),Qe(P.$$.fragment),$=A(),M=d("div"),Z=d("div"),G=U(W),q=A(),L=d("div"),H=d("div"),Qe(B.$$.fragment),this.h()},l(N){e=h(N,"HR",{class:!0}),t=D(N),l=h(N,"DIV",{});var j=_(l);s=h(j,"DIV",{class:!0});var Y=_(s);i=C(Y,o),Y.forEach(u),c=D(j),f=h(j,"DIV",{class:!0});var Q=_(f);v=h(Q,"DIV",{class:!0});var J=_(v);g=h(J,"DIV",{class:!0});var K=_(g);p=h(K,"DIV",{class:!0});var x=_(p);Xe(b.$$.fragment,x),x.forEach(u),K.forEach(u),J.forEach(u),Q.forEach(u),j.forEach(u),m=D(N),I=h(N,"DIV",{});var le=_(I);k=h(le,"DIV",{class:!0});var oe=_(k);E=C(oe,w),oe.forEach(u),y=D(le),T=h(le,"DIV",{class:!0});var ee=_(T);S=h(ee,"DIV",{class:!0});var _e=_(S);Xe(P.$$.fragment,_e),_e.forEach(u),ee.forEach(u),le.forEach(u),$=D(N),M=h(N,"DIV",{});var ue=_(M);Z=h(ue,"DIV",{class:!0});var Te=_(Z);G=C(Te,W),Te.forEach(u),q=D(ue),L=h(ue,"DIV",{class:!0});var ce=_(L);H=h(ce,"DIV",{class:!0});var Me=_(H);Xe(B.$$.fragment,Me),Me.forEach(u),ce.forEach(u),ue.forEach(u),this.h()},h(){n(e,"class","dark:border-gray-850"),n(s,"class","mb-2.5 text-sm font-medium"),n(p,"class","flex-1"),n(g,"class","flex w-full"),n(v,"class","flex-1 mr-2"),n(f,"class","flex w-full"),n(k,"class","mb-2.5 text-sm font-medium"),n(S,"class","flex-1 mr-2"),n(T,"class","flex w-full"),n(Z,"class","mb-2.5 text-sm font-medium"),n(H,"class","flex-1 mr-2"),n(L,"class","flex w-full")},m(N,j){V(N,e,j),V(N,t,j),V(N,l,j),r(l,s),r(s,i),r(l,c),r(l,f),r(f,v),r(v,g),r(g,p),xe(b,p,null),V(N,m,j),V(N,I,j),r(I,k),r(k,E),r(I,y),r(I,T),r(T,S),xe(P,S,null),V(N,$,j),V(N,M,j),r(M,Z),r(Z,G),r(M,q),r(M,L),r(L,H),xe(B,H,null),O=!0},p(N,j){(!O||j[0]&32)&&o!==(o=N[5].t("Set Default Model")+"")&&R(i,o);const Y={};j[0]&32&&(Y.content=N[5].t("Enter Model ID")),j[0]&12|j[1]&524288&&(Y.$$scope={dirty:j,ctx:N}),b.$set(Y),(!O||j[0]&32)&&w!==(w=N[5].t("Set Image Size")+"")&&R(E,w);const Q={};j[0]&32&&(Q.content=N[5].t("Enter Image Size (e.g. 512x512)")),j[0]&36|j[1]&524288&&(Q.$$scope={dirty:j,ctx:N}),P.$set(Q),(!O||j[0]&32)&&W!==(W=N[5].t("Set Steps")+"")&&R(G,W);const J={};j[0]&32&&(J.content=N[5].t("Enter Number of Steps (e.g. 50)")),j[0]&36|j[1]&524288&&(J.$$scope={dirty:j,ctx:N}),B.$set(J)},i(N){O||(ae(b.$$.fragment,N),ae(P.$$.fragment,N),ae(B.$$.fragment,N),O=!0)},o(N){ie(b.$$.fragment,N),ie(P.$$.fragment,N),ie(B.$$.fragment,N),O=!1},d(N){N&&(u(e),u(t),u(l),u(m),u(I),u($),u(M)),et(b),et(P),et(B)}}}function Tn(a){let e,t=a[38].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[38].id,F(e,e.__value)},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[38].name+"")&&R(l,t),i[0]&8&&s!==(s=o[38].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function $u(a){let e,t,l,s,o,i=rt(a[3]??[]),c=[];for(let f=0;f<i.length;f+=1)c[f]=Tn(_n(a,i,f));return{c(){e=d("input"),t=A(),l=d("datalist");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=h(f,"INPUT",{list:!0,class:!0,placeholder:!0}),t=D(f),l=h(f,"DATALIST",{id:!0});var v=_(l);for(let g=0;g<c.length;g+=1)c[g].l(v);v.forEach(u),this.h()},h(){n(e,"list","model-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder","Select a model"),e.required=!0,n(l,"id","model-list")},m(f,v){V(f,e,v),F(e,a[2].MODEL),V(f,t,v),V(f,l,v);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(l,null);s||(o=re(e,"input",a[30]),s=!0)},p(f,v){if(v[0]&4&&e.value!==f[2].MODEL&&F(e,f[2].MODEL),v[0]&8){i=rt(f[3]??[]);let g;for(g=0;g<i.length;g+=1){const p=_n(f,i,g);c[g]?c[g].p(p,v):(c[g]=Tn(p),c[g].c(),c[g].m(l,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=i.length}},d(f){f&&(u(e),u(t),u(l)),Ct(c,f),s=!1,o()}}}function Zu(a){let e,t,l,s;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=a[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(o,i){V(o,e,i),F(e,a[2].IMAGE_SIZE),l||(s=re(e,"input",a[31]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Image Size (e.g. 512x512)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_SIZE&&F(e,o[2].IMAGE_SIZE)},d(o){o&&u(e),l=!1,s()}}}function ju(a){let e,t,l,s;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=a[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(o,i){V(o,e,i),F(e,a[2].IMAGE_STEPS),l||(s=re(e,"input",a[32]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Number of Steps (e.g. 50)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_STEPS&&F(e,o[2].IMAGE_STEPS)},d(o){o&&u(e),l=!1,s()}}}function An(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function Gu(a){let e,t,l,s,o,i=a[5].t("Save")+"",c,f,v,g,p,b,m=a[1]&&a[2]&&mn(a),I=a[0]&&An();return{c(){e=d("form"),t=d("div"),m&&m.c(),l=A(),s=d("div"),o=d("button"),c=U(i),f=A(),I&&I.c(),this.h()},l(k){e=h(k,"FORM",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);m&&m.l(E),E.forEach(u),l=D(w),s=h(w,"DIV",{class:!0});var y=_(s);o=h(y,"BUTTON",{class:!0,type:!0});var T=_(o);c=C(T,i),f=D(T),I&&I.l(T),T.forEach(u),y.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),n(o,"class",v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(a[0]?" cursor-not-allowed":"")),n(o,"type","submit"),o.disabled=a[0],n(s,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,w){V(k,e,w),r(e,t),m&&m.m(t,null),r(e,l),r(e,s),r(s,o),r(o,c),r(o,f),I&&I.m(o,null),g=!0,p||(b=re(e,"submit",Ml(a[33])),p=!0)},p(k,w){k[1]&&k[2]?m?(m.p(k,w),w[0]&6&&ae(m,1)):(m=mn(k),m.c(),ae(m,1),m.m(t,null)):m&&(Dt(),ie(m,1,1,()=>{m=null}),St()),(!g||w[0]&32)&&i!==(i=k[5].t("Save")+"")&&R(c,i),k[0]?I||(I=An(),I.c(),I.m(o,null)):I&&(I.d(1),I=null),(!g||w[0]&1&&v!==(v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(k[0]?" cursor-not-allowed":"")))&&n(o,"class",v),(!g||w[0]&1)&&(o.disabled=k[0])},i(k){g||(ae(m),g=!0)},o(k){ie(m),g=!1},d(k){k&&u(e),m&&m.d(),I&&I.d(),p=!1,b()}}}function Ku(a,e,t){let l,s;zt(a,Os,ee=>t(34,l=ee));const o=Oa(),i=wl("i18n");zt(a,i,ee=>t(5,s=ee));let c=!1,f=null,v=null,g=null,p=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],b=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],m=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const I=async()=>{t(3,g=await po(localStorage.token).catch(ee=>(Ue.error(ee),null)))},k=async()=>{const ee=await Er(localStorage.token,f).catch(_e=>(Ue.error(_e),null));ee&&t(1,f=ee),f.enabled&&(Ul.set(await ea()),I())},w=ee=>{try{const _e=JSON.parse(ee);if(_e&&typeof _e=="object")return!0}catch{}return!1},E=async()=>{var ee,_e;if(t(0,c=!0),(ee=f==null?void 0:f.comfyui)!=null&&ee.COMFYUI_WORKFLOW&&!w(f.comfyui.COMFYUI_WORKFLOW)){Ue.error("Invalid JSON format for ComfyUI Workflow."),t(0,c=!1);return}(_e=f==null?void 0:f.comfyui)!=null&&_e.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW_NODES=m.map(ue=>({type:ue.type,key:ue.key,node_ids:ue.node_ids.trim()===""?[]:ue.node_ids.split(",").map(Te=>Te.trim())})),f),await Er(localStorage.token,f).catch(ue=>(Ue.error(ue),t(0,c=!1),null)),await go(localStorage.token,v).catch(ue=>(Ue.error(ue),t(0,c=!1),null)),I(),o("save"),t(0,c=!1)};Il(async()=>{if(l.role==="admin"){const ee=await _o(localStorage.token).catch(ue=>(Ue.error(ue),null));ee&&t(1,f=ee),f.enabled&&I(),f.comfyui.COMFYUI_WORKFLOW&&t(1,f.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(f.comfyui.COMFYUI_WORKFLOW),null,2),f),t(4,m=m.map(ue=>{const Te=f.comfyui.COMFYUI_WORKFLOW_NODES.find(ce=>ce.type===ue.type)??ue;return console.log(Te),{type:Te.type,key:Te.key,node_ids:typeof Te.node_ids=="string"?Te.node_ids:Te.node_ids.join(",")}}));const _e=await vo(localStorage.token).catch(ue=>(Ue.error(ue),null));_e&&t(2,v=_e)}});function y(ee){a.$$.not_equal(f.enabled,ee)&&(f.enabled=ee,t(1,f))}const T=ee=>{ee.detail&&(f.engine==="automatic1111"&&f.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ue.error(s.t("AUTOMATIC1111 Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="comfyui"&&f.comfyui.COMFYUI_BASE_URL===""?(Ue.error(s.t("ComfyUI Base URL is required.")),t(1,f.enabled=!1,f)):f.engine==="openai"&&f.openai.OPENAI_API_KEY===""&&(Ue.error(s.t("OpenAI API Key is required.")),t(1,f.enabled=!1,f))),k()};function S(){f.engine=Yt(this),t(1,f)}const P=async()=>{k()};function $(){f.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,f)}const M=async()=>{await k(),await kr(localStorage.token).catch(_e=>(Ue.error(_e),null))&&Ue.success(s.t("Server connection verified"))};function Z(ee){a.$$.not_equal(f.automatic1111.AUTOMATIC1111_API_AUTH,ee)&&(f.automatic1111.AUTOMATIC1111_API_AUTH=ee,t(1,f))}function W(){f.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,f)}function G(){f.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,f)}function q(){f.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,f)}function L(){f.comfyui.COMFYUI_BASE_URL=this.value,t(1,f)}const H=async()=>{await k(),await kr(localStorage.token).catch(_e=>(Ue.error(_e),null))&&Ue.success(s.t("Server connection verified"))};function B(){f.comfyui.COMFYUI_WORKFLOW=this.value,t(1,f)}const O=ee=>{const _e=ee.target.files[0],ue=new FileReader;ue.onload=Te=>{t(1,f.comfyui.COMFYUI_WORKFLOW=Te.target.result,f),Te.target.value=null},ue.readAsText(_e)},N=()=>{var ee;(ee=document.getElementById("upload-comfyui-workflow-input"))==null||ee.click()};function j(ee,_e){ee[_e].key=this.value,t(4,m)}function Y(ee,_e){ee[_e].node_ids=this.value,t(4,m)}function Q(){f.openai.OPENAI_API_BASE_URL=this.value,t(1,f)}function J(ee){a.$$.not_equal(f.openai.OPENAI_API_KEY,ee)&&(f.openai.OPENAI_API_KEY=ee,t(1,f))}function K(){v.MODEL=this.value,t(2,v)}function x(){v.IMAGE_SIZE=this.value,t(2,v)}function le(){v.IMAGE_STEPS=this.value,t(2,v)}return[c,f,v,g,m,s,i,p,b,k,E,y,T,S,P,$,M,Z,W,G,q,L,H,B,O,N,j,Y,Q,J,K,x,le,async()=>{E()}]}class Fu extends pl{constructor(e){super(),gl(this,e,Ku,Gu,vl,{},null,[-1,-1])}}function Dn(a,e,t){const l=a.slice();return l[27]=e[t],l[28]=e,l[29]=t,l}function Sn(a,e,t){const l=a.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function Vn(a,e,t){const l=a.slice();return l[33]=e[t],l}function Mn(a,e,t){const l=a.slice();return l[33]=e[t],l}function zu(a){let e,t;return{c(){e=wt("svg"),t=wt("path"),this.h()},l(l){e=It(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=_(e);t=It(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),s.forEach(u),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(l,s){V(l,e,s),r(e,t)},p:pt,d(l){l&&u(e)}}}function On(a){let e,t=a[33].name+"",l,s,o;return{c(){e=d("option"),l=U(t),s=A(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=C(c,t),s=D(c),c.forEach(u),this.h()},h(){e.__value=o=a[33].id,F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){V(i,e,c),r(e,l),r(e,s)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&R(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,F(e,e.__value))},d(i){i&&u(e)}}}function Pn(a){let e,t=a[33].name+"",l,s,o;return{c(){e=d("option"),l=U(t),s=A(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var c=_(e);l=C(c,t),s=D(c),c.forEach(u),this.h()},h(){e.__value=o=a[33].id,F(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,c){V(i,e,c),r(e,l),r(e,s)},p(i,c){c[0]&16&&t!==(t=i[33].name+"")&&R(l,t),c[0]&16&&o!==(o=i[33].id)&&(e.__value=o,F(e,e.__value))},d(i){i&&u(e)}}}function Wu(a){let e,t,l,s;return{c(){e=d("textarea"),this.h()},l(o){e=h(o,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(e,"rows","3"),n(e,"placeholder",t=a[3].t("Leave empty to use the default prompt, or enter a custom prompt"))},m(o,i){V(o,e,i),F(e,a[0].TITLE_GENERATION_PROMPT_TEMPLATE),l||(s=re(e,"input",a[11]),l=!0)},p(o,i){i[0]&8&&t!==(t=o[3].t("Leave empty to use the default prompt, or enter a custom prompt"))&&n(e,"placeholder",t),i[0]&17&&F(e,o[0].TITLE_GENERATION_PROMPT_TEMPLATE)},d(o){o&&u(e),l=!1,s()}}}function Ln(a){let e,t,l=a[3].t("Search Query Generation Prompt")+"",s,o,i,c;return i=new Qt({props:{content:a[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[qu]},$$scope:{ctx:a}}}),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);t=h(v,"DIV",{class:!0});var g=_(t);s=C(g,l),g.forEach(u),o=D(v),Xe(i.$$.fragment,v),v.forEach(u),this.h()},h(){n(t,"class","mb-2.5 text-xs font-medium"),n(e,"class","")},m(f,v){V(f,e,v),r(e,t),r(t,s),r(e,o),xe(i,e,null),c=!0},p(f,v){(!c||v[0]&8)&&l!==(l=f[3].t("Search Query Generation Prompt")+"")&&R(s,l);const g={};v[0]&8&&(g.content=f[3].t("Leave empty to use the default prompt, or enter a custom prompt")),v[0]&9|v[1]&128&&(g.$$scope={dirty:v,ctx:f}),i.$set(g)},i(f){c||(ae(i.$$.fragment,f),c=!0)},o(f){ie(i.$$.fragment,f),c=!1},d(f){f&&u(e),et(i)}}}function qu(a){let e,t,l,s;return{c(){e=d("textarea"),this.h()},l(o){e=h(o,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(e,"rows","3"),n(e,"placeholder",t=a[3].t("Leave empty to use the default prompt, or enter a custom prompt"))},m(o,i){V(o,e,i),F(e,a[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),l||(s=re(e,"input",a[13]),l=!0)},p(o,i){i[0]&8&&t!==(t=o[3].t("Leave empty to use the default prompt, or enter a custom prompt"))&&n(e,"placeholder",t),i[0]&17&&F(e,o[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE)},d(o){o&&u(e),l=!1,s()}}}function Nn(a){let e,t=a[3].t("Type")+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value="",F(e,e.__value),e.selected=!0,e.disabled=!0,n(e,"class","text-gray-900")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&8&&t!==(t=s[3].t("Type")+"")&&R(l,t)},d(s){s&&u(e)}}}function Yu(a){let e,t,l;function s(i){a[17](i,a[30])}let o={};return a[30].dismissible!==void 0&&(o.state=a[30].dismissible),e=new kl({props:o}),Ut.push(()=>$t(e,"state",s)),{c(){Qe(e.$$.fragment)},l(i){Xe(e.$$.fragment,i)},m(i,c){xe(e,i,c),l=!0},p(i,c){a=i;const f={};!t&&c[0]&4&&(t=!0,f.state=a[30].dismissible,Bt(()=>t=!1)),e.$set(f)},i(i){l||(ae(e.$$.fragment,i),l=!0)},o(i){ie(e.$$.fragment,i),l=!1},d(i){et(e,i)}}}function Un(a){let e,t,l,s,o=a[3].t("Info")+"",i,c,f=a[3].t("Warning")+"",v,g,p=a[3].t("Error")+"",b,m,I=a[3].t("Success")+"",k,w,E,y,T,S,P,$,M,Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',W,G,q,L,H=a[30].type==""&&Nn(a);function B(){a[15].call(l,a[31],a[32])}function O(){a[16].call(E,a[31],a[32])}P=new Qt({props:{content:a[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Yu]},$$scope:{ctx:a}}});function N(){return a[18](a[32])}return{c(){e=d("div"),t=d("div"),l=d("select"),H&&H.c(),s=d("option"),i=U(o),c=d("option"),v=U(f),g=d("option"),b=U(p),m=d("option"),k=U(I),w=A(),E=d("input"),T=A(),S=d("div"),Qe(P.$$.fragment),$=A(),M=d("button"),M.innerHTML=Z,W=A(),this.h()},l(j){e=h(j,"DIV",{class:!0});var Y=_(e);t=h(Y,"DIV",{class:!0});var Q=_(t);l=h(Q,"SELECT",{class:!0});var J=_(l);H&&H.l(J),s=h(J,"OPTION",{class:!0});var K=_(s);i=C(K,o),K.forEach(u),c=h(J,"OPTION",{class:!0});var x=_(c);v=C(x,f),x.forEach(u),g=h(J,"OPTION",{class:!0});var le=_(g);b=C(le,p),le.forEach(u),m=h(J,"OPTION",{class:!0});var oe=_(m);k=C(oe,I),oe.forEach(u),J.forEach(u),w=D(Q),E=h(Q,"INPUT",{class:!0,placeholder:!0}),T=D(Q),S=h(Q,"DIV",{class:!0});var ee=_(S);Xe(P.$$.fragment,ee),ee.forEach(u),Q.forEach(u),$=D(Y),M=h(Y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(M)!=="svelte-nlagmo"&&(M.innerHTML=Z),W=D(Y),Y.forEach(u),this.h()},h(){s.__value="info",F(s,s.__value),n(s,"class","text-gray-900"),c.__value="warning",F(c,c.__value),n(c,"class","text-gray-900"),g.__value="error",F(g,g.__value),n(g,"class","text-gray-900"),m.__value="success",F(m,m.__value),n(m,"class","text-gray-900"),n(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,a[30].type===void 0&&Jt(B),n(E,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),n(E,"placeholder",y=a[3].t("Content")),n(S,"class","relative top-1.5 -left-2"),n(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),n(M,"class","px-2"),n(M,"type","button"),n(e,"class","flex justify-between")},m(j,Y){V(j,e,Y),r(e,t),r(t,l),H&&H.m(l,null),r(l,s),r(s,i),r(l,c),r(c,v),r(l,g),r(g,b),r(l,m),r(m,k),Et(l,a[30].type,!0),r(t,w),r(t,E),F(E,a[30].content),r(t,T),r(t,S),xe(P,S,null),r(e,$),r(e,M),r(e,W),G=!0,q||(L=[re(l,"change",B),re(E,"input",O),re(M,"click",N)],q=!0)},p(j,Y){a=j,a[30].type==""?H?H.p(a,Y):(H=Nn(a),H.c(),H.m(l,s)):H&&(H.d(1),H=null),(!G||Y[0]&8)&&o!==(o=a[3].t("Info")+"")&&R(i,o),(!G||Y[0]&8)&&f!==(f=a[3].t("Warning")+"")&&R(v,f),(!G||Y[0]&8)&&p!==(p=a[3].t("Error")+"")&&R(b,p),(!G||Y[0]&8)&&I!==(I=a[3].t("Success")+"")&&R(k,I),Y[0]&4&&Et(l,a[30].type),(!G||Y[0]&8&&y!==(y=a[3].t("Content")))&&n(E,"placeholder",y),Y[0]&4&&E.value!==a[30].content&&F(E,a[30].content);const Q={};Y[0]&8&&(Q.content=a[3].t("Dismissible")),Y[0]&4|Y[1]&128&&(Q.$$scope={dirty:Y,ctx:a}),P.$set(Q)},i(j){G||(ae(P.$$.fragment,j),G=!0)},o(j){ie(P.$$.fragment,j),G=!1},d(j){j&&u(e),H&&H.d(),et(P),q=!1,Zt(L)}}}function Cn(a){let e,t,l,s=a[3].t("Default Prompt Suggestions")+"",o,i,c,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',v,g,p,b,m,I=rt(a[1]),k=[];for(let E=0;E<I.length;E+=1)k[E]=Rn(Dn(a,I,E));let w=a[1].length>0&&Hn(a);return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("button"),c.innerHTML=f,v=A(),g=d("div");for(let E=0;E<k.length;E+=1)k[E].c();p=A(),w&&w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);l=h(T,"DIV",{class:!0});var S=_(l);o=C(S,s),S.forEach(u),i=D(T),c=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(c)!=="svelte-192kpg7"&&(c.innerHTML=f),T.forEach(u),v=D(y),g=h(y,"DIV",{class:!0});var P=_(g);for(let $=0;$<k.length;$+=1)k[$].l(P);P.forEach(u),p=D(y),w&&w.l(y),y.forEach(u),this.h()},h(){n(l,"class","self-center text-sm font-semibold"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","flex w-full justify-between mb-2"),n(g,"class","grid lg:grid-cols-2 flex-col gap-1.5"),n(e,"class","space-y-3")},m(E,y){V(E,e,y),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),r(e,v),r(e,g);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(g,null);r(e,p),w&&w.m(e,null),b||(m=re(c,"click",a[19]),b=!0)},p(E,y){if(y[0]&8&&s!==(s=E[3].t("Default Prompt Suggestions")+"")&&R(o,s),y[0]&10){I=rt(E[1]);let T;for(T=0;T<I.length;T+=1){const S=Dn(E,I,T);k[T]?k[T].p(S,y):(k[T]=Rn(S),k[T].c(),k[T].m(g,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=I.length}E[1].length>0?w?w.p(E,y):(w=Hn(E),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(E){E&&u(e),Ct(k,E),w&&w.d(),b=!1,m()}}}function Rn(a){let e,t,l,s,o,i,c,f,v,g,p,b,m,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',k,w,E;function y(){a[20].call(s,a[28],a[29])}function T(){a[21].call(c,a[28],a[29])}function S(){a[22].call(g,a[28],a[29])}function P(){return a[23](a[29])}return{c(){e=d("div"),t=d("div"),l=d("div"),s=d("input"),i=A(),c=d("input"),v=A(),g=d("textarea"),b=A(),m=d("button"),m.innerHTML=I,k=A(),this.h()},l($){e=h($,"DIV",{class:!0});var M=_(e);t=h(M,"DIV",{class:!0});var Z=_(t);l=h(Z,"DIV",{class:!0});var W=_(l);s=h(W,"INPUT",{class:!0,placeholder:!0}),i=D(W),c=h(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),v=D(Z),g=h(Z,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),_(g).forEach(u),Z.forEach(u),b=D(M),m=h(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(m)!=="svelte-1dyt8gv"&&(m.innerHTML=I),k=D(M),M.forEach(u),this.h()},h(){n(s,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(s,"placeholder",o=a[3].t("Title (e.g. Tell me a fun fact)")),n(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(c,"placeholder",f=a[3].t("Subtitle (e.g. about the Roman Empire)")),n(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),n(g,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800 resize-none"),n(g,"placeholder",p=a[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),n(g,"rows","3"),n(t,"class","flex flex-col flex-1 pl-1"),n(m,"class","px-3"),n(m,"type","button"),n(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m($,M){V($,e,M),r(e,t),r(t,l),r(l,s),F(s,a[27].title[0]),r(l,i),r(l,c),F(c,a[27].title[1]),r(t,v),r(t,g),F(g,a[27].content),r(e,b),r(e,m),r(e,k),w||(E=[re(s,"input",y),re(c,"input",T),re(g,"input",S),re(m,"click",P)],w=!0)},p($,M){a=$,M[0]&8&&o!==(o=a[3].t("Title (e.g. Tell me a fun fact)"))&&n(s,"placeholder",o),M[0]&2&&s.value!==a[27].title[0]&&F(s,a[27].title[0]),M[0]&8&&f!==(f=a[3].t("Subtitle (e.g. about the Roman Empire)"))&&n(c,"placeholder",f),M[0]&2&&c.value!==a[27].title[1]&&F(c,a[27].title[1]),M[0]&8&&p!==(p=a[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&n(g,"placeholder",p),M[0]&2&&F(g,a[27].content)},d($){$&&u(e),w=!1,Zt(E)}}}function Hn(a){let e,t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=U(t),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","text-xs text-left w-full mt-2")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&8&&t!==(t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&R(l,t)},d(s){s&&u(e)}}}function Ju(a){let e,t,l,s,o,i=a[3].t("Set Task Model")+"",c,f,v,g,p,b,m,I=a[3].t("Local Models")+"",k,w,E,y,T=a[3].t("Current Model")+"",S,P,$,M,Z,W=a[3].t("External Models")+"",G,q,L,H,B=a[3].t("Current Model")+"",O,N,j,Y,Q,J=a[3].t("Title Generation Prompt")+"",K,x,le,oe,ee,_e,ue,Te,ce=a[3].t("Enable Web Search Query Generation")+"",Me,De,He,ke,Ge,me,Ae,Ce,we,Le,ze,Re=a[3].t("Banners")+"",Ye,at,ve,Se='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',pe,fe,Ie,ne,Ve,Be,Oe,X=a[3].t("Save")+"",se,Pe,Ke,We;v=new Qt({props:{content:a[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[zu]},$$scope:{ctx:a}}});let nt=rt(a[4].filter(Bn)),qe=[];for(let te=0;te<nt.length;te+=1)qe[te]=On(Mn(a,nt,te));let Je=rt(a[4]),tt=[];for(let te=0;te<Je.length;te+=1)tt[te]=Pn(Vn(a,Je,te));le=new Qt({props:{content:a[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Wu]},$$scope:{ctx:a}}});function ct(te){a[12](te)}let ot={};a[0].ENABLE_SEARCH_QUERY!==void 0&&(ot.state=a[0].ENABLE_SEARCH_QUERY),He=new kl({props:ot}),Ut.push(()=>$t(He,"state",ct));let ge=a[0].ENABLE_SEARCH_QUERY&&Ln(a),ft=rt(a[2]),lt=[];for(let te=0;te<ft.length;te+=1)lt[te]=Un(Sn(a,ft,te));const st=te=>ie(lt[te],1,1,()=>{lt[te]=null});let de=a[5].role==="admin"&&Cn(a);return{c(){e=d("form"),t=d("div"),l=d("div"),s=d("div"),o=d("div"),c=U(i),f=A(),Qe(v.$$.fragment),g=A(),p=d("div"),b=d("div"),m=d("div"),k=U(I),w=A(),E=d("select"),y=d("option"),S=U(T);for(let te=0;te<qe.length;te+=1)qe[te].c();$=A(),M=d("div"),Z=d("div"),G=U(W),q=A(),L=d("select"),H=d("option"),O=U(B);for(let te=0;te<tt.length;te+=1)tt[te].c();j=A(),Y=d("div"),Q=d("div"),K=U(J),x=A(),Qe(le.$$.fragment),oe=A(),ee=d("hr"),_e=A(),ue=d("div"),Te=d("div"),Me=U(ce),De=A(),Qe(He.$$.fragment),Ge=A(),ge&&ge.c(),me=A(),Ae=d("hr"),Ce=A(),we=d("div"),Le=d("div"),ze=d("div"),Ye=U(Re),at=A(),ve=d("button"),ve.innerHTML=Se,pe=A(),fe=d("div");for(let te=0;te<lt.length;te+=1)lt[te].c();ne=A(),de&&de.c(),Ve=A(),Be=d("div"),Oe=d("button"),se=U(X),this.h()},l(te){e=h(te,"FORM",{class:!0});var z=_(e);t=h(z,"DIV",{class:!0});var he=_(t);l=h(he,"DIV",{});var Ne=_(l);s=h(Ne,"DIV",{class:!0});var ye=_(s);o=h(ye,"DIV",{class:!0});var Ee=_(o);c=C(Ee,i),Ee.forEach(u),f=D(ye),Xe(v.$$.fragment,ye),ye.forEach(u),g=D(Ne),p=h(Ne,"DIV",{class:!0});var ut=_(p);b=h(ut,"DIV",{class:!0});var _t=_(b);m=h(_t,"DIV",{class:!0});var yt=_(m);k=C(yt,I),yt.forEach(u),w=D(_t),E=h(_t,"SELECT",{class:!0,placeholder:!0});var Rt=_(E);y=h(Rt,"OPTION",{});var jt=_(y);S=C(jt,T),jt.forEach(u);for(let Tt=0;Tt<qe.length;Tt+=1)qe[Tt].l(Rt);Rt.forEach(u),_t.forEach(u),$=D(ut),M=h(ut,"DIV",{class:!0});var Pt=_(M);Z=h(Pt,"DIV",{class:!0});var $e=_(Z);G=C($e,W),$e.forEach(u),q=D(Pt),L=h(Pt,"SELECT",{class:!0,placeholder:!0});var Ze=_(L);H=h(Ze,"OPTION",{});var Vt=_(H);O=C(Vt,B),Vt.forEach(u);for(let Tt=0;Tt<tt.length;Tt+=1)tt[Tt].l(Ze);Ze.forEach(u),Pt.forEach(u),ut.forEach(u),j=D(Ne),Y=h(Ne,"DIV",{class:!0});var Mt=_(Y);Q=h(Mt,"DIV",{class:!0});var mt=_(Q);K=C(mt,J),mt.forEach(u),x=D(Mt),Xe(le.$$.fragment,Mt),Mt.forEach(u),oe=D(Ne),ee=h(Ne,"HR",{class:!0}),_e=D(Ne),ue=h(Ne,"DIV",{class:!0});var bt=_(ue);Te=h(bt,"DIV",{class:!0});var gt=_(Te);Me=C(gt,ce),gt.forEach(u),De=D(bt),Xe(He.$$.fragment,bt),bt.forEach(u),Ge=D(Ne),ge&&ge.l(Ne),Ne.forEach(u),me=D(he),Ae=h(he,"HR",{class:!0}),Ce=D(he),we=h(he,"DIV",{class:!0});var kt=_(we);Le=h(kt,"DIV",{class:!0});var it=_(Le);ze=h(it,"DIV",{class:!0});var Ht=_(ze);Ye=C(Ht,Re),Ht.forEach(u),at=D(it),ve=h(it,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(ve)!=="svelte-1nhoygc"&&(ve.innerHTML=Se),it.forEach(u),pe=D(kt),fe=h(kt,"DIV",{class:!0});var Ft=_(fe);for(let Tt=0;Tt<lt.length;Tt+=1)lt[Tt].l(Ft);Ft.forEach(u),kt.forEach(u),ne=D(he),de&&de.l(he),he.forEach(u),Ve=D(z),Be=h(z,"DIV",{class:!0});var Kt=_(Be);Oe=h(Kt,"BUTTON",{class:!0,type:!0});var Lt=_(Oe);se=C(Lt,X),Lt.forEach(u),Kt.forEach(u),z.forEach(u),this.h()},h(){n(o,"class","mr-1"),n(s,"class","mb-2.5 text-sm font-medium flex"),n(m,"class","text-xs mb-1"),y.__value="",F(y,y.__value),y.selected=!0,n(E,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(E,"placeholder",P=a[3].t("Select a model")),a[0].TASK_MODEL===void 0&&Jt(()=>a[9].call(E)),n(b,"class","flex-1"),n(Z,"class","text-xs mb-1"),H.__value="",F(H,H.__value),H.selected=!0,n(L,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(L,"placeholder",N=a[3].t("Select a model")),a[0].TASK_MODEL_EXTERNAL===void 0&&Jt(()=>a[10].call(L)),n(M,"class","flex-1"),n(p,"class","flex w-full gap-2"),n(Q,"class","mb-2.5 text-xs font-medium"),n(Y,"class","mt-3"),n(ee,"class","dark:border-gray-850 my-3"),n(Te,"class","self-center text-xs font-medium"),n(ue,"class","my-3 flex w-full items-center justify-between"),n(Ae,"class","dark:border-gray-850 my-3"),n(ze,"class","self-center text-sm font-semibold"),n(ve,"class","p-1 px-3 text-xs flex rounded transition"),n(ve,"type","button"),n(Le,"class","flex w-full justify-between"),n(fe,"class","flex flex-col space-y-1"),n(we,"class",Ie="space-y-3 "+(a[2].length>0?" mb-3":"")),n(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(Oe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Oe,"type","submit"),n(Be,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(te,z){V(te,e,z),r(e,t),r(t,l),r(l,s),r(s,o),r(o,c),r(s,f),xe(v,s,null),r(l,g),r(l,p),r(p,b),r(b,m),r(m,k),r(b,w),r(b,E),r(E,y),r(y,S);for(let he=0;he<qe.length;he+=1)qe[he]&&qe[he].m(E,null);Et(E,a[0].TASK_MODEL,!0),r(p,$),r(p,M),r(M,Z),r(Z,G),r(M,q),r(M,L),r(L,H),r(H,O);for(let he=0;he<tt.length;he+=1)tt[he]&&tt[he].m(L,null);Et(L,a[0].TASK_MODEL_EXTERNAL,!0),r(l,j),r(l,Y),r(Y,Q),r(Q,K),r(Y,x),xe(le,Y,null),r(l,oe),r(l,ee),r(l,_e),r(l,ue),r(ue,Te),r(Te,Me),r(ue,De),xe(He,ue,null),r(l,Ge),ge&&ge.m(l,null),r(t,me),r(t,Ae),r(t,Ce),r(t,we),r(we,Le),r(Le,ze),r(ze,Ye),r(Le,at),r(Le,ve),r(we,pe),r(we,fe);for(let he=0;he<lt.length;he+=1)lt[he]&&lt[he].m(fe,null);r(t,ne),de&&de.m(t,null),r(e,Ve),r(e,Be),r(Be,Oe),r(Oe,se),Pe=!0,Ke||(We=[re(E,"change",a[9]),re(L,"change",a[10]),re(ve,"click",a[14]),re(e,"submit",Ml(a[24]))],Ke=!0)},p(te,z){(!Pe||z[0]&8)&&i!==(i=te[3].t("Set Task Model")+"")&&R(c,i);const he={};if(z[0]&8&&(he.content=te[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),z[1]&128&&(he.$$scope={dirty:z,ctx:te}),v.$set(he),(!Pe||z[0]&8)&&I!==(I=te[3].t("Local Models")+"")&&R(k,I),(!Pe||z[0]&8)&&T!==(T=te[3].t("Current Model")+"")&&R(S,T),z[0]&16){nt=rt(te[4].filter(Bn));let Ee;for(Ee=0;Ee<nt.length;Ee+=1){const ut=Mn(te,nt,Ee);qe[Ee]?qe[Ee].p(ut,z):(qe[Ee]=On(ut),qe[Ee].c(),qe[Ee].m(E,null))}for(;Ee<qe.length;Ee+=1)qe[Ee].d(1);qe.length=nt.length}if((!Pe||z[0]&8&&P!==(P=te[3].t("Select a model")))&&n(E,"placeholder",P),z[0]&17&&Et(E,te[0].TASK_MODEL),(!Pe||z[0]&8)&&W!==(W=te[3].t("External Models")+"")&&R(G,W),(!Pe||z[0]&8)&&B!==(B=te[3].t("Current Model")+"")&&R(O,B),z[0]&16){Je=rt(te[4]);let Ee;for(Ee=0;Ee<Je.length;Ee+=1){const ut=Vn(te,Je,Ee);tt[Ee]?tt[Ee].p(ut,z):(tt[Ee]=Pn(ut),tt[Ee].c(),tt[Ee].m(L,null))}for(;Ee<tt.length;Ee+=1)tt[Ee].d(1);tt.length=Je.length}(!Pe||z[0]&8&&N!==(N=te[3].t("Select a model")))&&n(L,"placeholder",N),z[0]&17&&Et(L,te[0].TASK_MODEL_EXTERNAL),(!Pe||z[0]&8)&&J!==(J=te[3].t("Title Generation Prompt")+"")&&R(K,J);const Ne={};z[0]&8&&(Ne.content=te[3].t("Leave empty to use the default prompt, or enter a custom prompt")),z[0]&9|z[1]&128&&(Ne.$$scope={dirty:z,ctx:te}),le.$set(Ne),(!Pe||z[0]&8)&&ce!==(ce=te[3].t("Enable Web Search Query Generation")+"")&&R(Me,ce);const ye={};if(!ke&&z[0]&1&&(ke=!0,ye.state=te[0].ENABLE_SEARCH_QUERY,Bt(()=>ke=!1)),He.$set(ye),te[0].ENABLE_SEARCH_QUERY?ge?(ge.p(te,z),z[0]&1&&ae(ge,1)):(ge=Ln(te),ge.c(),ae(ge,1),ge.m(l,null)):ge&&(Dt(),ie(ge,1,1,()=>{ge=null}),St()),(!Pe||z[0]&8)&&Re!==(Re=te[3].t("Banners")+"")&&R(Ye,Re),z[0]&12){ft=rt(te[2]);let Ee;for(Ee=0;Ee<ft.length;Ee+=1){const ut=Sn(te,ft,Ee);lt[Ee]?(lt[Ee].p(ut,z),ae(lt[Ee],1)):(lt[Ee]=Un(ut),lt[Ee].c(),ae(lt[Ee],1),lt[Ee].m(fe,null))}for(Dt(),Ee=ft.length;Ee<lt.length;Ee+=1)st(Ee);St()}(!Pe||z[0]&4&&Ie!==(Ie="space-y-3 "+(te[2].length>0?" mb-3":"")))&&n(we,"class",Ie),te[5].role==="admin"?de?de.p(te,z):(de=Cn(te),de.c(),de.m(t,null)):de&&(de.d(1),de=null),(!Pe||z[0]&8)&&X!==(X=te[3].t("Save")+"")&&R(se,X)},i(te){if(!Pe){ae(v.$$.fragment,te),ae(le.$$.fragment,te),ae(He.$$.fragment,te),ae(ge);for(let z=0;z<ft.length;z+=1)ae(lt[z]);Pe=!0}},o(te){ie(v.$$.fragment,te),ie(le.$$.fragment,te),ie(He.$$.fragment,te),ie(ge),lt=lt.filter(Boolean);for(let z=0;z<lt.length;z+=1)ie(lt[z]);Pe=!1},d(te){te&&u(e),et(v),Ct(qe,te),Ct(tt,te),et(le),et(He),ge&&ge.d(),Ct(lt,te),de&&de.d(),Ke=!1,Zt(We)}}}const Bn=a=>a.owned_by==="ollama";function Qu(a,e,t){let l,s,o,i;zt(a,Ul,B=>t(25,l=B)),zt(a,il,B=>t(4,o=B)),zt(a,Os,B=>t(5,i=B));const c=Oa(),f=wl("i18n");zt(a,f,B=>t(3,s=B));let v={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",ENABLE_SEARCH_QUERY:!0,SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE:""},g=[],p=[];const b=async()=>{t(0,v=await ro(localStorage.token,v)),t(1,g=await Ki(localStorage.token,g)),await m(),await Ul.set(await ea())};Il(async()=>{t(0,v=await so(localStorage.token)),t(1,g=l==null?void 0:l.default_prompt_suggestions),t(2,p=await Gi(localStorage.token))});const m=async()=>{Ui.set(await Fi(localStorage.token,p))};function I(){v.TASK_MODEL=Yt(this),t(0,v)}function k(){v.TASK_MODEL_EXTERNAL=Yt(this),t(0,v)}function w(){v.TITLE_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function E(B){a.$$.not_equal(v.ENABLE_SEARCH_QUERY,B)&&(v.ENABLE_SEARCH_QUERY=B,t(0,v))}function y(){v.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}const T=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:ho(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function S(B,O){B[O].type=Yt(this),t(2,p)}function P(B,O){B[O].content=this.value,t(2,p)}function $(B,O){a.$$.not_equal(O.dismissible,B)&&(O.dismissible=B,t(2,p))}const M=B=>{p.splice(B,1),t(2,p)},Z=()=>{(g.length===0||g.at(-1).content!=="")&&t(1,g=[...g,{content:"",title:["",""]}])};function W(B,O){B[O].title[0]=this.value,t(1,g)}function G(B,O){B[O].title[1]=this.value,t(1,g)}function q(B,O){B[O].content=this.value,t(1,g)}return[v,g,p,s,o,i,c,f,b,I,k,w,E,y,T,S,P,$,M,Z,W,G,q,B=>{g.splice(B,1),t(1,g)},()=>{b(),c("save")}]}class Xu extends pl{constructor(e){super(),gl(this,e,Qu,Ju,vl,{},null,[-1,-1])}}function $n(a,e,t){const l=a.slice();return l[59]=e[t],l}function Zn(a,e,t){const l=a.slice();return l[59]=e[t],l}function jn(a,e,t){const l=a.slice();return l[64]=e[t],l[66]=t,l}function xu(a){let e,t,l,s;return l=new Ea({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Qe(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Xe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){V(o,e,i),r(e,t),xe(l,t,null),s=!0},p:pt,i(o){s||(ae(l.$$.fragment,o),s=!0)},o(o){ie(l.$$.fragment,o),s=!1},d(o){o&&u(e),et(l)}}}function ef(a){let e,t=a[24].t("Ollama API is disabled")+"",l;return{c(){e=d("div"),l=U(t)},l(s){e=h(s,"DIV",{});var o=_(e);l=C(o,t),o.forEach(u)},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&16777216&&t!==(t=s[24].t("Ollama API is disabled")+"")&&R(l,t)},i:pt,o:pt,d(s){s&&u(e)}}}function tf(a){let e,t,l,s;const o=[sf,af,lf],i=[];function c(f,v){return f[8]!==null?0:f[8]===!1?1:2}return e=c(a),t=i[e]=o[e](a),{c(){t.c(),l=Gt()},l(f){t.l(f),l=Gt()},m(f,v){i[e].m(f,v),V(f,l,v),s=!0},p(f,v){let g=e;e=c(f),e===g?i[e].p(f,v):(Dt(),ie(i[g],1,1,()=>{i[g]=null}),St(),t=i[e],t?t.p(f,v):(t=i[e]=o[e](f),t.c()),ae(t,1),t.m(l.parentNode,l))},i(f){s||(ae(t),s=!0)},o(f){ie(t),s=!1},d(f){f&&u(l),i[e].d(f)}}}function lf(a){let e,t,l,s;return l=new Ea({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Qe(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Xe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){V(o,e,i),r(e,t),xe(l,t,null),s=!0},p:pt,i(o){s||(ae(l.$$.fragment,o),s=!0)},o(o){ie(l.$$.fragment,o),s=!1},d(o){o&&u(e),et(l)}}}function af(a){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ht(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,s){V(l,e,s)},p:pt,i:pt,o:pt,d(l){l&&u(e)}}}function sf(a){let e,t,l=a[24].t("Manage Ollama Models")+"",s,o,i,c,f,v,g=a[24].t("Pull a model from Ollama.com")+"",p,b,m,I,k,w,E,y,T,S,P=a[24].t("To access the available model names for downloading,")+"",$,M,Z,W=a[24].t("click here.")+"",G,q,L=Object.keys(a[25]).length>0,H,B,O,N=a[24].t("Delete a model")+"",j,Y,Q,J,K,x,le,oe,ee,_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',ue,Te,ce,Me=a[24].t("Create a model")+"",De,He,ke,Ge,me,Ae,Ce,we,Le,ze,Re,Ye,at,ve,Se,pe,fe,Ie,ne,Ve=a[24].t("Experimental")+"",Be,Oe,X,se=(a[7]?a[24].t("Hide"):a[24].t("Show"))+"",Pe,Ke,We,nt,qe,Je=a[3].length>0&&Gn(a);function tt(z,he){return z[9]?of:nf}let ct=tt(a),ot=ct(a),ge=L&&zn(a),ft=!a[23]&&Jn(a),lt=rt(a[26].filter(a[41])),st=[];for(let z=0;z<lt.length;z+=1)st[z]=Qn($n(a,lt,z));let de=a[14]!==""&&Xn(a),te=a[7]&&ei(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Je&&Je.c(),i=A(),c=d("div"),f=d("div"),v=d("div"),p=U(g),b=A(),m=d("div"),I=d("div"),k=d("input"),E=A(),y=d("button"),ot.c(),T=A(),S=d("div"),$=U(P),M=A(),Z=d("a"),G=U(W),q=A(),ge&&ge.c(),H=A(),B=d("div"),O=d("div"),j=U(N),Y=A(),Q=d("div"),J=d("div"),K=d("select"),ft&&ft.c(),x=Gt();for(let z=0;z<st.length;z+=1)st[z].c();oe=A(),ee=d("button"),ee.innerHTML=_e,ue=A(),Te=d("div"),ce=d("div"),De=U(Me),He=A(),ke=d("div"),Ge=d("div"),me=d("input"),Ce=A(),we=d("textarea"),Le=A(),ze=d("div"),Re=d("button"),Ye=wt("svg"),at=wt("path"),ve=wt("path"),Se=A(),de&&de.c(),pe=A(),fe=d("div"),Ie=d("div"),ne=d("div"),Be=U(Ve),Oe=A(),X=d("button"),Pe=U(se),Ke=A(),te&&te.c(),this.h()},l(z){e=h(z,"DIV",{class:!0});var he=_(e);t=h(he,"DIV",{class:!0});var Ne=_(t);s=C(Ne,l),Ne.forEach(u),o=D(he),Je&&Je.l(he),i=D(he),c=h(he,"DIV",{class:!0});var ye=_(c);f=h(ye,"DIV",{});var Ee=_(f);v=h(Ee,"DIV",{class:!0});var ut=_(v);p=C(ut,g),ut.forEach(u),b=D(Ee),m=h(Ee,"DIV",{class:!0});var _t=_(m);I=h(_t,"DIV",{class:!0});var yt=_(I);k=h(yt,"INPUT",{class:!0,placeholder:!0}),yt.forEach(u),E=D(_t),y=h(_t,"BUTTON",{class:!0});var Rt=_(y);ot.l(Rt),Rt.forEach(u),_t.forEach(u),T=D(Ee),S=h(Ee,"DIV",{class:!0});var jt=_(S);$=C(jt,P),M=D(jt),Z=h(jt,"A",{class:!0,href:!0,target:!0});var Pt=_(Z);G=C(Pt,W),Pt.forEach(u),jt.forEach(u),q=D(Ee),ge&&ge.l(Ee),Ee.forEach(u),H=D(ye),B=h(ye,"DIV",{});var $e=_(B);O=h($e,"DIV",{class:!0});var Ze=_(O);j=C(Ze,N),Ze.forEach(u),Y=D($e),Q=h($e,"DIV",{class:!0});var Vt=_(Q);J=h(Vt,"DIV",{class:!0});var Mt=_(J);K=h(Mt,"SELECT",{class:!0,placeholder:!0});var mt=_(K);ft&&ft.l(mt),x=Gt();for(let vt=0;vt<st.length;vt+=1)st[vt].l(mt);mt.forEach(u),Mt.forEach(u),oe=D(Vt),ee=h(Vt,"BUTTON",{class:!0,"data-svelte-h":!0}),ht(ee)!=="svelte-2dig6p"&&(ee.innerHTML=_e),Vt.forEach(u),$e.forEach(u),ue=D(ye),Te=h(ye,"DIV",{});var bt=_(Te);ce=h(bt,"DIV",{class:!0});var gt=_(ce);De=C(gt,Me),gt.forEach(u),He=D(bt),ke=h(bt,"DIV",{class:!0});var kt=_(ke);Ge=h(kt,"DIV",{class:!0});var it=_(Ge);me=h(it,"INPUT",{class:!0,placeholder:!0}),Ce=D(it),we=h(it,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(we).forEach(u),it.forEach(u),Le=D(kt),ze=h(kt,"DIV",{class:!0});var Ht=_(ze);Re=h(Ht,"BUTTON",{class:!0});var Ft=_(Re);Ye=It(Ft,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Kt=_(Ye);at=It(Kt,"path",{d:!0}),_(at).forEach(u),ve=It(Kt,"path",{d:!0}),_(ve).forEach(u),Kt.forEach(u),Ft.forEach(u),Ht.forEach(u),kt.forEach(u),Se=D(bt),de&&de.l(bt),bt.forEach(u),pe=D(ye),fe=h(ye,"DIV",{class:!0});var Lt=_(fe);Ie=h(Lt,"DIV",{class:!0});var Tt=_(Ie);ne=h(Tt,"DIV",{class:!0});var Fe=_(ne);Be=C(Fe,Ve),Fe.forEach(u),Oe=D(Tt),X=h(Tt,"BUTTON",{class:!0,type:!0});var dt=_(X);Pe=C(dt,se),dt.forEach(u),Tt.forEach(u),Lt.forEach(u),Ke=D(ye),te&&te.l(ye),ye.forEach(u),he.forEach(u),this.h()},h(){n(t,"class","text-sm font-medium"),n(v,"class","mb-2 text-sm font-medium"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=a[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),n(I,"class","flex-1 mr-2"),n(y,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),y.disabled=a[9],n(m,"class","flex w-full"),n(Z,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(Z,"href","https://ollama.com/library"),n(Z,"target","_blank"),n(S,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(O,"class","mb-2 text-sm font-medium"),n(K,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(K,"placeholder",le=a[24].t("Select a model")),a[23]===void 0&&Jt(()=>a[42].call(K)),n(J,"class","flex-1 mr-2"),n(ee,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(Q,"class","flex w-full"),n(ce,"class","mb-2 text-sm font-medium"),n(me,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(me,"placeholder",Ae=a[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),me.disabled=a[11],n(we,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),n(we,"rows","6"),n(we,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),we.disabled=a[11],n(Ge,"class","flex-1 mr-2 flex flex-col gap-2"),n(at,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(ve,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(Ye,"xmlns","http://www.w3.org/2000/svg"),n(Ye,"viewBox","0 0 16 16"),n(Ye,"fill","currentColor"),n(Ye,"class","size-4"),n(Re,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),Re.disabled=a[11],n(ze,"class","flex self-start"),n(ke,"class","flex w-full"),n(ne,"class","text-sm font-medium"),n(X,"class","text-xs font-medium text-gray-500"),n(X,"type","button"),n(Ie,"class","flex justify-between items-center text-xs"),n(fe,"class","pt-1"),n(c,"class","space-y-2"),n(e,"class","space-y-2 pr-1.5")},m(z,he){V(z,e,he),r(e,t),r(t,s),r(e,o),Je&&Je.m(e,null),r(e,i),r(e,c),r(c,f),r(f,v),r(v,p),r(f,b),r(f,m),r(m,I),r(I,k),F(k,a[10]),r(m,E),r(m,y),ot.m(y,null),r(f,T),r(f,S),r(S,$),r(S,M),r(S,Z),r(Z,G),r(f,q),ge&&ge.m(f,null),r(c,H),r(c,B),r(B,O),r(O,j),r(B,Y),r(B,Q),r(Q,J),r(J,K),ft&&ft.m(K,null),r(K,x);for(let Ne=0;Ne<st.length;Ne+=1)st[Ne]&&st[Ne].m(K,null);Et(K,a[23],!0),r(Q,oe),r(Q,ee),r(c,ue),r(c,Te),r(Te,ce),r(ce,De),r(Te,He),r(Te,ke),r(ke,Ge),r(Ge,me),F(me,a[12]),r(Ge,Ce),r(Ge,we),F(we,a[13]),r(ke,Le),r(ke,ze),r(ze,Re),r(Re,Ye),r(Ye,at),r(Ye,ve),r(Te,Se),de&&de.m(Te,null),r(c,pe),r(c,fe),r(fe,Ie),r(Ie,ne),r(ne,Be),r(Ie,Oe),r(Ie,X),r(X,Pe),r(c,Ke),te&&te.m(c,null),We=!0,nt||(qe=[re(k,"input",a[38]),re(y,"click",a[39]),re(K,"change",a[42]),re(ee,"click",a[43]),re(me,"input",a[44]),re(we,"input",a[45]),re(Re,"click",a[46]),re(X,"click",a[47])],nt=!0)},p(z,he){if((!We||he[0]&16777216)&&l!==(l=z[24].t("Manage Ollama Models")+"")&&R(s,l),z[3].length>0?Je?(Je.p(z,he),he[0]&8&&ae(Je,1)):(Je=Gn(z),Je.c(),ae(Je,1),Je.m(e,i)):Je&&(Dt(),ie(Je,1,1,()=>{Je=null}),St()),(!We||he[0]&16777216)&&g!==(g=z[24].t("Pull a model from Ollama.com")+"")&&R(p,g),(!We||he[0]&16777216&&w!==(w=z[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&n(k,"placeholder",w),he[0]&1024&&k.value!==z[10]&&F(k,z[10]),ct!==(ct=tt(z))&&(ot.d(1),ot=ct(z),ot&&(ot.c(),ot.m(y,null))),(!We||he[0]&512)&&(y.disabled=z[9]),(!We||he[0]&16777216)&&P!==(P=z[24].t("To access the available model names for downloading,")+"")&&R($,P),(!We||he[0]&16777216)&&W!==(W=z[24].t("click here.")+"")&&R(G,W),he[0]&33554432&&(L=Object.keys(z[25]).length>0),L?ge?(ge.p(z,he),he[0]&33554432&&ae(ge,1)):(ge=zn(z),ge.c(),ae(ge,1),ge.m(f,null)):ge&&(Dt(),ie(ge,1,1,()=>{ge=null}),St()),(!We||he[0]&16777216)&&N!==(N=z[24].t("Delete a model")+"")&&R(j,N),z[23]?ft&&(ft.d(1),ft=null):ft?ft.p(z,he):(ft=Jn(z),ft.c(),ft.m(K,x)),he[0]&67108880){lt=rt(z[26].filter(z[41]));let Ne;for(Ne=0;Ne<lt.length;Ne+=1){const ye=$n(z,lt,Ne);st[Ne]?st[Ne].p(ye,he):(st[Ne]=Qn(ye),st[Ne].c(),st[Ne].m(K,null))}for(;Ne<st.length;Ne+=1)st[Ne].d(1);st.length=lt.length}(!We||he[0]&16777216&&le!==(le=z[24].t("Select a model")))&&n(K,"placeholder",le),he[0]&75497488&&Et(K,z[23]),(!We||he[0]&16777216)&&Me!==(Me=z[24].t("Create a model")+"")&&R(De,Me),(!We||he[0]&16777216&&Ae!==(Ae=z[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&n(me,"placeholder",Ae),(!We||he[0]&2048)&&(me.disabled=z[11]),he[0]&4096&&me.value!==z[12]&&F(me,z[12]),(!We||he[0]&2048)&&(we.disabled=z[11]),he[0]&8192&&F(we,z[13]),(!We||he[0]&2048)&&(Re.disabled=z[11]),z[14]!==""?de?de.p(z,he):(de=Xn(z),de.c(),de.m(Te,null)):de&&(de.d(1),de=null),(!We||he[0]&16777216)&&Ve!==(Ve=z[24].t("Experimental")+"")&&R(Be,Ve),(!We||he[0]&16777344)&&se!==(se=(z[7]?z[24].t("Hide"):z[24].t("Show"))+"")&&R(Pe,se),z[7]?te?te.p(z,he):(te=ei(z),te.c(),te.m(c,null)):te&&(te.d(1),te=null)},i(z){We||(ae(Je),ae(ge),We=!0)},o(z){ie(Je),ie(ge),We=!1},d(z){z&&u(e),Je&&Je.d(),ot.d(),ge&&ge.d(),ft&&ft.d(),Ct(st,z),de&&de.d(),te&&te.d(),nt=!1,Zt(qe)}}}function Gn(a){let e,t,l,s,o,i,c,f,v,g,p,b,m,I=rt(a[3]),k=[];for(let E=0;E<I.length;E+=1)k[E]=Kn(jn(a,I,E));f=new Qt({props:{content:"Update All Models",placement:"top",$$slots:{default:[rf]},$$scope:{ctx:a}}});let w=a[5]&&Fn(a);return{c(){e=d("div"),t=d("div"),l=d("select");for(let E=0;E<k.length;E+=1)k[E].c();o=A(),i=d("div"),c=d("div"),Qe(f.$$.fragment),v=A(),w&&w.c(),g=Gt(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var S=_(l);for(let M=0;M<k.length;M+=1)k[M].l(S);S.forEach(u),T.forEach(u),o=D(y),i=h(y,"DIV",{});var P=_(i);c=h(P,"DIV",{class:!0});var $=_(c);Xe(f.$$.fragment,$),$.forEach(u),P.forEach(u),y.forEach(u),v=D(E),w&&w.l(E),g=Gt(),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[24].t("Select an Ollama instance")),a[4]===void 0&&Jt(()=>a[36].call(l)),n(t,"class","flex-1 pb-1"),n(c,"class","flex w-full justify-end"),n(e,"class","flex gap-2")},m(E,y){V(E,e,y),r(e,t),r(t,l);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(l,null);Et(l,a[4],!0),r(e,o),r(e,i),r(i,c),xe(f,c,null),V(E,v,y),w&&w.m(E,y),V(E,g,y),p=!0,b||(m=re(l,"change",a[36]),b=!0)},p(E,y){if(y[0]&8){I=rt(E[3]);let S;for(S=0;S<I.length;S+=1){const P=jn(E,I,S);k[S]?k[S].p(P,y):(k[S]=Kn(P),k[S].c(),k[S].m(l,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=I.length}(!p||y[0]&16777216&&s!==(s=E[24].t("Select an Ollama instance")))&&n(l,"placeholder",s),y[0]&16&&Et(l,E[4]);const T={};y[2]&32&&(T.$$scope={dirty:y,ctx:E}),f.$set(T),E[5]?w?w.p(E,y):(w=Fn(E),w.c(),w.m(g.parentNode,g)):w&&(w.d(1),w=null)},i(E){p||(ae(f.$$.fragment,E),p=!0)},o(E){ie(f.$$.fragment,E),p=!1},d(E){E&&(u(e),u(v),u(g)),Ct(k,E),et(f),w&&w.d(E),b=!1,m()}}}function Kn(a){let e,t=a[64]+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value=a[66],F(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&8&&t!==(t=s[64]+"")&&R(l,t)},d(s){s&&u(e)}}}function rf(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,s;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-149ekpm"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(o,i){V(o,e,i),l||(s=re(e,"click",a[37]),l=!0)},p:pt,d(o){o&&u(e),l=!1,s()}}}function Fn(a){let e,t,l,s=a[6]?`(${a[6]}%)`:"",o;return{c(){e=U('Updating "'),t=U(a[5]),l=U('" '),o=U(s)},l(i){e=C(i,'Updating "'),t=C(i,a[5]),l=C(i,'" '),o=C(i,s)},m(i,c){V(i,e,c),V(i,t,c),V(i,l,c),V(i,o,c)},p(i,c){c[0]&32&&R(t,i[5]),c[0]&64&&s!==(s=i[6]?`(${i[6]}%)`:"")&&R(o,s)},d(i){i&&(u(e),u(t),u(l),u(o))}}}function nf(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function of(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function zn(a){let e,t,l=rt(Object.keys(a[25])),s=[];for(let i=0;i<l.length;i+=1)s[i]=Yn(Zn(a,l,i));const o=i=>ie(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Gt()},l(i){for(let c=0;c<s.length;c+=1)s[c].l(i);e=Gt()},m(i,c){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,c);V(i,e,c),t=!0},p(i,c){if(c[0]&50331648|c[1]&2){l=rt(Object.keys(i[25]));let f;for(f=0;f<l.length;f+=1){const v=Zn(i,l,f);s[f]?(s[f].p(v,c),ae(s[f],1)):(s[f]=Yn(v),s[f].c(),ae(s[f],1),s[f].m(e.parentNode,e))}for(Dt(),f=l.length;f<s.length;f+=1)o(f);St()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)ae(s[c]);t=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)ie(s[c]);t=!1},d(i){i&&u(e),Ct(s,i)}}}function Wn(a){let e,t,l=a[59]+"",s,o,i,c,f,v,g=(a[25][a[59]].pullProgress??0)+"",p,b,m,I,k,w,E;I=new Qt({props:{content:a[24].t("Cancel"),$$slots:{default:[uf]},$$scope:{ctx:a}}});let y="digest"in a[25][a[59]]&&qn(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("div"),v=d("div"),p=U(g),b=U("%"),m=A(),Qe(I.$$.fragment),k=A(),y&&y.c(),w=A(),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=_(e);t=h(S,"DIV",{class:!0});var P=_(t);s=C(P,l),P.forEach(u),o=D(S),i=h(S,"DIV",{class:!0});var $=_(i);c=h($,"DIV",{class:!0});var M=_(c);f=h(M,"DIV",{class:!0});var Z=_(f);v=h(Z,"DIV",{class:!0,style:!0});var W=_(v);p=C(W,g),b=C(W,"%"),W.forEach(u),Z.forEach(u),m=D(M),Xe(I.$$.fragment,M),M.forEach(u),k=D($),y&&y.l($),$.forEach(u),w=D(S),S.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(v,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Vl(v,"width",Math.max(15,a[25][a[59]].pullProgress??0)+"%"),n(f,"class","flex-1"),n(c,"class","flex flex-row justify-between space-x-4 pr-2"),n(i,"class",""),n(e,"class","flex flex-col")},m(T,S){V(T,e,S),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),r(f,v),r(v,p),r(v,b),r(c,m),xe(I,c,null),r(i,k),y&&y.m(i,null),r(e,w),E=!0},p(T,S){(!E||S[0]&33554432)&&l!==(l=T[59]+"")&&R(s,l),(!E||S[0]&33554432)&&g!==(g=(T[25][T[59]].pullProgress??0)+"")&&R(p,g),(!E||S[0]&33554432)&&Vl(v,"width",Math.max(15,T[25][T[59]].pullProgress??0)+"%");const P={};S[0]&16777216&&(P.content=T[24].t("Cancel")),S[0]&33554432|S[2]&32&&(P.$$scope={dirty:S,ctx:T}),I.$set(P),"digest"in T[25][T[59]]?y?y.p(T,S):(y=qn(T),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},i(T){E||(ae(I.$$.fragment,T),E=!0)},o(T){ie(I.$$.fragment,T),E=!1},d(T){T&&u(e),et(I),y&&y.d()}}}function uf(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,s;function o(){return a[40](a[59])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-7r2t6n"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-gray-800 dark:text-gray-100")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function qn(a){let e,t=a[25][a[59]].digest+"",l;return{c(){e=d("div"),l=U(t),this.h()},l(s){e=h(s,"DIV",{class:!0,style:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Vl(e,"font-size","0.5rem")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&33554432&&t!==(t=s[25][s[59]].digest+"")&&R(l,t)},d(s){s&&u(e)}}}function Yn(a){let e,t,l="pullProgress"in a[25][a[59]]&&Wn(a);return{c(){l&&l.c(),e=Gt()},l(s){l&&l.l(s),e=Gt()},m(s,o){l&&l.m(s,o),V(s,e,o),t=!0},p(s,o){"pullProgress"in s[25][s[59]]?l?(l.p(s,o),o[0]&33554432&&ae(l,1)):(l=Wn(s),l.c(),ae(l,1),l.m(e.parentNode,e)):l&&(Dt(),ie(l,1,1,()=>{l=null}),St())},i(s){t||(ae(l),t=!0)},o(s){ie(l),t=!1},d(s){s&&u(e),l&&l.d(s)}}}function Jn(a){let e,t=a[24].t("Select a model")+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value="",F(e,e.__value),e.disabled=!0,e.selected=!0},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&16777216&&t!==(t=s[24].t("Select a model")+"")&&R(l,t)},d(s){s&&u(e)}}}function Qn(a){let e,t=a[59].name+" ("+(a[59].ollama.size/1073741824).toFixed(1)+" GB)",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[59].name,F(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&67108880&&t!==(t=o[59].name+" ("+(o[59].ollama.size/1024**3).toFixed(1)+" GB)")&&R(l,t),i[0]&67108880&&s!==(s=o[59].name)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function Xn(a){let e,t,l,s,o,i,c,f,v=(a[15]??0)+"",g,p,b,m=a[14]&&xn(a);return{c(){e=d("div"),t=d("div"),l=U(a[12]),s=A(),o=d("div"),i=d("div"),c=d("div"),f=d("div"),g=U(v),p=U("%"),b=A(),m&&m.c(),this.h()},l(I){e=h(I,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);l=C(w,a[12]),w.forEach(u),s=D(k),o=h(k,"DIV",{class:!0});var E=_(o);i=h(E,"DIV",{class:!0});var y=_(i);c=h(y,"DIV",{class:!0});var T=_(c);f=h(T,"DIV",{class:!0,style:!0});var S=_(f);g=C(S,v),p=C(S,"%"),S.forEach(u),T.forEach(u),y.forEach(u),b=D(E),m&&m.l(E),E.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Vl(f,"width",Math.max(15,a[15]??0)+"%"),n(c,"class","flex-1"),n(i,"class","flex flex-row justify-between space-x-4 pr-2"),n(o,"class",""),n(e,"class","flex flex-col mt-1")},m(I,k){V(I,e,k),r(e,t),r(t,l),r(e,s),r(e,o),r(o,i),r(i,c),r(c,f),r(f,g),r(f,p),r(o,b),m&&m.m(o,null)},p(I,k){k[0]&4096&&R(l,I[12]),k[0]&32768&&v!==(v=(I[15]??0)+"")&&R(g,v),k[0]&32768&&Vl(f,"width",Math.max(15,I[15]??0)+"%"),I[14]?m?m.p(I,k):(m=xn(I),m.c(),m.m(o,null)):m&&(m.d(1),m=null)},d(I){I&&u(e),m&&m.d()}}}function xn(a){let e,t;return{c(){e=d("div"),t=U(a[14]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var s=_(e);t=C(s,a[14]),s.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Vl(e,"font-size","0.5rem")},m(l,s){V(l,e,s),r(e,t)},p(l,s){s[0]&16384&&R(t,l[14])},d(l){l&&u(e)}}}function ei(a){let e,t,l,s=a[24].t("Upload a GGUF model")+"",o,i,c,f,v,g,p,b,m,I,k=a[24].t("To access the GGUF models available for downloading,")+"",w,E,y,T=a[24].t("click here.")+"",S,P,$,M;function Z(Q,J){return Q[16]==="file"?cf:ff}let W=Z(a),G=W(a);function q(Q,J){return Q[16]==="file"?hf:df}let L=q(a),H=L(a),B=(a[16]==="file"&&a[17]&&a[17].length>0||a[16]==="url"&&a[18]!=="")&&ti(a),O=(a[16]==="file"&&a[17]&&a[17].length>0||a[16]==="url"&&a[18]!=="")&&li(a);function N(Q,J){if(Q[22])return bf;if(Q[21]!==null)return mf}let j=N(a),Y=j&&j(a);return{c(){e=d("form"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("button"),G.c(),f=A(),v=d("div"),g=d("div"),H.c(),p=A(),B&&B.c(),b=A(),O&&O.c(),m=A(),I=d("div"),w=U(k),E=A(),y=d("a"),S=U(T),P=A(),Y&&Y.c(),this.h()},l(Q){e=h(Q,"FORM",{});var J=_(e);t=h(J,"DIV",{class:!0});var K=_(t);l=h(K,"DIV",{class:!0});var x=_(l);o=C(x,s),x.forEach(u),i=D(K),c=h(K,"BUTTON",{class:!0,type:!0});var le=_(c);G.l(le),le.forEach(u),K.forEach(u),f=D(J),v=h(J,"DIV",{class:!0});var oe=_(v);g=h(oe,"DIV",{class:!0});var ee=_(g);H.l(ee),ee.forEach(u),p=D(oe),B&&B.l(oe),oe.forEach(u),b=D(J),O&&O.l(J),m=D(J),I=h(J,"DIV",{class:!0});var _e=_(I);w=C(_e,k),E=D(_e),y=h(_e,"A",{class:!0,href:!0,target:!0});var ue=_(y);S=C(ue,T),ue.forEach(u),_e.forEach(u),P=D(J),Y&&Y.l(J),J.forEach(u),this.h()},h(){n(l,"class","text-sm font-medium"),n(c,"class","p-1 px-3 text-xs flex rounded transition"),n(c,"type","button"),n(t,"class","mb-2 flex w-full justify-between"),n(g,"class","flex flex-col w-full"),n(v,"class","flex w-full mb-1.5"),n(y,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(y,"href","https://huggingface.co/models?search=gguf"),n(y,"target","_blank"),n(I,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(Q,J){V(Q,e,J),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),G.m(c,null),r(e,f),r(e,v),r(v,g),H.m(g,null),r(v,p),B&&B.m(v,null),r(e,b),O&&O.m(e,null),r(e,m),r(e,I),r(I,w),r(I,E),r(I,y),r(y,S),r(e,P),Y&&Y.m(e,null),$||(M=[re(c,"click",a[48]),re(e,"submit",Ml(a[55]))],$=!0)},p(Q,J){J[0]&16777216&&s!==(s=Q[24].t("Upload a GGUF model")+"")&&R(o,s),W===(W=Z(Q))&&G?G.p(Q,J):(G.d(1),G=W(Q),G&&(G.c(),G.m(c,null))),L===(L=q(Q))&&H?H.p(Q,J):(H.d(1),H=L(Q),H&&(H.c(),H.m(g,null))),Q[16]==="file"&&Q[17]&&Q[17].length>0||Q[16]==="url"&&Q[18]!==""?B?B.p(Q,J):(B=ti(Q),B.c(),B.m(v,null)):B&&(B.d(1),B=null),Q[16]==="file"&&Q[17]&&Q[17].length>0||Q[16]==="url"&&Q[18]!==""?O?O.p(Q,J):(O=li(Q),O.c(),O.m(e,m)):O&&(O.d(1),O=null),J[0]&16777216&&k!==(k=Q[24].t("To access the GGUF models available for downloading,")+"")&&R(w,k),J[0]&16777216&&T!==(T=Q[24].t("click here.")+"")&&R(S,T),j===(j=N(Q))&&Y?Y.p(Q,J):(Y&&Y.d(1),Y=j&&j(Q),Y&&(Y.c(),Y.m(e,null)))},d(Q){Q&&u(e),G.d(),H.d(),B&&B.d(),O&&O.d(),Y&&Y.d(),$=!1,Zt(M)}}}function ff(a){let e,t=a[24].t("URL Mode")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&16777216&&t!==(t=s[24].t("URL Mode")+"")&&R(l,t)},d(s){s&&u(e)}}}function cf(a){let e,t=a[24].t("File Mode")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&16777216&&t!==(t=s[24].t("File Mode")+"")&&R(l,t)},d(s){s&&u(e)}}}function df(a){let e,t,l,s,o,i,c;return{c(){e=d("div"),t=d("input"),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);t=h(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(u),this.h()},h(){n(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(a[18]!==""?"mr-2":"")),n(t,"type","url"),t.required=!0,n(t,"placeholder",s=a[24].t("Type Hugging Face Resolve (Download) URL")),n(e,"class",o="flex-1 "+(a[18]!==""?"mr-2":""))},m(f,v){V(f,e,v),r(e,t),F(t,a[18]),i||(c=re(t,"input",a[53]),i=!0)},p(f,v){v[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(f[18]!==""?"mr-2":""))&&n(t,"class",l),v[0]&16777216&&s!==(s=f[24].t("Type Hugging Face Resolve (Download) URL"))&&n(t,"placeholder",s),v[0]&262144&&t.value!==f[18]&&F(t,f[18]),v[0]&262144&&o!==(o="flex-1 "+(f[18]!==""?"mr-2":""))&&n(e,"class",o)},d(f){f&&u(e),i=!1,c()}}}function hf(a){let e,t,l,s,o,i,c;function f(p,b){return p[17]&&p[17].length>0?vf:_f}let v=f(a),g=v(a);return{c(){e=d("div"),t=d("input"),l=A(),s=d("button"),g.c(),this.h()},l(p){e=h(p,"DIV",{class:!0});var b=_(e);t=h(b,"INPUT",{id:!0,type:!0,accept:!0}),l=D(b),s=h(b,"BUTTON",{type:!0,class:!0});var m=_(s);g.l(m),m.forEach(u),b.forEach(u),this.h()},h(){n(t,"id","model-upload-input"),n(t,"type","file"),n(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,n(s,"type","button"),n(s,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),n(e,"class",o="flex-1 "+(a[17]&&a[17].length>0?"mr-2":""))},m(p,b){V(p,e,b),r(e,t),a[49](t),r(e,l),r(e,s),g.m(s,null),i||(c=[re(t,"change",a[50]),re(t,"change",a[51]),re(s,"click",a[52])],i=!0)},p(p,b){v===(v=f(p))&&g?g.p(p,b):(g.d(1),g=v(p),g&&(g.c(),g.m(s,null))),b[0]&131072&&o!==(o="flex-1 "+(p[17]&&p[17].length>0?"mr-2":""))&&n(e,"class",o)},d(p){p&&u(e),a[49](null),g.d(),i=!1,Zt(c)}}}function _f(a){let e=a[24].t("Click here to select")+"",t;return{c(){t=U(e)},l(l){t=C(l,e)},m(l,s){V(l,t,s)},p(l,s){s[0]&16777216&&e!==(e=l[24].t("Click here to select")+"")&&R(t,e)},d(l){l&&u(t)}}}function vf(a){let e=a[17][0].name+"",t;return{c(){t=U(e)},l(l){t=C(l,e)},m(l,s){V(l,t,s)},p(l,s){s[0]&131072&&e!==(e=l[17][0].name+"")&&R(t,e)},d(l){l&&u(t)}}}function ti(a){let e;function t(o,i){return o[9]?gf:pf}let l=t(a),s=l(a);return{c(){e=d("button"),s.c(),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=_(e);s.l(i),i.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),n(e,"type","submit"),e.disabled=a[9]},m(o,i){V(o,e,i),s.m(e,null)},p(o,i){l!==(l=t(o))&&(s.d(1),s=l(o),s&&(s.c(),s.m(e,null))),i[0]&512&&(e.disabled=o[9])},d(o){o&&u(e),s.d()}}}function pf(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function gf(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function li(a){let e,t,l,s=a[24].t("Modelfile Content")+"",o,i,c,f,v;return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("textarea"),this.h()},l(g){e=h(g,"DIV",{});var p=_(e);t=h(p,"DIV",{});var b=_(t);l=h(b,"DIV",{class:!0});var m=_(l);o=C(m,s),m.forEach(u),i=D(b),c=h(b,"TEXTAREA",{class:!0,rows:!0}),_(c).forEach(u),b.forEach(u),p.forEach(u),this.h()},h(){n(l,"class","my-2.5 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),n(c,"rows","6")},m(g,p){V(g,e,p),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),F(c,a[19]),f||(v=re(c,"input",a[54]),f=!0)},p(g,p){p[0]&16777216&&s!==(s=g[24].t("Modelfile Content")+"")&&R(o,s),p[0]&524288&&F(c,g[19])},d(g){g&&u(e),f=!1,v()}}}function mf(a){let e,t,l=a[24].t("Upload Progress")+"",s,o,i,c,f=(a[21]??0)+"",v,g,p,b,m;return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),v=U(f),g=U("%"),p=A(),b=d("div"),m=U(a[20]),this.h()},l(I){e=h(I,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);s=C(w,l),w.forEach(u),o=D(k),i=h(k,"DIV",{class:!0});var E=_(i);c=h(E,"DIV",{class:!0,style:!0});var y=_(c);v=C(y,f),g=C(y,"%"),y.forEach(u),E.forEach(u),p=D(k),b=h(k,"DIV",{class:!0,style:!0});var T=_(b);m=C(T,a[20]),T.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Vl(c,"width",Math.max(15,a[21]??0)+"%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(b,"class","mt-1 text-xs dark:text-gray-500"),Vl(b,"font-size","0.5rem"),n(e,"class","mt-2")},m(I,k){V(I,e,k),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,v),r(c,g),r(e,p),r(e,b),r(b,m)},p(I,k){k[0]&16777216&&l!==(l=I[24].t("Upload Progress")+"")&&R(s,l),k[0]&2097152&&f!==(f=(I[21]??0)+"")&&R(v,f),k[0]&2097152&&Vl(c,"width",Math.max(15,I[21]??0)+"%"),k[0]&1048576&&R(m,I[20])},d(I){I&&u(e)}}}function bf(a){let e,t,l=a[24].t("Upload Progress")+"",s,o,i,c,f,v,g,p;return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=U(a[22]),v=A(),g=d("div"),p=U(a[20]),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);s=C(I,l),I.forEach(u),o=D(m),i=h(m,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0,style:!0});var w=_(c);f=C(w,a[22]),w.forEach(u),k.forEach(u),v=D(m),g=h(m,"DIV",{class:!0,style:!0});var E=_(g);p=C(E,a[20]),E.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Vl(c,"width","100%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(g,"class","mt-1 text-xs dark:text-gray-500"),Vl(g,"font-size","0.5rem"),n(e,"class","mt-2")},m(b,m){V(b,e,m),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),r(e,v),r(e,g),r(g,p)},p(b,m){m[0]&16777216&&l!==(l=b[24].t("Upload Progress")+"")&&R(s,l),m[0]&4194304&&R(f,b[22]),m[0]&1048576&&R(p,b[20])},d(b){b&&u(e)}}}function Ef(a){let e,t,l,s,o,i,c,f;function v(I){a[34](I)}let g={};a[1]!==void 0&&(g.show=a[1]),e=new Ms({props:g}),Ut.push(()=>$t(e,"show",v)),e.$on("confirm",a[35]);const p=[tf,ef,xu],b=[];function m(I,k){return I[2]?0:I[2]===!1?1:2}return i=m(a),c=b[i]=p[i](a),{c(){Qe(e.$$.fragment),l=A(),s=d("div"),o=d("div"),c.c(),this.h()},l(I){Xe(e.$$.fragment,I),l=D(I),s=h(I,"DIV",{class:!0});var k=_(s);o=h(k,"DIV",{class:!0});var w=_(o);c.l(w),w.forEach(u),k.forEach(u),this.h()},h(){n(o,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(s,"class","flex flex-col h-full justify-between text-sm")},m(I,k){xe(e,I,k),V(I,l,k),V(I,s,k),r(s,o),b[i].m(o,null),f=!0},p(I,k){const w={};!t&&k[0]&2&&(t=!0,w.show=I[1],Bt(()=>t=!1)),e.$set(w);let E=i;i=m(I),i===E?b[i].p(I,k):(Dt(),ie(b[E],1,1,()=>{b[E]=null}),St(),c=b[i],c?c.p(I,k):(c=b[i]=p[i](I),c.c()),ae(c,1),c.m(o,null))},i(I){f||(ae(e.$$.fragment,I),ae(c),f=!0)},o(I){ie(e.$$.fragment,I),ie(c),f=!1},d(I){I&&(u(l),u(s)),et(e,I),b[i].d()}}}const kf=3;function wf(a,e,t){let l,s,o;zt(a,ma,pe=>t(25,s=pe)),zt(a,il,pe=>t(26,o=pe));const i=wl("i18n");zt(a,i,pe=>t(24,l=pe));const c=async()=>await ba(localStorage.token);let f,v=!1,g=null,p=[],b=null,m=null,I=null,k=!1,w=null,E=!1,y="",T=!1,S="",P="",$="",M=null,Z="",W=null,G="file",q=null,L="",H=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,B="",O=null,N="",j="";const Y=async()=>{for(const pe of o.filter(fe=>{var Ie;return!((fe==null?void 0:fe.preset)??!1)&&fe.owned_by==="ollama"&&(b===null?!0:(((Ie=fe==null?void 0:fe.ollama)==null?void 0:Ie.urls)??[]).includes(b))})){console.log(pe),t(5,m=pe.id);const[fe,Ie]=await wr(localStorage.token,pe.id,b).catch(ne=>(Ue.error(ne),null));if(fe){const ne=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Va(`
`)).getReader();for(;;)try{const{value:Ve,done:Be}=await ne.read();if(Be)break;let Oe=Ve.split(`
`);for(const X of Oe)if(X!==""){let se=JSON.parse(X);if(console.log(se),se.error)throw se.error;if(se.detail)throw se.detail;se.status&&(se.digest?(t(6,I=0),se.completed?t(6,I=Math.round(se.completed/se.total*1e3)/10):t(6,I=100)):Ue.success(se.status))}}catch(Ve){console.log(Ve)}}}t(5,m=null),t(6,I=null)},Q=async()=>{const pe=y.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(s),s[pe]){Ue.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:pe}));return}if(Object.keys(s).length===kf){Ue.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[fe,Ie]=await wr(localStorage.token,pe,b).catch(ne=>(Ue.error(ne),null));if(fe){const ne=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Va(`
`)).getReader();for(ma.set({...s,[pe]:{...s[pe],abortController:Ie,reader:ne,done:!1}});;)try{const{value:Ve,done:Be}=await ne.read();if(Be)break;let Oe=Ve.split(`
`);for(const X of Oe)if(X!==""){let se=JSON.parse(X);if(console.log(se),se.error)throw se.error;if(se.detail)throw se.detail;if(se.status)if(se.digest){let Pe=0;se.completed?Pe=Math.round(se.completed/se.total*1e3)/10:Pe=100,ma.set({...s,[pe]:{...s[pe],pullProgress:Pe,digest:se.digest}})}else Ue.success(se.status),ma.set({...s,[pe]:{...s[pe],done:se.status==="success"}})}}catch(Ve){console.log(Ve),typeof Ve!="string"&&(Ve=Ve.message),Ue.error(Ve)}console.log(s[pe]),s[pe].done?(Ue.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:pe})),il.set(await c())):Ue.error(l.t("Download canceled")),delete s[pe],ma.set({...s})}t(10,y=""),t(9,E=!1)},J=async()=>{t(9,E=!0);let pe=!1,fe=null,Ie="";if(G==="file"){const ne=q?q[0]:null;ne&&(t(22,N="Uploading..."),fe=await mo(localStorage.token,ne,b).catch(Ve=>(Ue.error(Ve),null)))}else t(21,O=0),fe=await bo(localStorage.token,L,b).catch(ne=>(Ue.error(ne),null));if(fe&&fe.ok){const ne=fe.body.pipeThrough(new TextDecoderStream).pipeThrough(Va(`
`)).getReader();for(;;){const{value:Ve,done:Be}=await ne.read();if(Be)break;try{let Oe=Ve.split(`
`);for(const X of Oe)if(X!==""){let se=JSON.parse(X.replace(/^data: /,""));if(se.progress&&(N&&t(22,N=""),t(21,O=se.progress)),se.error)throw se.error;se.done&&(t(20,B=se.blob),Ie=se.name,pe=!0)}}catch(Oe){console.log(Oe)}}}else{const ne=await(fe==null?void 0:fe.json());Ue.error((ne==null?void 0:ne.detail)??ne)}if(pe){const ne=await yr(localStorage.token,`${Ie}:latest`,`FROM @${B}
${H}`);if(ne&&ne.ok){const Ve=ne.body.pipeThrough(new TextDecoderStream).pipeThrough(Va(`
`)).getReader();for(;;){const{value:Be,done:Oe}=await Ve.read();if(Oe)break;try{let X=Be.split(`
`);for(const se of X)if(se!==""){console.log(se);let Pe=JSON.parse(se);if(console.log(Pe),Pe.error)throw Pe.error;if(Pe.detail)throw Pe.detail;Pe.status&&(!Pe.digest&&!Pe.status.includes("writing")&&!Pe.status.includes("sha256")?Ue.success(Pe.status):Pe.digest&&(Z=Pe.digest,Pe.completed?W=Math.round(Pe.completed/Pe.total*1e3)/10:W=100))}}catch(X){console.log(X),Ue.error(X)}}}}t(18,L=""),f&&t(0,f.value="",f),t(17,q=null),t(9,E=!1),t(21,O=null),il.set(await c())},K=async()=>{await Ir(localStorage.token,j,b).catch(fe=>{Ue.error(fe)})&&Ue.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:j})),t(23,j=""),il.set(await c())},x=async pe=>{const{reader:fe,abortController:Ie}=s[pe];Ie&&Ie.abort(),fe&&(await fe.cancel(),delete s[pe],ma.set({...s}),await Ir(localStorage.token,pe),Ue.success(`${pe} download has been canceled`))},le=async()=>{t(11,T=!0);const pe=await yr(localStorage.token,S,P,b).catch(fe=>(Ue.error(fe),null));if(pe&&pe.ok){const fe=pe.body.pipeThrough(new TextDecoderStream).pipeThrough(Va(`
`)).getReader();for(;;){const{value:Ie,done:ne}=await fe.read();if(ne)break;try{let Ve=Ie.split(`
`);for(const Be of Ve)if(Be!==""){console.log(Be);let Oe=JSON.parse(Be);if(console.log(Oe),Oe.error)throw Oe.error;if(Oe.detail)throw Oe.detail;Oe.status&&(!Oe.digest&&!Oe.status.includes("writing")&&!Oe.status.includes("sha256")?Ue.success(Oe.status):Oe.digest&&(t(14,$=Oe.digest),Oe.completed?t(15,M=Math.round(Oe.completed/Oe.total*1e3)/10):t(15,M=100)))}}catch(Ve){console.log(Ve),Ue.error(Ve)}}}il.set(await c()),t(11,T=!1),t(12,S=""),t(13,P=""),t(14,$=""),t(15,M=null)};Il(async()=>{(await Ai(localStorage.token)).ENABLE_OLLAMA_API?(t(2,g=!0),await Promise.all([(async()=>{t(3,p=await Di(localStorage.token).catch(fe=>(Ue.error(fe),[]))),p.length>0&&t(4,b=0)})(),(async()=>{t(8,w=await Vs(localStorage.token).catch(fe=>!1))})()])):(t(2,g=!1),Ue.error(l.t("Ollama API is disabled")))});function oe(pe){v=pe,t(1,v)}const ee=()=>{K()};function _e(){b=Yt(this),t(4,b)}const ue=()=>{Y()};function Te(){y=this.value,t(10,y)}const ce=()=>{Q()},Me=pe=>{x(pe)},De=pe=>{var fe;return!((pe==null?void 0:pe.preset)??!1)&&pe.owned_by==="ollama"&&(b===null?!0:(((fe=pe==null?void 0:pe.ollama)==null?void 0:fe.urls)??[]).includes(b))};function He(){j=Yt(this),t(23,j),t(4,b)}const ke=()=>{t(1,v=!0)};function Ge(){S=this.value,t(12,S)}function me(){P=this.value,t(13,P)}const Ae=()=>{le()},Ce=()=>{t(7,k=!k)},we=()=>{G==="file"?t(16,G="url"):t(16,G="file")};function Le(pe){Ut[pe?"unshift":"push"](()=>{f=pe,t(0,f)})}function ze(){q=this.files,t(17,q)}const Re=()=>{console.log(q)},Ye=()=>{f.click()};function at(){L=this.value,t(18,L)}function ve(){H=this.value,t(19,H)}return[f,v,g,p,b,m,I,k,w,E,y,T,S,P,$,M,G,q,L,H,B,O,N,j,l,s,o,i,Y,Q,J,K,x,le,oe,ee,_e,ue,Te,ce,Me,De,He,ke,Ge,me,Ae,Ce,we,Le,ze,Re,Ye,at,ve,()=>{J()}]}class If extends pl{constructor(e){super(),gl(this,e,wf,Ef,vl,{},null,[-1,-1,-1])}}function ai(a,e,t){const l=a.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function si(a,e,t){const l=a.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function yf(a){let e,t,l,s;return l=new Ea({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Qe(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var c=_(t);Xe(l.$$.fragment,c),c.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){V(o,e,i),r(e,t),xe(l,t,null),s=!0},p:pt,i(o){s||(ae(l.$$.fragment,o),s=!0)},o(o){ie(l.$$.fragment,o),s=!1},d(o){o&&u(e),et(l)}}}function Tf(a){let e,t,l,s,o=a[6].t("OpenAI API")+"",i,c,f,v,g,p,b,m,I,k,w,E,y=a[6].t("Ollama API")+"",T,S,P,$,M,Z,W;function G(N){a[13](N)}let q={};a[4]!==void 0&&(q.state=a[4]),v=new kl({props:q}),Ut.push(()=>$t(v,"state",G)),v.$on("change",a[14]);let L=a[4]&&ri(a);function H(N){a[20](N)}let B={};a[5]!==void 0&&(B.state=a[5]),$=new kl({props:B}),Ut.push(()=>$t($,"state",H)),$.$on("change",a[21]);let O=a[5]&&oi(a);return{c(){e=d("div"),t=d("div"),l=d("div"),s=d("div"),i=U(o),c=A(),f=d("div"),Qe(v.$$.fragment),p=A(),L&&L.c(),b=A(),m=d("hr"),I=A(),k=d("div"),w=d("div"),E=d("div"),T=U(y),S=A(),P=d("div"),Qe($.$$.fragment),Z=A(),O&&O.c(),this.h()},l(N){e=h(N,"DIV",{class:!0});var j=_(e);t=h(j,"DIV",{class:!0});var Y=_(t);l=h(Y,"DIV",{class:!0});var Q=_(l);s=h(Q,"DIV",{class:!0});var J=_(s);i=C(J,o),J.forEach(u),c=D(Q),f=h(Q,"DIV",{class:!0});var K=_(f);Xe(v.$$.fragment,K),K.forEach(u),Q.forEach(u),p=D(Y),L&&L.l(Y),Y.forEach(u),j.forEach(u),b=D(N),m=h(N,"HR",{class:!0}),I=D(N),k=h(N,"DIV",{class:!0});var x=_(k);w=h(x,"DIV",{class:!0});var le=_(w);E=h(le,"DIV",{class:!0});var oe=_(E);T=C(oe,y),oe.forEach(u),S=D(le),P=h(le,"DIV",{class:!0});var ee=_(P);Xe($.$$.fragment,ee),ee.forEach(u),le.forEach(u),Z=D(x),O&&O.l(x),x.forEach(u),this.h()},h(){n(s,"class","font-medium"),n(f,"class","mt-1"),n(l,"class","flex justify-between items-center text-sm"),n(t,"class","mt-2 space-y-2 pr-1.5"),n(e,"class","space-y-3"),n(m,"class","dark:border-gray-850"),n(E,"class","font-medium"),n(P,"class","mt-1"),n(w,"class","flex justify-between items-center text-sm"),n(k,"class","pr-1.5 space-y-2")},m(N,j){V(N,e,j),r(e,t),r(t,l),r(l,s),r(s,i),r(l,c),r(l,f),xe(v,f,null),r(t,p),L&&L.m(t,null),V(N,b,j),V(N,m,j),V(N,I,j),V(N,k,j),r(k,w),r(w,E),r(E,T),r(w,S),r(w,P),xe($,P,null),r(k,Z),O&&O.m(k,null),W=!0},p(N,j){(!W||j[0]&64)&&o!==(o=N[6].t("OpenAI API")+"")&&R(i,o);const Y={};!g&&j[0]&16&&(g=!0,Y.state=N[4],Bt(()=>g=!1)),v.$set(Y),N[4]?L?(L.p(N,j),j[0]&16&&ae(L,1)):(L=ri(N),L.c(),ae(L,1),L.m(t,null)):L&&(Dt(),ie(L,1,1,()=>{L=null}),St()),(!W||j[0]&64)&&y!==(y=N[6].t("Ollama API")+"")&&R(T,y);const Q={};!M&&j[0]&32&&(M=!0,Q.state=N[5],Bt(()=>M=!1)),$.$set(Q),N[5]?O?(O.p(N,j),j[0]&32&&ae(O,1)):(O=oi(N),O.c(),ae(O,1),O.m(k,null)):O&&(Dt(),ie(O,1,1,()=>{O=null}),St())},i(N){W||(ae(v.$$.fragment,N),ae(L),ae($.$$.fragment,N),ae(O),W=!0)},o(N){ie(v.$$.fragment,N),ie(L),ie($.$$.fragment,N),ie(O),W=!1},d(N){N&&(u(e),u(b),u(m),u(I),u(k)),et(v),L&&L.d(),et($),O&&O.d()}}}function ri(a){let e,t,l=rt(a[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=ii(si(a,l,i));const o=i=>ie(s[i],1,1,()=>{s[i]=null});return{c(){e=d("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);for(let f=0;f<s.length;f+=1)s[f].l(c);c.forEach(u),this.h()},h(){n(e,"class","flex flex-col gap-1")},m(i,c){V(i,e,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);t=!0},p(i,c){if(c[0]&590){l=rt(i[2]);let f;for(f=0;f<l.length;f+=1){const v=si(i,l,f);s[f]?(s[f].p(v,c),ae(s[f],1)):(s[f]=ii(v),s[f].c(),ae(s[f],1),s[f].m(e,null))}for(Dt(),f=l.length;f<s.length;f+=1)o(f);St()}},i(i){if(!t){for(let c=0;c<l.length;c+=1)ae(s[c]);t=!0}},o(i){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)ie(s[c]);t=!1},d(i){i&&u(e),Ct(s,i)}}}function ni(a){let e,t,l;return t=new Qt({props:{content:"Pipelines",$$slots:{default:[Af]},$$scope:{ctx:a}}}),{c(){e=d("div"),Qe(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=_(e);Xe(t.$$.fragment,o),o.forEach(u),this.h()},h(){n(e,"class","absolute top-2.5 right-2.5")},m(s,o){V(s,e,o),xe(t,e,null),l=!0},i(s){l||(ae(t.$$.fragment,s),l=!0)},o(s){ie(t.$$.fragment,s),l=!1},d(s){s&&u(e),et(t)}}}function Af(a){let e,t,l,s;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),s=wt("path"),this.h()},l(o){e=It(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=It(i,"path",{d:!0}),_(t).forEach(u),l=It(i,"path",{d:!0}),_(l).forEach(u),s=It(i,"path",{d:!0}),_(s).forEach(u),i.forEach(u),this.h()},h(){n(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),n(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),n(s,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(o,i){V(o,e,i),r(e,t),r(e,l),r(e,s)},p:pt,d(o){o&&u(e)}}}function Df(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,s;function o(){return a[18](a[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function Sf(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,s;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){V(o,e,i),l||(s=re(e,"click",a[17]),l=!0)},p:pt,d(o){o&&u(e),l=!1,s()}}}function Vf(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,s;function o(){return a[19](a[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function ii(a){let e,t,l,s,o,i,c,f,v,g,p,b,m,I,k,w,E=a[6].t("WebUI will make requests to")+"",y,T,S,P,$=a[29]+"",M,Z,W,G,q,L;function H(){a[15].call(l,a[32],a[31])}let B=a[3][a[29]]&&ni(a);function O(J){a[16](J,a[31])}let N={placeholder:a[6].t("API Key")};a[1][a[31]]!==void 0&&(N.value=a[1][a[31]]),f=new ml({props:N}),Ut.push(()=>$t(f,"value",O));function j(J,K){return J[31]===0?Sf:Df}let Q=j(a)(a);return I=new Qt({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[Vf]},$$scope:{ctx:a}}}),{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),B&&B.c(),c=A(),Qe(f.$$.fragment),g=A(),p=d("div"),Q.c(),b=A(),m=d("div"),Qe(I.$$.fragment),k=A(),w=d("div"),y=U(E),T=A(),S=d("span"),P=U("'"),M=U($),Z=U("/models'"),W=A(),this.h()},l(J){e=h(J,"DIV",{class:!0});var K=_(e);t=h(K,"DIV",{class:!0});var x=_(t);l=h(x,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),i=D(x),B&&B.l(x),x.forEach(u),c=D(K),Xe(f.$$.fragment,K),g=D(K),p=h(K,"DIV",{class:!0});var le=_(p);Q.l(le),le.forEach(u),b=D(K),m=h(K,"DIV",{class:!0});var oe=_(m);Xe(I.$$.fragment,oe),oe.forEach(u),K.forEach(u),k=D(J),w=h(J,"DIV",{class:!0});var ee=_(w);y=C(ee,E),T=D(ee),S=h(ee,"SPAN",{class:!0});var _e=_(S);P=C(_e,"'"),M=C(_e,$),Z=C(_e,"/models'"),_e.forEach(u),W=D(ee),ee.forEach(u),this.h()},h(){n(l,"class",s="w-full rounded-lg py-2 px-4 "+(a[3][a[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=a[6].t("API Base URL")),n(l,"autocomplete","off"),n(t,"class","flex-1 relative"),n(p,"class","self-center flex items-center"),n(m,"class","flex"),n(e,"class","flex w-full gap-2"),n(S,"class","text-gray-200"),n(w,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(J,K){V(J,e,K),r(e,t),r(t,l),F(l,a[29]),r(t,i),B&&B.m(t,null),r(e,c),xe(f,e,null),r(e,g),r(e,p),Q.m(p,null),r(e,b),r(e,m),xe(I,m,null),V(J,k,K),V(J,w,K),r(w,y),r(w,T),r(w,S),r(S,P),r(S,M),r(S,Z),r(w,W),G=!0,q||(L=re(l,"input",H),q=!0)},p(J,K){a=J,(!G||K[0]&12&&s!==(s="w-full rounded-lg py-2 px-4 "+(a[3][a[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"))&&n(l,"class",s),(!G||K[0]&64&&o!==(o=a[6].t("API Base URL")))&&n(l,"placeholder",o),K[0]&4&&l.value!==a[29]&&F(l,a[29]),a[3][a[29]]?B?K[0]&12&&ae(B,1):(B=ni(a),B.c(),ae(B,1),B.m(t,null)):B&&(Dt(),ie(B,1,1,()=>{B=null}),St());const x={};K[0]&64&&(x.placeholder=a[6].t("API Key")),!v&&K[0]&2&&(v=!0,x.value=a[1][a[31]],Bt(()=>v=!1)),f.$set(x),Q.p(a,K);const le={};K[1]&4&&(le.$$scope={dirty:K,ctx:a}),I.$set(le),(!G||K[0]&64)&&E!==(E=a[6].t("WebUI will make requests to")+"")&&R(y,E),(!G||K[0]&4)&&$!==($=a[29]+"")&&R(M,$)},i(J){G||(ae(B),ae(f.$$.fragment,J),ae(I.$$.fragment,J),G=!0)},o(J){ie(B),ie(f.$$.fragment,J),ie(I.$$.fragment,J),G=!1},d(J){J&&(u(e),u(k),u(w)),B&&B.d(),et(f),Q.d(),et(I),q=!1,L()}}}function oi(a){let e,t,l,s,o=a[6].t("Trouble accessing Ollama?")+"",i,c,f,v=a[6].t("Click here for help.")+"",g,p,b=rt(a[0]),m=[];for(let k=0;k<b.length;k+=1)m[k]=ui(ai(a,b,k));const I=k=>ie(m[k],1,1,()=>{m[k]=null});return{c(){e=d("div"),t=d("div");for(let k=0;k<m.length;k+=1)m[k].c();l=A(),s=d("div"),i=U(o),c=A(),f=d("a"),g=U(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);for(let S=0;S<m.length;S+=1)m[S].l(E);E.forEach(u),w.forEach(u),l=D(k),s=h(k,"DIV",{class:!0});var y=_(s);i=C(y,o),c=D(y),f=h(y,"A",{class:!0,href:!0,target:!0});var T=_(f);g=C(T,v),T.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","flex-1 flex flex-col gap-2"),n(e,"class","flex w-full gap-1.5"),n(f,"class","text-gray-300 font-medium underline"),n(f,"href","https://github.com/open-webui/open-webui#troubleshooting"),n(f,"target","_blank"),n(s,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(k,w){V(k,e,w),r(e,t);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(t,null);V(k,l,w),V(k,s,w),r(s,i),r(s,c),r(s,f),r(f,g),p=!0},p(k,w){if(w[0]&1089){b=rt(k[0]);let E;for(E=0;E<b.length;E+=1){const y=ai(k,b,E);m[E]?(m[E].p(y,w),ae(m[E],1)):(m[E]=ui(y),m[E].c(),ae(m[E],1),m[E].m(t,null))}for(Dt(),E=b.length;E<m.length;E+=1)I(E);St()}(!p||w[0]&64)&&o!==(o=k[6].t("Trouble accessing Ollama?")+"")&&R(i,o),(!p||w[0]&64)&&v!==(v=k[6].t("Click here for help.")+"")&&R(g,v)},i(k){if(!p){for(let w=0;w<b.length;w+=1)ae(m[w]);p=!0}},o(k){m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)ie(m[w]);p=!1},d(k){k&&(u(e),u(l),u(s)),Ct(m,k)}}}function Mf(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,s;function o(){return a[24](a[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function Of(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,s;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){V(o,e,i),l||(s=re(e,"click",a[23]),l=!0)},p:pt,d(o){o&&u(e),l=!1,s()}}}function Pf(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,s;function o(){return a[25](a[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ht(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,c){V(i,e,c),l||(s=re(e,"click",o),l=!0)},p(i,c){a=i},d(i){i&&u(e),l=!1,s()}}}function ui(a){let e,t,l,s,o,i,c,f,v,g,p,b;function m(){a[22].call(t,a[30],a[31])}function I(E,y){return E[31]===0?Of:Mf}let w=I(a)(a);return f=new Qt({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[Pf]},$$scope:{ctx:a}}}),{c(){e=d("div"),t=d("input"),s=A(),o=d("div"),w.c(),i=A(),c=d("div"),Qe(f.$$.fragment),v=A(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=_(e);t=h(y,"INPUT",{class:!0,placeholder:!0}),s=D(y),o=h(y,"DIV",{class:!0});var T=_(o);w.l(T),T.forEach(u),i=D(y),c=h(y,"DIV",{class:!0});var S=_(c);Xe(f.$$.fragment,S),S.forEach(u),v=D(y),y.forEach(u),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=a[6].t("Enter URL (e.g. http://localhost:11434)")),n(o,"class","self-center flex items-center"),n(c,"class","flex"),n(e,"class","flex gap-1.5")},m(E,y){V(E,e,y),r(e,t),F(t,a[29]),r(e,s),r(e,o),w.m(o,null),r(e,i),r(e,c),xe(f,c,null),r(e,v),g=!0,p||(b=re(t,"input",m),p=!0)},p(E,y){a=E,(!g||y[0]&64&&l!==(l=a[6].t("Enter URL (e.g. http://localhost:11434)")))&&n(t,"placeholder",l),y[0]&1&&t.value!==a[29]&&F(t,a[29]),w.p(a,y);const T={};y[1]&4&&(T.$$scope={dirty:y,ctx:a}),f.$set(T)},i(E){g||(ae(f.$$.fragment,E),g=!0)},o(E){ie(f.$$.fragment,E),g=!1},d(E){E&&u(e),w.d(),et(f),p=!1,b()}}}function Lf(a){let e,t,l,s,o,i,c,f=a[6].t("Save")+"",v,g,p,b;const m=[Tf,yf],I=[];function k(w,E){return w[4]!==null&&w[5]!==null?0:1}return l=k(a),s=I[l]=m[l](a),{c(){e=d("form"),t=d("div"),s.c(),o=A(),i=d("div"),c=d("button"),v=U(f),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var y=_(t);s.l(y),y.forEach(u),o=D(E),i=h(E,"DIV",{class:!0});var T=_(i);c=h(T,"BUTTON",{class:!0,type:!0});var S=_(c);v=C(S,f),S.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(c,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(c,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(w,E){V(w,e,E),r(e,t),I[l].m(t,null),r(e,o),r(e,i),r(i,c),r(c,v),g=!0,p||(b=re(e,"submit",Ml(a[26])),p=!0)},p(w,E){let y=l;l=k(w),l===y?I[l].p(w,E):(Dt(),ie(I[y],1,1,()=>{I[y]=null}),St(),s=I[l],s?s.p(w,E):(s=I[l]=m[l](w),s.c()),ae(s,1),s.m(t,null)),(!g||E[0]&64)&&f!==(f=w[6].t("Save")+"")&&R(v,f)},i(w){g||(ae(s),g=!0)},o(w){ie(s),g=!1},d(w){w&&u(e),I[l].d(),p=!1,b()}}}function Nf(a,e,t){let l,s;zt(a,Os,N=>t(27,l=N));const o=Oa(),i=wl("i18n");zt(a,i,N=>t(6,s=N));const c=async()=>await ba(localStorage.token);let f=[""],v=[""],g=[""],p={},b=null,m=null;const I=async N=>{t(2,g=g.map(Y=>Y.replace(/\/$/,""))),t(2,g=await Sr(localStorage.token,g)),t(1,v=await Vr(localStorage.token,v));const j=await Dr(localStorage.token,N).catch(Y=>(Ue.error(Y),null));j&&(Ue.success(s.t("Server connection verified")),j.pipelines&&t(3,p[g[N]]=!0,p)),await il.set(await c())},k=async N=>{t(0,f=f.filter(Y=>Y!=="").map(Y=>Y.replace(/\/$/,""))),t(0,f=await Tr(localStorage.token,f)),await Vs(localStorage.token,N).catch(Y=>(Ue.error(Y),null))&&Ue.success(s.t("Server connection verified")),await il.set(await c())},w=async()=>{if(t(2,g=g.map(N=>N.replace(/\/$/,""))),v.length!==g.length&&(v.length>g.length&&t(1,v=v.slice(0,g.length)),v.length<g.length)){const N=g.length-v.length;for(let j=0;j<N;j++)v.push("")}t(2,g=await Sr(localStorage.token,g)),t(1,v=await Vr(localStorage.token,v)),await il.set(await c())},E=async()=>{t(0,f=f.filter(N=>N!=="").map(N=>N.replace(/\/$/,""))),console.log(f),f.length===0?(t(5,m=!1),await Ar(localStorage.token,m),Ue.info(s.t("Ollama API disabled"))):(t(0,f=await Tr(localStorage.token,f)),await Vs(localStorage.token).catch(j=>(Ue.error(j),null))&&(Ue.success(s.t("Server connection verified")),await il.set(await c())))};Il(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,f=await Di(localStorage.token))})(),(async()=>{t(2,g=await Eo(localStorage.token))})(),(async()=>{t(1,v=await ko(localStorage.token))})()]);const N=await Ai(localStorage.token),j=await wo(localStorage.token);t(4,b=j.ENABLE_OPENAI_API),t(5,m=N.ENABLE_OLLAMA_API),b&&g.forEach(async(Y,Q)=>{(await Dr(localStorage.token,Q)).pipelines&&t(3,p[Y]=!0,p)})}});function y(N){b=N,t(4,b)}const T=async()=>{Io(localStorage.token,b)};function S(N,j){N[j]=this.value,t(2,g)}function P(N,j){a.$$.not_equal(v[j],N)&&(v[j]=N,t(1,v))}const $=()=>{t(2,g=[...g,""]),t(1,v=[...v,""])},M=N=>{t(2,g=g.filter((j,Y)=>N!==Y)),t(1,v=v.filter((j,Y)=>N!==Y))},Z=N=>{I(N)};function W(N){m=N,t(5,m)}const G=async()=>{Ar(localStorage.token,m),f.length===0&&t(0,f=[""])};function q(N,j){N[j]=this.value,t(0,f)}return[f,v,g,p,b,m,s,o,i,I,k,w,E,y,T,S,P,$,M,Z,W,G,q,()=>{t(0,f=[...f,""])},N=>{t(0,f=f.filter((j,Y)=>N!==Y))},N=>{k(N)},()=>{w(),E(),o("save")}]}class Uf extends pl{constructor(e){super(),gl(this,e,Nf,Lf,vl,{},null,[-1,-1])}}function fi(a,e,t){const l=a.slice();return l[62]=e[t],l}function ci(a){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}

									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1u2pzpa"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-3 self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function di(a){let e,t,l,s,o,i,c,f,v,g=a[20].t("Embedding Batch Size")+"",p,b,m,I,k,w,E,y,T,S;function P(M){a[36](M)}let $={placeholder:a[20].t("API Key")};return a[16]!==void 0&&($.value=a[16]),o=new ml({props:$}),Ut.push(()=>$t(o,"value",P)),{c(){e=d("div"),t=d("input"),s=A(),Qe(o.$$.fragment),c=A(),f=d("div"),v=d("div"),p=U(g),b=A(),m=d("div"),I=d("input"),k=A(),w=d("div"),E=d("input"),this.h()},l(M){e=h(M,"DIV",{class:!0});var Z=_(e);t=h(Z,"INPUT",{class:!0,placeholder:!0}),s=D(Z),Xe(o.$$.fragment,Z),Z.forEach(u),c=D(M),f=h(M,"DIV",{class:!0});var W=_(f);v=h(W,"DIV",{class:!0});var G=_(v);p=C(G,g),G.forEach(u),b=D(W),m=h(W,"DIV",{class:!0});var q=_(m);I=h(q,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),q.forEach(u),k=D(W),w=h(W,"DIV",{class:!0});var L=_(w);E=h(L,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),L.forEach(u),W.forEach(u),this.h()},h(){n(t,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=a[20].t("API Base URL")),t.required=!0,n(e,"class","my-0.5 flex gap-2"),n(v,"class","self-center text-xs font-medium"),n(I,"id","steps-range"),n(I,"type","range"),n(I,"min","1"),n(I,"max","2048"),n(I,"step","1"),n(I,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),n(m,"class","flex-1"),n(E,"type","number"),n(E,"class","bg-transparent text-center w-14"),n(E,"min","-2"),n(E,"max","16000"),n(E,"step","1"),n(w,"class",""),n(f,"class","flex mt-0.5 space-x-2")},m(M,Z){V(M,e,Z),r(e,t),F(t,a[17]),r(e,s),xe(o,e,null),V(M,c,Z),V(M,f,Z),r(f,v),r(v,p),r(f,b),r(f,m),r(m,I),F(I,a[18]),r(f,k),r(f,w),r(w,E),F(E,a[18]),y=!0,T||(S=[re(t,"input",a[35]),re(I,"change",a[37]),re(I,"input",a[37]),re(E,"input",a[38])],T=!0)},p(M,Z){(!y||Z[0]&1048576&&l!==(l=M[20].t("API Base URL")))&&n(t,"placeholder",l),Z[0]&131072&&t.value!==M[17]&&F(t,M[17]);const W={};Z[0]&1048576&&(W.placeholder=M[20].t("API Key")),!i&&Z[0]&65536&&(i=!0,W.value=M[16],Bt(()=>i=!1)),o.$set(W),(!y||Z[0]&1048576)&&g!==(g=M[20].t("Embedding Batch Size")+"")&&R(p,g),Z[0]&262144&&F(I,M[18]),Z[0]&262144&&ul(E.value)!==M[18]&&F(E,M[18])},i(M){y||(ae(o.$$.fragment,M),y=!0)},o(M){ie(o.$$.fragment,M),y=!1},d(M){M&&(u(e),u(c),u(f)),et(o),T=!1,Zt(S)}}}function Cf(a){let e,t=a[20].t("Off")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&1048576&&t!==(t=s[20].t("Off")+"")&&R(l,t)},d(s){s&&u(e)}}}function Rf(a){let e,t=a[20].t("On")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&1048576&&t!==(t=s[20].t("On")+"")&&R(l,t)},d(s){s&&u(e)}}}function Hf(a){let e,t,l,s,o,i,c,f=a[5]===""&&hi(a);return{c(){e=d("div"),t=d("div"),l=d("input"),o=A(),f&&f.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var p=_(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(u),o=D(g),f&&f.l(g),g.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[20].t("Set embedding model (e.g. {{model}})",{model:a[6].slice(-40)})),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(v,g){V(v,e,g),r(e,t),r(t,l),F(l,a[6]),r(e,o),f&&f.m(e,null),i||(c=re(l,"input",a[41]),i=!0)},p(v,g){g[0]&3145792&&s!==(s=v[20].t("Set embedding model (e.g. {{model}})",{model:v[6].slice(-40)}))&&n(l,"placeholder",s),g[0]&2097216&&l.value!==v[6]&&F(l,v[6]),v[5]===""?f?f.p(v,g):(f=hi(v),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(v){v&&u(e),f&&f.d(),i=!1,c()}}}function Bf(a){let e,t,l,s,o,i,c,f=!a[6]&&_i(a),v=rt(a[21].filter(Ei)),g=[];for(let p=0;p<v.length;p+=1)g[p]=vi(fi(a,v,p));return{c(){e=d("div"),t=d("div"),l=d("select"),f&&f.c(),s=Gt();for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);l=h(m,"SELECT",{class:!0,placeholder:!0});var I=_(l);f&&f.l(I),s=Gt();for(let k=0;k<g.length;k+=1)g[k].l(I);I.forEach(u),m.forEach(u),b.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=a[20].t("Select a model")),l.required=!0,a[6]===void 0&&Jt(()=>a[40].call(l)),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(p,b){V(p,e,b),r(e,t),r(t,l),f&&f.m(l,null),r(l,s);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(l,null);Et(l,a[6],!0),i||(c=re(l,"change",a[40]),i=!0)},p(p,b){if(p[6]?f&&(f.d(1),f=null):f?f.p(p,b):(f=_i(p),f.c(),f.m(l,s)),b[0]&2097152){v=rt(p[21].filter(Ei));let m;for(m=0;m<v.length;m+=1){const I=fi(p,v,m);g[m]?g[m].p(I,b):(g[m]=vi(I),g[m].c(),g[m].m(l,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=v.length}b[0]&1048576&&o!==(o=p[20].t("Select a model"))&&n(l,"placeholder",o),b[0]&2097216&&Et(l,p[6])},d(p){p&&u(e),f&&f.d(),Ct(g,p),i=!1,c()}}}function hi(a){let e,t,l;function s(c,f){return c[1]?Zf:$f}let o=s(a),i=o(a);return{c(){e=d("button"),i.c(),this.h()},l(c){e=h(c,"BUTTON",{class:!0});var f=_(e);i.l(f),f.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=a[1]},m(c,f){V(c,e,f),i.m(e,null),t||(l=re(e,"click",a[42]),t=!0)},p(c,f){o!==(o=s(c))&&(i.d(1),i=o(c),i&&(i.c(),i.m(e,null))),f[0]&2&&(e.disabled=c[1])},d(c){c&&u(e),i.d(),t=!1,l()}}}function $f(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function Zf(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function _i(a){let e,t=a[20].t("Select a model")+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value="",F(e,e.__value),e.disabled=!0,e.selected=!0},m(s,o){V(s,e,o),r(e,l)},p(s,o){o[0]&1048576&&t!==(t=s[20].t("Select a model")+"")&&R(l,t)},d(s){s&&u(e)}}}function vi(a){let e,t=a[62].name+"",l,s;return{c(){e=d("option"),l=U(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=C(i,t),i.forEach(u),this.h()},h(){e.__value=s=a[62].id,F(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){V(o,e,i),r(e,l)},p(o,i){i[0]&2097152&&t!==(t=o[62].name+"")&&R(l,t),i[0]&2097152&&s!==(s=o[62].id)&&(e.__value=s,F(e,e.__value))},d(o){o&&u(e)}}}function pi(a){let e,t,l=a[20].t("Reranking Model")+"",s,o,i,c,f,v,g,p,b,m;function I(E,y){return E[2]?Gf:jf}let k=I(a),w=k(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("input"),g=A(),p=d("button"),w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var T=_(t);s=C(T,l),T.forEach(u),o=D(y),i=h(y,"DIV",{class:!0});var S=_(i);c=h(S,"DIV",{class:!0});var P=_(c);f=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(u),g=D(S),p=h(S,"BUTTON",{class:!0});var $=_(p);w.l($),$.forEach(u),S.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",v=a[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),n(c,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=a[2],n(i,"class","flex w-full"),n(e,"class","")},m(E,y){V(E,e,y),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),F(f,a[7]),r(i,g),r(i,p),w.m(p,null),b||(m=[re(f,"input",a[43]),re(p,"click",a[44])],b=!0)},p(E,y){y[0]&1048576&&l!==(l=E[20].t("Reranking Model")+"")&&R(s,l),y[0]&1048576&&v!==(v=E[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&n(f,"placeholder",v),y[0]&128&&f.value!==E[7]&&F(f,E[7]),k!==(k=I(E))&&(w.d(1),w=k(E),w&&(w.c(),w.m(p,null))),y[0]&4&&(p.disabled=E[2])},d(E){E&&u(e),w.d(),b=!1,Zt(m)}}}function jf(a){let e,t,l;return{c(){e=wt("svg"),t=wt("path"),l=wt("path"),this.h()},l(s){e=It(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=It(o,"path",{d:!0}),_(t).forEach(u),l=It(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(s,o){V(s,e,o),r(e,t),r(e,l)},d(s){s&&u(e)}}}function Gf(a){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,s){V(l,e,s)},d(l){l&&u(e)}}}function gi(a){let e,t,l,s,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var f=_(e);t=h(f,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),f.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",s=a[20].t("Enter Tika Server URL")),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full mt-2")},m(c,f){V(c,e,f),r(e,t),r(t,l),F(l,a[11]),o||(i=re(l,"input",a[47]),o=!0)},p(c,f){f[0]&1048576&&s!==(s=c[20].t("Enter Tika Server URL"))&&n(l,"placeholder",s),f[0]&2048&&l.value!==c[11]&&F(l,c[11])},d(c){c&&u(e),o=!1,i()}}}function Kf(a){let e,t,l,s;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=a[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){V(o,e,i),F(e,a[8]),l||(s=re(e,"input",a[48]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&256&&ul(e.value)!==o[8]&&F(e,o[8])},d(o){o&&u(e),l=!1,s()}}}function Ff(a){let e,t,l,s;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=a[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){V(o,e,i),F(e,a[9]),l||(s=re(e,"input",a[49]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&512&&ul(e.value)!==o[9]&&F(e,o[9])},d(o){o&&u(e),l=!1,s()}}}function mi(a){let e,t,l=a[20].t("Minimum Score")+"",s,o,i,c,f,v,g,p;return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("input"),this.h()},l(b){e=h(b,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);s=C(I,l),I.forEach(u),o=D(m),i=h(m,"DIV",{class:!0});var k=_(i);c=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium min-w-fit"),n(c,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"type","number"),n(c,"step","0.01"),n(c,"placeholder",f=a[20].t("Enter Score")),n(c,"autocomplete","off"),n(c,"min","0.0"),n(c,"title",v=a[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),n(i,"class","self-center p-3"),n(e,"class","flex w-full justify-between")},m(b,m){V(b,e,m),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),F(c,a[19].r),g||(p=re(c,"input",a[51]),g=!0)},p(b,m){m[0]&1048576&&l!==(l=b[20].t("Minimum Score")+"")&&R(s,l),m[0]&1048576&&f!==(f=b[20].t("Enter Score"))&&n(c,"placeholder",f),m[0]&1048576&&v!==(v=b[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&n(c,"title",v),m[0]&524288&&ul(c.value)!==b[19].r&&F(c,b[19].r)},d(b){b&&u(e),g=!1,p()}}}function bi(a){let e,t=a[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,s,o;return{c(){e=d("div"),l=U(t),s=A(),o=d("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var c=_(e);l=C(c,t),c.forEach(u),s=D(i),o=h(i,"HR",{class:!0}),this.h()},h(){n(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(o,"class","dark:border-gray-850 my-3")},m(i,c){V(i,e,c),r(e,l),V(i,s,c),V(i,o,c)},p(i,c){c[0]&1048576&&t!==(t=i[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&R(l,t)},d(i){i&&(u(e),u(s),u(o))}}}function zf(a){let e,t,l,s;return{c(){e=d("textarea"),this.h()},l(o){e=h(o,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),_(e).forEach(u),this.h()},h(){n(e,"placeholder",t=a[20].t("Leave empty to use the default prompt, or enter a custom prompt")),n(e,"class","w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(e,"rows","4")},m(o,i){V(o,e,i),F(e,a[19].template),l||(s=re(e,"input",a[52]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty to use the default prompt, or enter a custom prompt"))&&n(e,"placeholder",t),i[0]&524288&&F(e,o[19].template)},d(o){o&&u(e),l=!1,s()}}}function Wf(a){let e,t,l,s,o,i,c,f,v,g,p=a[20].t("General Settings")+"",b,m,I,k,w=a[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",E,y,T,S,P=a[20].t("Scan")+"",$,M,Z,W,G,q,L=a[20].t("Embedding Model Engine")+"",H,B,O,N,j,Y=a[20].t("Default (SentenceTransformers)")+"",Q,J,K=a[20].t("Ollama")+"",x,le,oe=a[20].t("OpenAI")+"",ee,_e,ue,Te,ce,Me=a[20].t("Hybrid Search")+"",De,He,ke,Ge,me,Ae,Ce,we,Le,ze,Re=a[20].t("Embedding Model")+"",Ye,at,ve,Se,pe=a[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",fe,Ie,ne,Ve,Be,Oe,X,se=a[20].t("Content Extraction")+"",Pe,Ke,We,nt,qe=a[20].t("Engine")+"",Je,tt,ct,ot,ge,ft=a[20].t("Default")+"",lt,st,de,te=a[20].t("Tika")+"",z,he,Ne,ye,Ee,ut,_t,yt=a[20].t("Files")+"",Rt,jt,Pt,$e,Ze,Vt=a[20].t("Max Upload Size")+"",Mt,mt,bt,gt,kt,it,Ht,Ft=a[20].t("Max Upload Count")+"",Kt,Lt,Tt,Fe,dt,vt,Xt,Nt,Wt,fl=a[20].t("Query Params")+"",el,yl,xt,tl,cl,Tl=a[20].t("Top K")+"",bl,ta,Al,ll,Cl,la,Hl,ql,El,Rl,Ol=a[20].t("RAG Template")+"",Yl,aa,Bl,ds,Pa,hs,Pl,sa,ka=a[20].t("Chunk Params")+"",La,_s,$l,Zl,ra,wa=a[20].t("Chunk Size")+"",Na,vs,na,dl,Ua,ps,jl,ia,Ia=a[20].t("Chunk Overlap")+"",Ca,gs,oa,hl,Ra,ms,ua,Gl,fa,ya=a[20].t("PDF Extract Images (OCR)")+"",Ha,bs,Kl,Ta=(a[15]?a[20].t("On"):a[20].t("Off"))+"",Ba,Es,$a,ks,Jl,Ll,Ql,Ps='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ws,ca,Aa=a[20].t("Reset Upload Directory")+"",Za,Is,Nl,Xl,Ls='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',ys,da,Da=a[20].t("Reset Vector Storage")+"",ja,Ts,ha,xl,Sa=a[20].t("Save")+"",Ga,At,As,Ns;function Mi(be){a[28](be)}let Us={};a[4]!==void 0&&(Us.show=a[4]),e=new Ms({props:Us}),Ut.push(()=>$t(e,"show",Mi)),e.$on("confirm",a[29]);function Oi(be){a[30](be)}let Cs={};a[3]!==void 0&&(Cs.show=a[3]),s=new Ms({props:Cs}),Ut.push(()=>$t(s,"show",Oi)),s.$on("confirm",a[31]);let ol=a[0]&&ci(),qt=a[5]==="openai"&&di(a);function Rs(be,je){return be[19].hybrid===!0?Rf:Cf}let Ka=Rs(a),Dl=Ka(a);function Hs(be,je){return be[5]==="ollama"?Bf:Hf}let Fa=Hs(a),Sl=Fa(a),al=a[19].hybrid===!0&&pi(a),sl=a[12]&&gi(a);gt=new Qt({props:{content:a[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[Kf]},$$scope:{ctx:a}}}),Fe=new Qt({props:{content:a[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[Ff]},$$scope:{ctx:a}}});let rl=a[19].hybrid===!0&&mi(a),nl=a[19].hybrid===!0&&bi(a);return Bl=new Qt({props:{content:a[20].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[zf]},$$scope:{ctx:a}}}),{c(){Qe(e.$$.fragment),l=A(),Qe(s.$$.fragment),i=A(),c=d("form"),f=d("div"),v=d("div"),g=d("div"),b=U(p),m=A(),I=d("div"),k=d("div"),E=U(w),y=A(),T=d("button"),S=d("div"),$=U(P),M=A(),ol&&ol.c(),W=A(),G=d("div"),q=d("div"),H=U(L),B=A(),O=d("div"),N=d("select"),j=d("option"),Q=U(Y),J=d("option"),x=U(K),le=d("option"),ee=U(oe),_e=A(),qt&&qt.c(),ue=A(),Te=d("div"),ce=d("div"),De=U(Me),He=A(),ke=d("button"),Dl.c(),Ge=A(),me=d("hr"),Ae=A(),Ce=d("div"),we=A(),Le=d("div"),ze=d("div"),Ye=U(Re),at=A(),Sl.c(),ve=A(),Se=d("div"),fe=U(pe),Ie=A(),al&&al.c(),ne=A(),Ve=d("hr"),Be=A(),Oe=d("div"),X=d("div"),Pe=U(se),Ke=A(),We=d("div"),nt=d("div"),Je=U(qe),tt=A(),ct=d("div"),ot=d("select"),ge=d("option"),lt=U(ft),st=A(),de=d("option"),z=U(te),he=A(),sl&&sl.c(),Ne=A(),ye=d("hr"),Ee=A(),ut=d("div"),_t=d("div"),Rt=U(yt),jt=A(),Pt=d("div"),$e=d("div"),Ze=d("div"),Mt=U(Vt),mt=A(),bt=d("div"),Qe(gt.$$.fragment),kt=A(),it=d("div"),Ht=d("div"),Kt=U(Ft),Lt=A(),Tt=d("div"),Qe(Fe.$$.fragment),dt=A(),vt=d("hr"),Xt=A(),Nt=d("div"),Wt=d("div"),el=U(fl),yl=A(),xt=d("div"),tl=d("div"),cl=d("div"),bl=U(Tl),ta=A(),Al=d("div"),ll=d("input"),la=A(),rl&&rl.c(),Hl=A(),nl&&nl.c(),ql=A(),El=d("div"),Rl=d("div"),Yl=U(Ol),aa=A(),Qe(Bl.$$.fragment),ds=A(),Pa=d("hr"),hs=A(),Pl=d("div"),sa=d("div"),La=U(ka),_s=A(),$l=d("div"),Zl=d("div"),ra=d("div"),Na=U(wa),vs=A(),na=d("div"),dl=d("input"),ps=A(),jl=d("div"),ia=d("div"),Ca=U(Ia),gs=A(),oa=d("div"),hl=d("input"),ms=A(),ua=d("div"),Gl=d("div"),fa=d("div"),Ha=U(ya),bs=A(),Kl=d("button"),Ba=U(Ta),Es=A(),$a=d("hr"),ks=A(),Jl=d("div"),Ll=d("button"),Ql=d("div"),Ql.innerHTML=Ps,ws=A(),ca=d("div"),Za=U(Aa),Is=A(),Nl=d("button"),Xl=d("div"),Xl.innerHTML=Ls,ys=A(),da=d("div"),ja=U(Da),Ts=A(),ha=d("div"),xl=d("button"),Ga=U(Sa),this.h()},l(be){Xe(e.$$.fragment,be),l=D(be),Xe(s.$$.fragment,be),i=D(be),c=h(be,"FORM",{class:!0});var je=_(c);f=h(je,"DIV",{class:!0});var Ot=_(f);v=h(Ot,"DIV",{class:!0});var _l=_(v);g=h(_l,"DIV",{class:!0});var _a=_(g);b=C(_a,p),_a.forEach(u),m=D(_l),I=h(_l,"DIV",{class:!0});var Fl=_(I);k=h(Fl,"DIV",{class:!0});var va=_(k);E=C(va,w),va.forEach(u),y=D(Fl),T=h(Fl,"BUTTON",{class:!0,type:!0});var za=_(T);S=h(za,"DIV",{class:!0});var Bs=_(S);$=C(Bs,P),Bs.forEach(u),M=D(za),ol&&ol.l(za),za.forEach(u),Fl.forEach(u),W=D(_l),G=h(_l,"DIV",{class:!0});var Wa=_(G);q=h(Wa,"DIV",{class:!0});var $s=_(q);H=C($s,L),$s.forEach(u),B=D(Wa),O=h(Wa,"DIV",{class:!0});var Zs=_(O);N=h(Zs,"SELECT",{class:!0,placeholder:!0});var qa=_(N);j=h(qa,"OPTION",{});var js=_(j);Q=C(js,Y),js.forEach(u),J=h(qa,"OPTION",{});var Gs=_(J);x=C(Gs,K),Gs.forEach(u),le=h(qa,"OPTION",{});var Ks=_(le);ee=C(Ks,oe),Ks.forEach(u),qa.forEach(u),Zs.forEach(u),Wa.forEach(u),_e=D(_l),qt&&qt.l(_l),ue=D(_l),Te=h(_l,"DIV",{class:!0});var Ya=_(Te);ce=h(Ya,"DIV",{class:!0});var Fs=_(ce);De=C(Fs,Me),Fs.forEach(u),He=D(Ya),ke=h(Ya,"BUTTON",{class:!0,type:!0});var zs=_(ke);Dl.l(zs),zs.forEach(u),Ya.forEach(u),_l.forEach(u),Ge=D(Ot),me=h(Ot,"HR",{class:!0}),Ae=D(Ot),Ce=h(Ot,"DIV",{class:!0}),_(Ce).forEach(u),we=D(Ot),Le=h(Ot,"DIV",{});var zl=_(Le);ze=h(zl,"DIV",{class:!0});var Ws=_(ze);Ye=C(Ws,Re),Ws.forEach(u),at=D(zl),Sl.l(zl),ve=D(zl),Se=h(zl,"DIV",{class:!0});var qs=_(Se);fe=C(qs,pe),qs.forEach(u),Ie=D(zl),al&&al.l(zl),zl.forEach(u),ne=D(Ot),Ve=h(Ot,"HR",{class:!0}),Be=D(Ot),Oe=h(Ot,"DIV",{class:!0});var pa=_(Oe);X=h(pa,"DIV",{class:!0});var Ys=_(X);Pe=C(Ys,se),Ys.forEach(u),Ke=D(pa),We=h(pa,"DIV",{class:!0});var Ja=_(We);nt=h(Ja,"DIV",{class:!0});var Js=_(nt);Je=C(Js,qe),Js.forEach(u),tt=D(Ja),ct=h(Ja,"DIV",{class:!0});var Qs=_(ct);ot=h(Qs,"SELECT",{class:!0});var Ds=_(ot);ge=h(Ds,"OPTION",{});var Ss=_(ge);lt=C(Ss,ft),st=D(Ss),Ss.forEach(u),de=h(Ds,"OPTION",{});var Xs=_(de);z=C(Xs,te),Xs.forEach(u),Ds.forEach(u),Qs.forEach(u),Ja.forEach(u),he=D(pa),sl&&sl.l(pa),pa.forEach(u),Ne=D(Ot),ye=h(Ot,"HR",{class:!0}),Ee=D(Ot),ut=h(Ot,"DIV",{class:!0});var Qa=_(ut);_t=h(Qa,"DIV",{class:!0});var xs=_(_t);Rt=C(xs,yt),xs.forEach(u),jt=D(Qa),Pt=h(Qa,"DIV",{class:!0});var Xa=_(Pt);$e=h(Xa,"DIV",{class:!0});var xa=_($e);Ze=h(xa,"DIV",{class:!0});var er=_(Ze);Mt=C(er,Vt),er.forEach(u),mt=D(xa),bt=h(xa,"DIV",{class:!0});var tr=_(bt);Xe(gt.$$.fragment,tr),tr.forEach(u),xa.forEach(u),kt=D(Xa),it=h(Xa,"DIV",{class:!0});var es=_(it);Ht=h(es,"DIV",{class:!0});var lr=_(Ht);Kt=C(lr,Ft),lr.forEach(u),Lt=D(es),Tt=h(es,"DIV",{class:!0});var ar=_(Tt);Xe(Fe.$$.fragment,ar),ar.forEach(u),es.forEach(u),Xa.forEach(u),Qa.forEach(u),dt=D(Ot),vt=h(Ot,"HR",{class:!0}),Xt=D(Ot),Nt=h(Ot,"DIV",{class:!0});var Wl=_(Nt);Wt=h(Wl,"DIV",{class:!0});var sr=_(Wt);el=C(sr,fl),sr.forEach(u),yl=D(Wl),xt=h(Wl,"DIV",{class:!0});var ts=_(xt);tl=h(ts,"DIV",{class:!0});var ls=_(tl);cl=h(ls,"DIV",{class:!0});var rr=_(cl);bl=C(rr,Tl),rr.forEach(u),ta=D(ls),Al=h(ls,"DIV",{class:!0});var nr=_(Al);ll=h(nr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),nr.forEach(u),ls.forEach(u),la=D(ts),rl&&rl.l(ts),ts.forEach(u),Hl=D(Wl),nl&&nl.l(Wl),ql=D(Wl),El=h(Wl,"DIV",{});var as=_(El);Rl=h(as,"DIV",{class:!0});var ir=_(Rl);Yl=C(ir,Ol),ir.forEach(u),aa=D(as),Xe(Bl.$$.fragment,as),as.forEach(u),Wl.forEach(u),ds=D(Ot),Pa=h(Ot,"HR",{class:!0}),hs=D(Ot),Pl=h(Ot,"DIV",{class:!0});var ga=_(Pl);sa=h(ga,"DIV",{class:!0});var or=_(sa);La=C(or,ka),or.forEach(u),_s=D(ga),$l=h(ga,"DIV",{class:!0});var ss=_($l);Zl=h(ss,"DIV",{class:!0});var rs=_(Zl);ra=h(rs,"DIV",{class:!0});var ur=_(ra);Na=C(ur,wa),ur.forEach(u),vs=D(rs),na=h(rs,"DIV",{class:!0});var fr=_(na);dl=h(fr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),fr.forEach(u),rs.forEach(u),ps=D(ss),jl=h(ss,"DIV",{class:!0});var ns=_(jl);ia=h(ns,"DIV",{class:!0});var cr=_(ia);Ca=C(cr,Ia),cr.forEach(u),gs=D(ns),oa=h(ns,"DIV",{class:!0});var dr=_(oa);hl=h(dr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),dr.forEach(u),ns.forEach(u),ss.forEach(u),ms=D(ga),ua=h(ga,"DIV",{class:!0});var hr=_(ua);Gl=h(hr,"DIV",{class:!0});var is=_(Gl);fa=h(is,"DIV",{class:!0});var _r=_(fa);Ha=C(_r,ya),_r.forEach(u),bs=D(is),Kl=h(is,"BUTTON",{class:!0,type:!0});var vr=_(Kl);Ba=C(vr,Ta),vr.forEach(u),is.forEach(u),hr.forEach(u),ga.forEach(u),Es=D(Ot),$a=h(Ot,"HR",{class:!0}),ks=D(Ot),Jl=h(Ot,"DIV",{});var os=_(Jl);Ll=h(os,"BUTTON",{class:!0,type:!0});var us=_(Ll);Ql=h(us,"DIV",{class:!0,"data-svelte-h":!0}),ht(Ql)!=="svelte-1m6igha"&&(Ql.innerHTML=Ps),ws=D(us),ca=h(us,"DIV",{class:!0});var pr=_(ca);Za=C(pr,Aa),pr.forEach(u),us.forEach(u),Is=D(os),Nl=h(os,"BUTTON",{class:!0,type:!0});var fs=_(Nl);Xl=h(fs,"DIV",{class:!0,"data-svelte-h":!0}),ht(Xl)!=="svelte-16tyzd9"&&(Xl.innerHTML=Ls),ys=D(fs),da=h(fs,"DIV",{class:!0});var gr=_(da);ja=C(gr,Da),gr.forEach(u),fs.forEach(u),os.forEach(u),Ot.forEach(u),Ts=D(je),ha=h(je,"DIV",{class:!0});var mr=_(ha);xl=h(mr,"BUTTON",{class:!0,type:!0});var br=_(xl);Ga=C(br,Sa),br.forEach(u),mr.forEach(u),je.forEach(u),this.h()},h(){n(g,"class","mb-0.5 text-sm font-medium"),n(k,"class","self-center text-xs font-medium"),n(S,"class","self-center font-medium"),n(T,"class",Z="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(a[0]?" cursor-not-allowed":"")),n(T,"type","button"),T.disabled=a[0],n(I,"class","flex w-full justify-between"),n(q,"class","self-center text-xs font-medium"),j.__value="",F(j,j.__value),J.__value="ollama",F(J,J.__value),le.__value="openai",F(le,le.__value),n(N,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(N,"placeholder","Select an embedding model engine"),a[5]===void 0&&Jt(()=>a[33].call(N)),n(O,"class","flex items-center relative"),n(G,"class","flex w-full justify-between"),n(ce,"class","self-center text-xs font-medium"),n(ke,"class","p-1 px-3 text-xs flex rounded transition"),n(ke,"type","button"),n(Te,"class","flex w-full justify-between"),n(v,"class","flex flex-col gap-0.5"),n(me,"class","dark:border-gray-850"),n(Ce,"class","space-y-2"),n(ze,"class","mb-2 text-sm font-medium"),n(Se,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(Ve,"class","dark:border-gray-850"),n(X,"class","text-sm font-medium"),n(nt,"class","self-center text-xs font-medium"),ge.__value="",F(ge,ge.__value),de.__value="tika",F(de,de.__value),n(ot,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),a[10]===void 0&&Jt(()=>a[45].call(ot)),n(ct,"class","flex items-center relative"),n(We,"class","flex w-full justify-between mt-2"),n(Oe,"class",""),n(ye,"class","dark:border-gray-850"),n(_t,"class","text-sm font-medium"),n(Ze,"class","self-center text-xs font-medium min-w-fit mb-1"),n(bt,"class","self-center"),n($e,"class","w-full"),n(Ht,"class","self-center text-xs font-medium min-w-fit mb-1"),n(Tt,"class","self-center"),n(it,"class","w-full"),n(Pt,"class","my-2 flex gap-1.5"),n(ut,"class",""),n(vt,"class","dark:border-gray-850"),n(Wt,"class","text-sm font-medium"),n(cl,"class","self-center text-xs font-medium min-w-fit"),n(ll,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ll,"type","number"),n(ll,"placeholder",Cl=a[20].t("Enter Top K")),n(ll,"autocomplete","off"),n(ll,"min","0"),n(Al,"class","self-center p-3"),n(tl,"class","flex w-full justify-between"),n(xt,"class","flex gap-1"),n(Rl,"class","mb-2.5 text-sm font-medium"),n(Nt,"class",""),n(Pa,"class","dark:border-gray-850"),n(sa,"class","text-sm font-medium"),n(ra,"class","self-center text-xs font-medium min-w-fit mb-1"),n(dl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(dl,"type","number"),n(dl,"placeholder",Ua=a[20].t("Enter Chunk Size")),n(dl,"autocomplete","off"),n(dl,"min","0"),n(na,"class","self-center"),n(Zl,"class","w-full justify-between"),n(ia,"class","self-center text-xs font-medium min-w-fit mb-1"),n(hl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(hl,"type","number"),n(hl,"placeholder",Ra=a[20].t("Enter Chunk Overlap")),n(hl,"autocomplete","off"),n(hl,"min","0"),n(oa,"class","self-center"),n(jl,"class","w-full"),n($l,"class","my-2 flex gap-1.5"),n(fa,"class","text-xs font-medium"),n(Kl,"class","text-xs font-medium text-gray-500"),n(Kl,"type","button"),n(Gl,"class","flex justify-between items-center text-xs"),n(ua,"class","my-3"),n(Pl,"class",""),n($a,"class","dark:border-gray-850"),n(Ql,"class","self-center mr-3"),n(ca,"class","self-center text-sm font-medium"),n(Ll,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Ll,"type","button"),n(Xl,"class","self-center mr-3"),n(da,"class","self-center text-sm font-medium"),n(Nl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Nl,"type","button"),n(f,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(xl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(xl,"type","submit"),n(ha,"class","flex justify-end pt-3 text-sm font-medium"),n(c,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(be,je){xe(e,be,je),V(be,l,je),xe(s,be,je),V(be,i,je),V(be,c,je),r(c,f),r(f,v),r(v,g),r(g,b),r(v,m),r(v,I),r(I,k),r(k,E),r(I,y),r(I,T),r(T,S),r(S,$),r(T,M),ol&&ol.m(T,null),r(v,W),r(v,G),r(G,q),r(q,H),r(G,B),r(G,O),r(O,N),r(N,j),r(j,Q),r(N,J),r(J,x),r(N,le),r(le,ee),Et(N,a[5],!0),r(v,_e),qt&&qt.m(v,null),r(v,ue),r(v,Te),r(Te,ce),r(ce,De),r(Te,He),r(Te,ke),Dl.m(ke,null),r(f,Ge),r(f,me),r(f,Ae),r(f,Ce),r(f,we),r(f,Le),r(Le,ze),r(ze,Ye),r(Le,at),Sl.m(Le,null),r(Le,ve),r(Le,Se),r(Se,fe),r(Le,Ie),al&&al.m(Le,null),r(f,ne),r(f,Ve),r(f,Be),r(f,Oe),r(Oe,X),r(X,Pe),r(Oe,Ke),r(Oe,We),r(We,nt),r(nt,Je),r(We,tt),r(We,ct),r(ct,ot),r(ot,ge),r(ge,lt),r(ge,st),r(ot,de),r(de,z),Et(ot,a[10],!0),r(Oe,he),sl&&sl.m(Oe,null),r(f,Ne),r(f,ye),r(f,Ee),r(f,ut),r(ut,_t),r(_t,Rt),r(ut,jt),r(ut,Pt),r(Pt,$e),r($e,Ze),r(Ze,Mt),r($e,mt),r($e,bt),xe(gt,bt,null),r(Pt,kt),r(Pt,it),r(it,Ht),r(Ht,Kt),r(it,Lt),r(it,Tt),xe(Fe,Tt,null),r(f,dt),r(f,vt),r(f,Xt),r(f,Nt),r(Nt,Wt),r(Wt,el),r(Nt,yl),r(Nt,xt),r(xt,tl),r(tl,cl),r(cl,bl),r(tl,ta),r(tl,Al),r(Al,ll),F(ll,a[19].k),r(xt,la),rl&&rl.m(xt,null),r(Nt,Hl),nl&&nl.m(Nt,null),r(Nt,ql),r(Nt,El),r(El,Rl),r(Rl,Yl),r(El,aa),xe(Bl,El,null),r(f,ds),r(f,Pa),r(f,hs),r(f,Pl),r(Pl,sa),r(sa,La),r(Pl,_s),r(Pl,$l),r($l,Zl),r(Zl,ra),r(ra,Na),r(Zl,vs),r(Zl,na),r(na,dl),F(dl,a[13]),r($l,ps),r($l,jl),r(jl,ia),r(ia,Ca),r(jl,gs),r(jl,oa),r(oa,hl),F(hl,a[14]),r(Pl,ms),r(Pl,ua),r(ua,Gl),r(Gl,fa),r(fa,Ha),r(Gl,bs),r(Gl,Kl),r(Kl,Ba),r(f,Es),r(f,$a),r(f,ks),r(f,Jl),r(Jl,Ll),r(Ll,Ql),r(Ll,ws),r(Ll,ca),r(ca,Za),r(Jl,Is),r(Jl,Nl),r(Nl,Xl),r(Nl,ys),r(Nl,da),r(da,ja),r(c,Ts),r(c,ha),r(ha,xl),r(xl,Ga),At=!0,As||(Ns=[re(T,"click",a[32]),re(N,"change",a[33]),re(N,"change",a[34]),re(ke,"click",a[39]),re(ot,"change",a[45]),re(ot,"change",a[46]),re(ll,"input",a[50]),re(dl,"input",a[53]),re(hl,"input",a[54]),re(Kl,"click",a[55]),re(Ll,"click",a[56]),re(Nl,"click",a[57]),re(c,"submit",Ml(a[58]))],As=!0)},p(be,je){const Ot={};!t&&je[0]&16&&(t=!0,Ot.show=be[4],Bt(()=>t=!1)),e.$set(Ot);const _l={};!o&&je[0]&8&&(o=!0,_l.show=be[3],Bt(()=>o=!1)),s.$set(_l),(!At||je[0]&1048576)&&p!==(p=be[20].t("General Settings")+"")&&R(b,p),(!At||je[0]&1048576)&&w!==(w=be[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&R(E,w),(!At||je[0]&1048576)&&P!==(P=be[20].t("Scan")+"")&&R($,P),be[0]?ol||(ol=ci(),ol.c(),ol.m(T,null)):ol&&(ol.d(1),ol=null),(!At||je[0]&1&&Z!==(Z="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(be[0]?" cursor-not-allowed":"")))&&n(T,"class",Z),(!At||je[0]&1)&&(T.disabled=be[0]),(!At||je[0]&1048576)&&L!==(L=be[20].t("Embedding Model Engine")+"")&&R(H,L),(!At||je[0]&1048576)&&Y!==(Y=be[20].t("Default (SentenceTransformers)")+"")&&R(Q,Y),(!At||je[0]&1048576)&&K!==(K=be[20].t("Ollama")+"")&&R(x,K),(!At||je[0]&1048576)&&oe!==(oe=be[20].t("OpenAI")+"")&&R(ee,oe),je[0]&32&&Et(N,be[5]),be[5]==="openai"?qt?(qt.p(be,je),je[0]&32&&ae(qt,1)):(qt=di(be),qt.c(),ae(qt,1),qt.m(v,ue)):qt&&(Dt(),ie(qt,1,1,()=>{qt=null}),St()),(!At||je[0]&1048576)&&Me!==(Me=be[20].t("Hybrid Search")+"")&&R(De,Me),Ka===(Ka=Rs(be))&&Dl?Dl.p(be,je):(Dl.d(1),Dl=Ka(be),Dl&&(Dl.c(),Dl.m(ke,null))),(!At||je[0]&1048576)&&Re!==(Re=be[20].t("Embedding Model")+"")&&R(Ye,Re),Fa===(Fa=Hs(be))&&Sl?Sl.p(be,je):(Sl.d(1),Sl=Fa(be),Sl&&(Sl.c(),Sl.m(Le,ve))),(!At||je[0]&1048576)&&pe!==(pe=be[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&R(fe,pe),be[19].hybrid===!0?al?al.p(be,je):(al=pi(be),al.c(),al.m(Le,null)):al&&(al.d(1),al=null),(!At||je[0]&1048576)&&se!==(se=be[20].t("Content Extraction")+"")&&R(Pe,se),(!At||je[0]&1048576)&&qe!==(qe=be[20].t("Engine")+"")&&R(Je,qe),(!At||je[0]&1048576)&&ft!==(ft=be[20].t("Default")+"")&&R(lt,ft),(!At||je[0]&1048576)&&te!==(te=be[20].t("Tika")+"")&&R(z,te),je[0]&1024&&Et(ot,be[10]),be[12]?sl?sl.p(be,je):(sl=gi(be),sl.c(),sl.m(Oe,null)):sl&&(sl.d(1),sl=null),(!At||je[0]&1048576)&&yt!==(yt=be[20].t("Files")+"")&&R(Rt,yt),(!At||je[0]&1048576)&&Vt!==(Vt=be[20].t("Max Upload Size")+"")&&R(Mt,Vt);const _a={};je[0]&1048576&&(_a.content=be[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),je[0]&1048832|je[2]&8&&(_a.$$scope={dirty:je,ctx:be}),gt.$set(_a),(!At||je[0]&1048576)&&Ft!==(Ft=be[20].t("Max Upload Count")+"")&&R(Kt,Ft);const Fl={};je[0]&1048576&&(Fl.content=be[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),je[0]&1049088|je[2]&8&&(Fl.$$scope={dirty:je,ctx:be}),Fe.$set(Fl),(!At||je[0]&1048576)&&fl!==(fl=be[20].t("Query Params")+"")&&R(el,fl),(!At||je[0]&1048576)&&Tl!==(Tl=be[20].t("Top K")+"")&&R(bl,Tl),(!At||je[0]&1048576&&Cl!==(Cl=be[20].t("Enter Top K")))&&n(ll,"placeholder",Cl),je[0]&524288&&ul(ll.value)!==be[19].k&&F(ll,be[19].k),be[19].hybrid===!0?rl?rl.p(be,je):(rl=mi(be),rl.c(),rl.m(xt,null)):rl&&(rl.d(1),rl=null),be[19].hybrid===!0?nl?nl.p(be,je):(nl=bi(be),nl.c(),nl.m(Nt,ql)):nl&&(nl.d(1),nl=null),(!At||je[0]&1048576)&&Ol!==(Ol=be[20].t("RAG Template")+"")&&R(Yl,Ol);const va={};je[0]&1048576&&(va.content=be[20].t("Leave empty to use the default prompt, or enter a custom prompt")),je[0]&1572864|je[2]&8&&(va.$$scope={dirty:je,ctx:be}),Bl.$set(va),(!At||je[0]&1048576)&&ka!==(ka=be[20].t("Chunk Params")+"")&&R(La,ka),(!At||je[0]&1048576)&&wa!==(wa=be[20].t("Chunk Size")+"")&&R(Na,wa),(!At||je[0]&1048576&&Ua!==(Ua=be[20].t("Enter Chunk Size")))&&n(dl,"placeholder",Ua),je[0]&8192&&ul(dl.value)!==be[13]&&F(dl,be[13]),(!At||je[0]&1048576)&&Ia!==(Ia=be[20].t("Chunk Overlap")+"")&&R(Ca,Ia),(!At||je[0]&1048576&&Ra!==(Ra=be[20].t("Enter Chunk Overlap")))&&n(hl,"placeholder",Ra),je[0]&16384&&ul(hl.value)!==be[14]&&F(hl,be[14]),(!At||je[0]&1048576)&&ya!==(ya=be[20].t("PDF Extract Images (OCR)")+"")&&R(Ha,ya),(!At||je[0]&1081344)&&Ta!==(Ta=(be[15]?be[20].t("On"):be[20].t("Off"))+"")&&R(Ba,Ta),(!At||je[0]&1048576)&&Aa!==(Aa=be[20].t("Reset Upload Directory")+"")&&R(Za,Aa),(!At||je[0]&1048576)&&Da!==(Da=be[20].t("Reset Vector Storage")+"")&&R(ja,Da),(!At||je[0]&1048576)&&Sa!==(Sa=be[20].t("Save")+"")&&R(Ga,Sa)},i(be){At||(ae(e.$$.fragment,be),ae(s.$$.fragment,be),ae(qt),ae(gt.$$.fragment,be),ae(Fe.$$.fragment,be),ae(Bl.$$.fragment,be),At=!0)},o(be){ie(e.$$.fragment,be),ie(s.$$.fragment,be),ie(qt),ie(gt.$$.fragment,be),ie(Fe.$$.fragment,be),ie(Bl.$$.fragment,be),At=!1},d(be){be&&(u(l),u(i),u(c)),et(e,be),et(s,be),ol&&ol.d(),qt&&qt.d(),Dl.d(),Sl.d(),al&&al.d(),sl&&sl.d(),et(gt),et(Fe),rl&&rl.d(),nl&&nl.d(),et(Bl),As=!1,Zt(Ns)}}}const Ei=a=>a.id&&a.ollama&&!((a==null?void 0:a.preset)??!1);function qf(a,e,t){let l,s;zt(a,il,ne=>t(21,s=ne));const o=Oa(),i=wl("i18n");zt(a,i,ne=>t(20,l=ne));let c=!1,f=!1,v=!1,g=!1,p=!1,b="",m="",I="",k=null,w=null,E="default",y="",T=!1,S=0,P=0,$=!0,M="",Z="",W=1,G={template:"",r:0,k:4,hybrid:!1};const q=async()=>{t(0,c=!0);const ne=await Ao(localStorage.token);t(0,c=!1),ne&&(await Ci.set(await yo(localStorage.token)),Ue.success(l.t("Scan complete!")))},L=async()=>{if(b===""&&m.split("/").length-1>1){Ue.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="ollama"&&m===""){Ue.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&m===""){Ue.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&M===""||Z===""){Ue.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",m),t(1,f=!0);const ne=await Po(localStorage.token,{embedding_engine:b,embedding_model:m,...b==="openai"?{openai_config:{key:M,url:Z,batch_size:W}}:{}}).catch(async Ve=>(Ue.error(Ve),await O(),null));t(1,f=!1),ne&&(console.log("embeddingModelUpdateHandler:",ne),ne.status===!0&&Ue.success(l.t('Embedding model set to "{{embedding_model}}"',ne),{duration:1e3*10}))},H=async()=>{console.log("Update reranking model attempt:",I),t(2,v=!0);const ne=await Do(localStorage.token,{reranking_model:I}).catch(async Ve=>(Ue.error(Ve),await N(),null));t(2,v=!1),ne&&(console.log("rerankingModelUpdateHandler:",ne),ne.status===!0&&(I===""?Ue.success(l.t("Reranking model disabled",ne),{duration:1e3*10}):Ue.success(l.t('Reranking model set to "{{reranking_model}}"',ne),{duration:1e3*10})))},B=async()=>{if(await L(),G.hybrid&&await H(),E==="tika"&&y===""){Ue.error(l.t("Tika Server URL required."));return}await Vi(localStorage.token,{pdf_extract_images:$,file:{max_size:k===""?null:k,max_count:w===""?null:w},chunk:{chunk_overlap:P,chunk_size:S},content_extraction:{engine:E,tika_server_url:y}}),await Mr(localStorage.token,G),o("save")},O=async()=>{const ne=await So(localStorage.token);ne&&(t(5,b=ne.embedding_engine),t(6,m=ne.embedding_model),t(16,M=ne.openai_config.key),t(17,Z=ne.openai_config.url),t(18,W=ne.openai_config.batch_size??1))},N=async()=>{const ne=await Vo(localStorage.token);ne&&t(7,I=ne.reranking_model)},j=async()=>{t(19,G.hybrid=!G.hybrid,G),t(19,G=await Mr(localStorage.token,G))};Il(async()=>{await O(),await N(),t(19,G=await To(localStorage.token));const ne=await Si(localStorage.token);ne&&(t(15,$=ne.pdf_extract_images),t(13,S=ne.chunk.chunk_size),t(14,P=ne.chunk.chunk_overlap),t(10,E=ne.content_extraction.engine),t(11,y=ne.content_extraction.tika_server_url),t(12,T=E==="tika"),t(8,k=(ne==null?void 0:ne.file.max_size)??""),t(9,w=(ne==null?void 0:ne.file.max_count)??""))});function Y(ne){p=ne,t(4,p)}const Q=async()=>{await Mo(localStorage.token).catch(Ve=>(Ue.error(Ve),null))&&Ue.success(l.t("Success"))};function J(ne){g=ne,t(3,g)}const K=()=>{Oo(localStorage.token).catch(Ve=>(Ue.error(Ve),null))&&Ue.success(l.t("Success"))},x=()=>{q(),console.log("check")};function le(){b=Yt(this),t(5,b)}const oe=ne=>{ne.target.value==="ollama"?t(6,m=""):ne.target.value==="openai"?t(6,m="text-embedding-3-small"):ne.target.value===""&&t(6,m="sentence-transformers/all-MiniLM-L6-v2")};function ee(){Z=this.value,t(17,Z)}function _e(ne){M=ne,t(16,M)}function ue(){W=ul(this.value),t(18,W)}function Te(){W=ul(this.value),t(18,W)}const ce=()=>{j()};function Me(){m=Yt(this),t(6,m)}function De(){m=this.value,t(6,m)}const He=()=>{L()};function ke(){I=this.value,t(7,I)}const Ge=()=>{H()};function me(){E=Yt(this),t(10,E)}const Ae=ne=>{t(12,T=ne.target.value==="tika")};function Ce(){y=this.value,t(11,y)}function we(){k=ul(this.value),t(8,k)}function Le(){w=ul(this.value),t(9,w)}function ze(){G.k=ul(this.value),t(19,G)}function Re(){G.r=ul(this.value),t(19,G)}function Ye(){G.template=this.value,t(19,G)}function at(){S=ul(this.value),t(13,S)}function ve(){P=ul(this.value),t(14,P)}return[c,f,v,g,p,b,m,I,k,w,E,y,T,S,P,$,M,Z,W,G,l,s,i,q,L,H,B,j,Y,Q,J,K,x,le,oe,ee,_e,ue,Te,ce,Me,De,He,ke,Ge,me,Ae,Ce,we,Le,ze,Re,Ye,at,ve,()=>{t(15,$=!$)},()=>{t(4,p=!0)},()=>{t(3,g=!0)},()=>{B()}]}class Yf extends pl{constructor(e){super(),gl(this,e,qf,Wf,vl,{},null,[-1,-1,-1])}}function ki(a,e,t){const l=a.slice();return l[25]=e[t],l}function wi(a){let e,t,l=a[3].t("Web Search")+"",s,o,i,c,f,v=a[3].t("Enable Web Search")+"",g,p,b,m,I,k,w,E=a[3].t("Web Search Engine")+"",y,T,S,P,$,M=a[3].t("Select a engine")+"",Z,W,G,q,L,H,B,O,N,j=a[3].t("Web Loader Settings")+"",Y,Q,J,K,x,le=a[3].t("Bypass SSL verification for Websites")+"",oe,ee,_e,ue,Te,ce=a[3].t("Youtube Loader Settings")+"",Me,De,He,ke,Ge,me=a[3].t("Language")+"",Ae,Ce,we,Le,ze,Re,Ye,at;function ve(X){a[7](X)}let Se={};a[1].search.enabled!==void 0&&(Se.state=a[1].search.enabled),b=new kl({props:Se}),Ut.push(()=>$t(b,"state",ve));let pe=rt(a[5]),fe=[];for(let X=0;X<pe.length;X+=1)fe[X]=Ii(ki(a,pe,X));let Ie=a[1].search.engine!==""&&yi(a),ne=a[1].search.enabled&&Ti(a);function Ve(X,se){return X[1].ssl_verification===!0?rc:sc}let Be=Ve(a),Oe=Be(a);return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("div"),g=U(v),p=A(),Qe(b.$$.fragment),I=A(),k=d("div"),w=d("div"),y=U(E),T=A(),S=d("div"),P=d("select"),$=d("option"),Z=U(M);for(let X=0;X<fe.length;X+=1)fe[X].c();G=A(),Ie&&Ie.c(),q=A(),ne&&ne.c(),L=A(),H=d("hr"),B=A(),O=d("div"),N=d("div"),Y=U(j),Q=A(),J=d("div"),K=d("div"),x=d("div"),oe=U(le),ee=A(),_e=d("button"),Oe.c(),ue=A(),Te=d("div"),Me=U(ce),De=A(),He=d("div"),ke=d("div"),Ge=d("div"),Ae=U(me),Ce=A(),we=d("div"),Le=d("input"),this.h()},l(X){e=h(X,"DIV",{});var se=_(e);t=h(se,"DIV",{class:!0});var Pe=_(t);s=C(Pe,l),Pe.forEach(u),o=D(se),i=h(se,"DIV",{});var Ke=_(i);c=h(Ke,"DIV",{class:!0});var We=_(c);f=h(We,"DIV",{class:!0});var nt=_(f);g=C(nt,v),nt.forEach(u),p=D(We),Xe(b.$$.fragment,We),We.forEach(u),Ke.forEach(u),I=D(se),k=h(se,"DIV",{class:!0});var qe=_(k);w=h(qe,"DIV",{class:!0});var Je=_(w);y=C(Je,E),Je.forEach(u),T=D(qe),S=h(qe,"DIV",{class:!0});var tt=_(S);P=h(tt,"SELECT",{class:!0,placeholder:!0});var ct=_(P);$=h(ct,"OPTION",{});var ot=_($);Z=C(ot,M),ot.forEach(u);for(let ut=0;ut<fe.length;ut+=1)fe[ut].l(ct);ct.forEach(u),tt.forEach(u),qe.forEach(u),G=D(se),Ie&&Ie.l(se),q=D(se),ne&&ne.l(se),se.forEach(u),L=D(X),H=h(X,"HR",{class:!0}),B=D(X),O=h(X,"DIV",{});var ge=_(O);N=h(ge,"DIV",{class:!0});var ft=_(N);Y=C(ft,j),ft.forEach(u),Q=D(ge),J=h(ge,"DIV",{});var lt=_(J);K=h(lt,"DIV",{class:!0});var st=_(K);x=h(st,"DIV",{class:!0});var de=_(x);oe=C(de,le),de.forEach(u),ee=D(st),_e=h(st,"BUTTON",{class:!0,type:!0});var te=_(_e);Oe.l(te),te.forEach(u),st.forEach(u),lt.forEach(u),ue=D(ge),Te=h(ge,"DIV",{class:!0});var z=_(Te);Me=C(z,ce),z.forEach(u),De=D(ge),He=h(ge,"DIV",{});var he=_(He);ke=h(he,"DIV",{class:!0});var Ne=_(ke);Ge=h(Ne,"DIV",{class:!0});var ye=_(Ge);Ae=C(ye,me),ye.forEach(u),Ce=D(Ne),we=h(Ne,"DIV",{class:!0});var Ee=_(we);Le=h(Ee,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ee.forEach(u),Ne.forEach(u),he.forEach(u),ge.forEach(u),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(c,"class","py-0.5 flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),$.disabled=!0,$.selected=!0,$.__value="",F($,$.__value),n(P,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(P,"placeholder",W=a[3].t("Select a engine")),P.required=!0,a[1].search.engine===void 0&&Jt(()=>a[8].call(P)),n(S,"class","flex items-center relative"),n(k,"class","py-0.5 flex w-full justify-between"),n(H,"class","dark:border-gray-850 my-2"),n(N,"class","mb-1 text-sm font-medium"),n(x,"class","self-center text-xs font-medium"),n(_e,"class","p-1 px-3 text-xs flex rounded transition"),n(_e,"type","button"),n(K,"class","py-0.5 flex w-full justify-between"),n(Te,"class","mt-2 mb-1 text-sm font-medium"),n(Ge,"class","w-20 text-xs font-medium self-center"),n(Le,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Le,"type","text"),n(Le,"placeholder",ze=a[3].t("Enter language codes")),n(Le,"autocomplete","off"),n(we,"class","flex-1 self-center"),n(ke,"class","py-0.5 flex w-full justify-between")},m(X,se){V(X,e,se),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),r(f,g),r(c,p),xe(b,c,null),r(e,I),r(e,k),r(k,w),r(w,y),r(k,T),r(k,S),r(S,P),r(P,$),r($,Z);for(let Pe=0;Pe<fe.length;Pe+=1)fe[Pe]&&fe[Pe].m(P,null);Et(P,a[1].search.engine,!0),r(e,G),Ie&&Ie.m(e,null),r(e,q),ne&&ne.m(e,null),V(X,L,se),V(X,H,se),V(X,B,se),V(X,O,se),r(O,N),r(N,Y),r(O,Q),r(O,J),r(J,K),r(K,x),r(x,oe),r(K,ee),r(K,_e),Oe.m(_e,null),r(O,ue),r(O,Te),r(Te,Me),r(O,De),r(O,He),r(He,ke),r(ke,Ge),r(Ge,Ae),r(ke,Ce),r(ke,we),r(we,Le),F(Le,a[2]),Re=!0,Ye||(at=[re(P,"change",a[8]),re(_e,"click",a[21]),re(Le,"input",a[22])],Ye=!0)},p(X,se){(!Re||se&8)&&l!==(l=X[3].t("Web Search")+"")&&R(s,l),(!Re||se&8)&&v!==(v=X[3].t("Enable Web Search")+"")&&R(g,v);const Pe={};if(!m&&se&2&&(m=!0,Pe.state=X[1].search.enabled,Bt(()=>m=!1)),b.$set(Pe),(!Re||se&8)&&E!==(E=X[3].t("Web Search Engine")+"")&&R(y,E),(!Re||se&8)&&M!==(M=X[3].t("Select a engine")+"")&&R(Z,M),se&32){pe=rt(X[5]);let Ke;for(Ke=0;Ke<pe.length;Ke+=1){const We=ki(X,pe,Ke);fe[Ke]?fe[Ke].p(We,se):(fe[Ke]=Ii(We),fe[Ke].c(),fe[Ke].m(P,null))}for(;Ke<fe.length;Ke+=1)fe[Ke].d(1);fe.length=pe.length}(!Re||se&8&&W!==(W=X[3].t("Select a engine")))&&n(P,"placeholder",W),se&34&&Et(P,X[1].search.engine),X[1].search.engine!==""?Ie?(Ie.p(X,se),se&2&&ae(Ie,1)):(Ie=yi(X),Ie.c(),ae(Ie,1),Ie.m(e,q)):Ie&&(Dt(),ie(Ie,1,1,()=>{Ie=null}),St()),X[1].search.enabled?ne?ne.p(X,se):(ne=Ti(X),ne.c(),ne.m(e,null)):ne&&(ne.d(1),ne=null),(!Re||se&8)&&j!==(j=X[3].t("Web Loader Settings")+"")&&R(Y,j),(!Re||se&8)&&le!==(le=X[3].t("Bypass SSL verification for Websites")+"")&&R(oe,le),Be===(Be=Ve(X))&&Oe?Oe.p(X,se):(Oe.d(1),Oe=Be(X),Oe&&(Oe.c(),Oe.m(_e,null))),(!Re||se&8)&&ce!==(ce=X[3].t("Youtube Loader Settings")+"")&&R(Me,ce),(!Re||se&8)&&me!==(me=X[3].t("Language")+"")&&R(Ae,me),(!Re||se&8&&ze!==(ze=X[3].t("Enter language codes")))&&n(Le,"placeholder",ze),se&4&&Le.value!==X[2]&&F(Le,X[2])},i(X){Re||(ae(b.$$.fragment,X),ae(Ie),Re=!0)},o(X){ie(b.$$.fragment,X),ie(Ie),Re=!1},d(X){X&&(u(e),u(L),u(H),u(B),u(O)),et(b),Ct(fe,X),Ie&&Ie.d(),ne&&ne.d(),Oe.d(),Ye=!1,Zt(at)}}}function Ii(a){let e,t=a[25]+"",l;return{c(){e=d("option"),l=U(t),this.h()},l(s){e=h(s,"OPTION",{});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){e.__value=a[25],F(e,e.__value)},m(s,o){V(s,e,o),r(e,l)},p:pt,d(s){s&&u(e)}}}function yi(a){let e,t,l,s;const o=[ac,lc,tc,ec,xf,Xf,Qf,Jf],i=[];function c(f,v){return f[1].search.engine==="searxng"?0:f[1].search.engine==="google_pse"?1:f[1].search.engine==="brave"?2:f[1].search.engine==="serpstack"?3:f[1].search.engine==="serper"?4:f[1].search.engine==="serply"?5:f[1].search.engine==="searchapi"?6:f[1].search.engine==="tavily"?7:-1}return~(t=c(a))&&(l=i[t]=o[t](a)),{c(){e=d("div"),l&&l.c(),this.h()},l(f){e=h(f,"DIV",{class:!0});var v=_(e);l&&l.l(v),v.forEach(u),this.h()},h(){n(e,"class","mt-1.5")},m(f,v){V(f,e,v),~t&&i[t].m(e,null),s=!0},p(f,v){let g=t;t=c(f),t===g?~t&&i[t].p(f,v):(l&&(Dt(),ie(i[g],1,1,()=>{i[g]=null}),St()),~t?(l=i[t],l?l.p(f,v):(l=i[t]=o[t](f),l.c()),ae(l,1),l.m(e,null)):l=null)},i(f){s||(ae(l),s=!0)},o(f){ie(l),s=!1},d(f){f&&u(e),~t&&i[t].d()}}}function Jf(a){let e,t,l=a[3].t("Tavily API Key")+"",s,o,i,c,f;function v(p){a[18](p)}let g={placeholder:a[3].t("Enter Tavily API Key")};return a[1].search.tavily_api_key!==void 0&&(g.value=a[1].search.tavily_api_key),i=new ml({props:g}),Ut.push(()=>$t(i,"value",v)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);s=C(m,l),m.forEach(u),o=D(b),Xe(i.$$.fragment,b),b.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,b){V(p,e,b),r(e,t),r(t,s),r(e,o),xe(i,e,null),f=!0},p(p,b){(!f||b&8)&&l!==(l=p[3].t("Tavily API Key")+"")&&R(s,l);const m={};b&8&&(m.placeholder=p[3].t("Enter Tavily API Key")),!c&&b&2&&(c=!0,m.value=p[1].search.tavily_api_key,Bt(()=>c=!1)),i.$set(m)},i(p){f||(ae(i.$$.fragment,p),f=!0)},o(p){ie(i.$$.fragment,p),f=!1},d(p){p&&u(e),et(i)}}}function Qf(a){let e,t,l=a[3].t("SearchApi API Key")+"",s,o,i,c,f,v,g,p=a[3].t("SearchApi Engine")+"",b,m,I,k,w,E,y,T,S;function P(M){a[16](M)}let $={placeholder:a[3].t("Enter SearchApi API Key")};return a[1].search.searchapi_api_key!==void 0&&($.value=a[1].search.searchapi_api_key),i=new ml({props:$}),Ut.push(()=>$t(i,"value",P)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),f=A(),v=d("div"),g=d("div"),b=U(p),m=A(),I=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var Z=_(e);t=h(Z,"DIV",{class:!0});var W=_(t);s=C(W,l),W.forEach(u),o=D(Z),Xe(i.$$.fragment,Z),Z.forEach(u),f=D(M),v=h(M,"DIV",{class:!0});var G=_(v);g=h(G,"DIV",{class:!0});var q=_(g);b=C(q,p),q.forEach(u),m=D(G),I=h(G,"DIV",{class:!0});var L=_(I);k=h(L,"DIV",{class:!0});var H=_(k);w=h(H,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),H.forEach(u),L.forEach(u),G.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(g,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=a[3].t("Enter SearchApi Engine")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(I,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,Z){V(M,e,Z),r(e,t),r(t,s),r(e,o),xe(i,e,null),V(M,f,Z),V(M,v,Z),r(v,g),r(g,b),r(v,m),r(v,I),r(I,k),r(k,w),F(w,a[1].search.searchapi_engine),y=!0,T||(S=re(w,"input",a[17]),T=!0)},p(M,Z){(!y||Z&8)&&l!==(l=M[3].t("SearchApi API Key")+"")&&R(s,l);const W={};Z&8&&(W.placeholder=M[3].t("Enter SearchApi API Key")),!c&&Z&2&&(c=!0,W.value=M[1].search.searchapi_api_key,Bt(()=>c=!1)),i.$set(W),(!y||Z&8)&&p!==(p=M[3].t("SearchApi Engine")+"")&&R(b,p),(!y||Z&8&&E!==(E=M[3].t("Enter SearchApi Engine")))&&n(w,"placeholder",E),Z&34&&w.value!==M[1].search.searchapi_engine&&F(w,M[1].search.searchapi_engine)},i(M){y||(ae(i.$$.fragment,M),y=!0)},o(M){ie(i.$$.fragment,M),y=!1},d(M){M&&(u(e),u(f),u(v)),et(i),T=!1,S()}}}function Xf(a){let e,t,l=a[3].t("Serply API Key")+"",s,o,i,c,f;function v(p){a[15](p)}let g={placeholder:a[3].t("Enter Serply API Key")};return a[1].search.serply_api_key!==void 0&&(g.value=a[1].search.serply_api_key),i=new ml({props:g}),Ut.push(()=>$t(i,"value",v)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);s=C(m,l),m.forEach(u),o=D(b),Xe(i.$$.fragment,b),b.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,b){V(p,e,b),r(e,t),r(t,s),r(e,o),xe(i,e,null),f=!0},p(p,b){(!f||b&8)&&l!==(l=p[3].t("Serply API Key")+"")&&R(s,l);const m={};b&8&&(m.placeholder=p[3].t("Enter Serply API Key")),!c&&b&2&&(c=!0,m.value=p[1].search.serply_api_key,Bt(()=>c=!1)),i.$set(m)},i(p){f||(ae(i.$$.fragment,p),f=!0)},o(p){ie(i.$$.fragment,p),f=!1},d(p){p&&u(e),et(i)}}}function xf(a){let e,t,l=a[3].t("Serper API Key")+"",s,o,i,c,f;function v(p){a[14](p)}let g={placeholder:a[3].t("Enter Serper API Key")};return a[1].search.serper_api_key!==void 0&&(g.value=a[1].search.serper_api_key),i=new ml({props:g}),Ut.push(()=>$t(i,"value",v)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);s=C(m,l),m.forEach(u),o=D(b),Xe(i.$$.fragment,b),b.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,b){V(p,e,b),r(e,t),r(t,s),r(e,o),xe(i,e,null),f=!0},p(p,b){(!f||b&8)&&l!==(l=p[3].t("Serper API Key")+"")&&R(s,l);const m={};b&8&&(m.placeholder=p[3].t("Enter Serper API Key")),!c&&b&2&&(c=!0,m.value=p[1].search.serper_api_key,Bt(()=>c=!1)),i.$set(m)},i(p){f||(ae(i.$$.fragment,p),f=!0)},o(p){ie(i.$$.fragment,p),f=!1},d(p){p&&u(e),et(i)}}}function ec(a){let e,t,l=a[3].t("Serpstack API Key")+"",s,o,i,c,f;function v(p){a[13](p)}let g={placeholder:a[3].t("Enter Serpstack API Key")};return a[1].search.serpstack_api_key!==void 0&&(g.value=a[1].search.serpstack_api_key),i=new ml({props:g}),Ut.push(()=>$t(i,"value",v)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);s=C(m,l),m.forEach(u),o=D(b),Xe(i.$$.fragment,b),b.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,b){V(p,e,b),r(e,t),r(t,s),r(e,o),xe(i,e,null),f=!0},p(p,b){(!f||b&8)&&l!==(l=p[3].t("Serpstack API Key")+"")&&R(s,l);const m={};b&8&&(m.placeholder=p[3].t("Enter Serpstack API Key")),!c&&b&2&&(c=!0,m.value=p[1].search.serpstack_api_key,Bt(()=>c=!1)),i.$set(m)},i(p){f||(ae(i.$$.fragment,p),f=!0)},o(p){ie(i.$$.fragment,p),f=!1},d(p){p&&u(e),et(i)}}}function tc(a){let e,t,l=a[3].t("Brave Search API Key")+"",s,o,i,c,f;function v(p){a[12](p)}let g={placeholder:a[3].t("Enter Brave Search API Key")};return a[1].search.brave_search_api_key!==void 0&&(g.value=a[1].search.brave_search_api_key),i=new ml({props:g}),Ut.push(()=>$t(i,"value",v)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var b=_(e);t=h(b,"DIV",{class:!0});var m=_(t);s=C(m,l),m.forEach(u),o=D(b),Xe(i.$$.fragment,b),b.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,b){V(p,e,b),r(e,t),r(t,s),r(e,o),xe(i,e,null),f=!0},p(p,b){(!f||b&8)&&l!==(l=p[3].t("Brave Search API Key")+"")&&R(s,l);const m={};b&8&&(m.placeholder=p[3].t("Enter Brave Search API Key")),!c&&b&2&&(c=!0,m.value=p[1].search.brave_search_api_key,Bt(()=>c=!1)),i.$set(m)},i(p){f||(ae(i.$$.fragment,p),f=!0)},o(p){ie(i.$$.fragment,p),f=!1},d(p){p&&u(e),et(i)}}}function lc(a){let e,t,l=a[3].t("Google PSE API Key")+"",s,o,i,c,f,v,g,p=a[3].t("Google PSE Engine Id")+"",b,m,I,k,w,E,y,T,S;function P(M){a[10](M)}let $={placeholder:a[3].t("Enter Google PSE API Key")};return a[1].search.google_pse_api_key!==void 0&&($.value=a[1].search.google_pse_api_key),i=new ml({props:$}),Ut.push(()=>$t(i,"value",P)),{c(){e=d("div"),t=d("div"),s=U(l),o=A(),Qe(i.$$.fragment),f=A(),v=d("div"),g=d("div"),b=U(p),m=A(),I=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var Z=_(e);t=h(Z,"DIV",{class:!0});var W=_(t);s=C(W,l),W.forEach(u),o=D(Z),Xe(i.$$.fragment,Z),Z.forEach(u),f=D(M),v=h(M,"DIV",{class:!0});var G=_(v);g=h(G,"DIV",{class:!0});var q=_(g);b=C(q,p),q.forEach(u),m=D(G),I=h(G,"DIV",{class:!0});var L=_(I);k=h(L,"DIV",{class:!0});var H=_(k);w=h(H,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),H.forEach(u),L.forEach(u),G.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(g,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=a[3].t("Enter Google PSE Engine Id")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(I,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,Z){V(M,e,Z),r(e,t),r(t,s),r(e,o),xe(i,e,null),V(M,f,Z),V(M,v,Z),r(v,g),r(g,b),r(v,m),r(v,I),r(I,k),r(k,w),F(w,a[1].search.google_pse_engine_id),y=!0,T||(S=re(w,"input",a[11]),T=!0)},p(M,Z){(!y||Z&8)&&l!==(l=M[3].t("Google PSE API Key")+"")&&R(s,l);const W={};Z&8&&(W.placeholder=M[3].t("Enter Google PSE API Key")),!c&&Z&2&&(c=!0,W.value=M[1].search.google_pse_api_key,Bt(()=>c=!1)),i.$set(W),(!y||Z&8)&&p!==(p=M[3].t("Google PSE Engine Id")+"")&&R(b,p),(!y||Z&8&&E!==(E=M[3].t("Enter Google PSE Engine Id")))&&n(w,"placeholder",E),Z&34&&w.value!==M[1].search.google_pse_engine_id&&F(w,M[1].search.google_pse_engine_id)},i(M){y||(ae(i.$$.fragment,M),y=!0)},o(M){ie(i.$$.fragment,M),y=!1},d(M){M&&(u(e),u(f),u(v)),et(i),T=!1,S()}}}function ac(a){let e,t,l=a[3].t("Searxng Query URL")+"",s,o,i,c,f,v,g,p;return{c(){e=d("div"),t=d("div"),s=U(l),o=A(),i=d("div"),c=d("div"),f=d("input"),this.h()},l(b){e=h(b,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);s=C(I,l),I.forEach(u),o=D(m),i=h(m,"DIV",{class:!0});var k=_(i);c=h(k,"DIV",{class:!0});var w=_(c);f=h(w,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),w.forEach(u),k.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"type","text"),n(f,"placeholder",v=a[3].t("Enter Searxng Query URL")),n(f,"autocomplete","off"),n(c,"class","flex-1"),n(i,"class","flex w-full")},m(b,m){V(b,e,m),r(e,t),r(t,s),r(e,o),r(e,i),r(i,c),r(c,f),F(f,a[1].search.searxng_query_url),g||(p=re(f,"input",a[9]),g=!0)},p(b,m){m&8&&l!==(l=b[3].t("Searxng Query URL")+"")&&R(s,l),m&8&&v!==(v=b[3].t("Enter Searxng Query URL"))&&n(f,"placeholder",v),m&34&&f.value!==b[1].search.searxng_query_url&&F(f,b[1].search.searxng_query_url)},i:pt,o:pt,d(b){b&&u(e),g=!1,p()}}}function Ti(a){let e,t,l,s=a[3].t("Search Result Count")+"",o,i,c,f,v,g,p,b=a[3].t("Concurrent Requests")+"",m,I,k,w,E,y;return{c(){e=d("div"),t=d("div"),l=d("div"),o=U(s),i=A(),c=d("input"),v=A(),g=d("div"),p=d("div"),m=U(b),I=A(),k=d("input"),this.h()},l(T){e=h(T,"DIV",{class:!0});var S=_(e);t=h(S,"DIV",{class:!0});var P=_(t);l=h(P,"DIV",{class:!0});var $=_(l);o=C($,s),$.forEach(u),i=D(P),c=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(u),v=D(S),g=h(S,"DIV",{class:!0});var M=_(g);p=h(M,"DIV",{class:!0});var Z=_(p);m=C(Z,b),Z.forEach(u),I=D(M),k=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),S.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium mb-1"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",f=a[3].t("Search Result Count")),c.required=!0,n(t,"class","w-full"),n(p,"class","self-center text-xs font-medium mb-1"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=a[3].t("Concurrent Requests")),k.required=!0,n(g,"class","w-full"),n(e,"class","mt-2 flex gap-2 mb-1")},m(T,S){V(T,e,S),r(e,t),r(t,l),r(l,o),r(t,i),r(t,c),F(c,a[1].search.result_count),r(e,v),r(e,g),r(g,p),r(p,m),r(g,I),r(g,k),F(k,a[1].search.concurrent_requests),E||(y=[re(c,"input",a[19]),re(k,"input",a[20])],E=!0)},p(T,S){S&8&&s!==(s=T[3].t("Search Result Count")+"")&&R(o,s),S&8&&f!==(f=T[3].t("Search Result Count"))&&n(c,"placeholder",f),S&34&&c.value!==T[1].search.result_count&&F(c,T[1].search.result_count),S&8&&b!==(b=T[3].t("Concurrent Requests")+"")&&R(m,b),S&8&&w!==(w=T[3].t("Concurrent Requests"))&&n(k,"placeholder",w),S&34&&k.value!==T[1].search.concurrent_requests&&F(k,T[1].search.concurrent_requests)},d(T){T&&u(e),E=!1,Zt(y)}}}function sc(a){let e,t=a[3].t("Off")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o&8&&t!==(t=s[3].t("Off")+"")&&R(l,t)},d(s){s&&u(e)}}}function rc(a){let e,t=a[3].t("On")+"",l;return{c(){e=d("span"),l=U(t),this.h()},l(s){e=h(s,"SPAN",{class:!0});var o=_(e);l=C(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(s,o){V(s,e,o),r(e,l)},p(s,o){o&8&&t!==(t=s[3].t("On")+"")&&R(l,t)},d(s){s&&u(e)}}}function nc(a){let e,t,l,s,o,i=a[3].t("Save")+"",c,f,v,g,p=a[1]&&wi(a);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=A(),s=d("div"),o=d("button"),c=U(i),this.h()},l(b){e=h(b,"FORM",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var I=_(t);p&&p.l(I),I.forEach(u),l=D(m),s=h(m,"DIV",{class:!0});var k=_(s);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);c=C(w,i),w.forEach(u),k.forEach(u),m.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(s,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(b,m){V(b,e,m),r(e,t),p&&p.m(t,null),r(e,l),r(e,s),r(s,o),r(o,c),f=!0,v||(g=re(e,"submit",Ml(a[23])),v=!0)},p(b,[m]){b[1]?p?(p.p(b,m),m&2&&ae(p,1)):(p=wi(b),p.c(),ae(p,1),p.m(t,null)):p&&(Dt(),ie(p,1,1,()=>{p=null}),St()),(!f||m&8)&&i!==(i=b[3].t("Save")+"")&&R(c,i)},i(b){f||(ae(p),f=!0)},o(b){ie(p),f=!1},d(b){b&&u(e),p&&p.d(),v=!1,g()}}}function ic(a,e,t){let l;const s=wl("i18n");zt(a,s,L=>t(3,l=L));let{saveHandler:o}=e,i=null,c=["searxng","google_pse","brave","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina"],f="en",v=null;const g=async()=>{await Vi(localStorage.token,{web:i,youtube:{language:f.split(",").map(L=>L.trim()),translation:v}})};Il(async()=>{const L=await Si(localStorage.token);L&&(t(1,i=L.web),t(2,f=L.youtube.language.join(",")),v=L.youtube.translation)});function p(L){a.$$.not_equal(i.search.enabled,L)&&(i.search.enabled=L,t(1,i))}function b(){i.search.engine=Yt(this),t(1,i),t(5,c)}function m(){i.search.searxng_query_url=this.value,t(1,i),t(5,c)}function I(L){a.$$.not_equal(i.search.google_pse_api_key,L)&&(i.search.google_pse_api_key=L,t(1,i))}function k(){i.search.google_pse_engine_id=this.value,t(1,i),t(5,c)}function w(L){a.$$.not_equal(i.search.brave_search_api_key,L)&&(i.search.brave_search_api_key=L,t(1,i))}function E(L){a.$$.not_equal(i.search.serpstack_api_key,L)&&(i.search.serpstack_api_key=L,t(1,i))}function y(L){a.$$.not_equal(i.search.serper_api_key,L)&&(i.search.serper_api_key=L,t(1,i))}function T(L){a.$$.not_equal(i.search.serply_api_key,L)&&(i.search.serply_api_key=L,t(1,i))}function S(L){a.$$.not_equal(i.search.searchapi_api_key,L)&&(i.search.searchapi_api_key=L,t(1,i))}function P(){i.search.searchapi_engine=this.value,t(1,i),t(5,c)}function $(L){a.$$.not_equal(i.search.tavily_api_key,L)&&(i.search.tavily_api_key=L,t(1,i))}function M(){i.search.result_count=this.value,t(1,i),t(5,c)}function Z(){i.search.concurrent_requests=this.value,t(1,i),t(5,c)}const W=()=>{t(1,i.ssl_verification=!i.ssl_verification,i),g()};function G(){f=this.value,t(2,f)}const q=async()=>{await g(),o()};return a.$$set=L=>{"saveHandler"in L&&t(0,o=L.saveHandler)},[o,i,f,l,s,c,g,p,b,m,I,k,w,E,y,T,S,P,$,M,Z,W,G,q]}class oc extends pl{constructor(e){super(),gl(this,e,ic,nc,vl,{saveHandler:0})}}function uc(a){let e,t;return e=new ku({props:{saveHandler:a[23]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[23]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function fc(a){let e,t;return e=new Uo({props:{saveHandler:a[22]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[22]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function cc(a){let e,t;return e=new Fu({}),e.$on("save",a[21]),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function dc(a){let e,t;return e=new Ou({props:{saveHandler:a[20]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[20]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function hc(a){let e,t;return e=new Xu({}),e.$on("save",a[19]),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function _c(a){let e,t;return e=new oc({props:{saveHandler:a[18]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[18]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function vc(a){let e,t;return e=new Yf({}),e.$on("save",a[17]),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function pc(a){let e,t;return e=new If({}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function gc(a){let e,t;return e=new Uf({}),e.$on("save",a[16]),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function mc(a){let e,t;return e=new Yo({props:{saveHandler:a[15]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[15]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function bc(a){let e,t;return e=new Ho({props:{saveHandler:a[14]}}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p(l,s){const o={};s&2&&(o.saveHandler=l[14]),e.$set(o)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ec(a){let e,t,l,s,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',i,c,f=a[1].t("General")+"",v,g,p,b,m,I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',k,w,E=a[1].t("Users")+"",y,T,S,P,$,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',Z,W,G=a[1].t("Connections")+"",q,L,H,B,O,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',j,Y,Q=a[1].t("Models")+"",J,K,x,le,oe,ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',_e,ue,Te=a[1].t("Documents")+"",ce,Me,De,He,ke,Ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',me,Ae,Ce=a[1].t("Web Search")+"",we,Le,ze,Re,Ye,at='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',ve,Se,pe=a[1].t("Interface")+"",fe,Ie,ne,Ve,Be,Oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',X,se,Pe=a[1].t("Audio")+"",Ke,We,nt,qe,Je,tt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',ct,ot,ge=a[1].t("Images")+"",ft,lt,st,de,te,z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',he,Ne,ye=a[1].t("Pipelines")+"",Ee,ut,_t,yt,Rt,jt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Pt,$e,Ze=a[1].t("Database")+"",Vt,Mt,mt,bt,gt,kt,it,Ht,Ft;const Kt=[bc,mc,gc,pc,vc,_c,hc,dc,cc,fc,uc],Lt=[];function Tt(Fe,dt){return Fe[0]==="general"?0:Fe[0]==="users"?1:Fe[0]==="connections"?2:Fe[0]==="models"?3:Fe[0]==="documents"?4:Fe[0]==="web"?5:Fe[0]==="interface"?6:Fe[0]==="audio"?7:Fe[0]==="images"?8:Fe[0]==="db"?9:Fe[0]==="pipelines"?10:-1}return~(gt=Tt(a))&&(kt=Lt[gt]=Kt[gt](a)),{c(){e=d("div"),t=d("div"),l=d("button"),s=d("div"),s.innerHTML=o,i=A(),c=d("div"),v=U(f),p=A(),b=d("button"),m=d("div"),m.innerHTML=I,k=A(),w=d("div"),y=U(E),S=A(),P=d("button"),$=d("div"),$.innerHTML=M,Z=A(),W=d("div"),q=U(G),H=A(),B=d("button"),O=d("div"),O.innerHTML=N,j=A(),Y=d("div"),J=U(Q),x=A(),le=d("button"),oe=d("div"),oe.innerHTML=ee,_e=A(),ue=d("div"),ce=U(Te),De=A(),He=d("button"),ke=d("div"),ke.innerHTML=Ge,me=A(),Ae=d("div"),we=U(Ce),ze=A(),Re=d("button"),Ye=d("div"),Ye.innerHTML=at,ve=A(),Se=d("div"),fe=U(pe),ne=A(),Ve=d("button"),Be=d("div"),Be.innerHTML=Oe,X=A(),se=d("div"),Ke=U(Pe),nt=A(),qe=d("button"),Je=d("div"),Je.innerHTML=tt,ct=A(),ot=d("div"),ft=U(ge),st=A(),de=d("button"),te=d("div"),te.innerHTML=z,he=A(),Ne=d("div"),Ee=U(ye),_t=A(),yt=d("button"),Rt=d("div"),Rt.innerHTML=jt,Pt=A(),$e=d("div"),Vt=U(Ze),mt=A(),bt=d("div"),kt&&kt.c(),this.h()},l(Fe){e=h(Fe,"DIV",{class:!0});var dt=_(e);t=h(dt,"DIV",{id:!0,class:!0});var vt=_(t);l=h(vt,"BUTTON",{class:!0});var Xt=_(l);s=h(Xt,"DIV",{class:!0,"data-svelte-h":!0}),ht(s)!=="svelte-1e9u9pw"&&(s.innerHTML=o),i=D(Xt),c=h(Xt,"DIV",{class:!0});var Nt=_(c);v=C(Nt,f),Nt.forEach(u),Xt.forEach(u),p=D(vt),b=h(vt,"BUTTON",{class:!0});var Wt=_(b);m=h(Wt,"DIV",{class:!0,"data-svelte-h":!0}),ht(m)!=="svelte-28mfsy"&&(m.innerHTML=I),k=D(Wt),w=h(Wt,"DIV",{class:!0});var fl=_(w);y=C(fl,E),fl.forEach(u),Wt.forEach(u),S=D(vt),P=h(vt,"BUTTON",{class:!0});var el=_(P);$=h(el,"DIV",{class:!0,"data-svelte-h":!0}),ht($)!=="svelte-1xixjje"&&($.innerHTML=M),Z=D(el),W=h(el,"DIV",{class:!0});var yl=_(W);q=C(yl,G),yl.forEach(u),el.forEach(u),H=D(vt),B=h(vt,"BUTTON",{class:!0});var xt=_(B);O=h(xt,"DIV",{class:!0,"data-svelte-h":!0}),ht(O)!=="svelte-17kkxfv"&&(O.innerHTML=N),j=D(xt),Y=h(xt,"DIV",{class:!0});var tl=_(Y);J=C(tl,Q),tl.forEach(u),xt.forEach(u),x=D(vt),le=h(vt,"BUTTON",{class:!0});var cl=_(le);oe=h(cl,"DIV",{class:!0,"data-svelte-h":!0}),ht(oe)!=="svelte-ofbvgh"&&(oe.innerHTML=ee),_e=D(cl),ue=h(cl,"DIV",{class:!0});var Tl=_(ue);ce=C(Tl,Te),Tl.forEach(u),cl.forEach(u),De=D(vt),He=h(vt,"BUTTON",{class:!0});var bl=_(He);ke=h(bl,"DIV",{class:!0,"data-svelte-h":!0}),ht(ke)!=="svelte-1t9ru36"&&(ke.innerHTML=Ge),me=D(bl),Ae=h(bl,"DIV",{class:!0});var ta=_(Ae);we=C(ta,Ce),ta.forEach(u),bl.forEach(u),ze=D(vt),Re=h(vt,"BUTTON",{class:!0});var Al=_(Re);Ye=h(Al,"DIV",{class:!0,"data-svelte-h":!0}),ht(Ye)!=="svelte-1i52rm6"&&(Ye.innerHTML=at),ve=D(Al),Se=h(Al,"DIV",{class:!0});var ll=_(Se);fe=C(ll,pe),ll.forEach(u),Al.forEach(u),ne=D(vt),Ve=h(vt,"BUTTON",{class:!0});var Cl=_(Ve);Be=h(Cl,"DIV",{class:!0,"data-svelte-h":!0}),ht(Be)!=="svelte-sf0iba"&&(Be.innerHTML=Oe),X=D(Cl),se=h(Cl,"DIV",{class:!0});var la=_(se);Ke=C(la,Pe),la.forEach(u),Cl.forEach(u),nt=D(vt),qe=h(vt,"BUTTON",{class:!0});var Hl=_(qe);Je=h(Hl,"DIV",{class:!0,"data-svelte-h":!0}),ht(Je)!=="svelte-1gc3odz"&&(Je.innerHTML=tt),ct=D(Hl),ot=h(Hl,"DIV",{class:!0});var ql=_(ot);ft=C(ql,ge),ql.forEach(u),Hl.forEach(u),st=D(vt),de=h(vt,"BUTTON",{class:!0});var El=_(de);te=h(El,"DIV",{class:!0,"data-svelte-h":!0}),ht(te)!=="svelte-1q46caf"&&(te.innerHTML=z),he=D(El),Ne=h(El,"DIV",{class:!0});var Rl=_(Ne);Ee=C(Rl,ye),Rl.forEach(u),El.forEach(u),_t=D(vt),yt=h(vt,"BUTTON",{class:!0});var Ol=_(yt);Rt=h(Ol,"DIV",{class:!0,"data-svelte-h":!0}),ht(Rt)!=="svelte-35c53k"&&(Rt.innerHTML=jt),Pt=D(Ol),$e=h(Ol,"DIV",{class:!0});var Yl=_($e);Vt=C(Yl,Ze),Yl.forEach(u),Ol.forEach(u),vt.forEach(u),mt=D(dt),bt=h(dt,"DIV",{class:!0});var aa=_(bt);kt&&kt.l(aa),aa.forEach(u),dt.forEach(u),this.h()},h(){n(s,"class","self-center mr-2"),n(c,"class","self-center"),n(l,"class",g="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(a[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(m,"class","self-center mr-2"),n(w,"class","self-center"),n(b,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n($,"class","self-center mr-2"),n(W,"class","self-center"),n(P,"class",L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(O,"class","self-center mr-2"),n(Y,"class","self-center"),n(B,"class",K="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(oe,"class","self-center mr-2"),n(ue,"class","self-center"),n(le,"class",Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ke,"class","self-center mr-2"),n(Ae,"class","self-center"),n(He,"class",Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Ye,"class","self-center mr-2"),n(Se,"class","self-center"),n(Re,"class",Ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Be,"class","self-center mr-2"),n(se,"class","self-center"),n(Ve,"class",We="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Je,"class","self-center mr-2"),n(ot,"class","self-center"),n(qe,"class",lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(te,"class","self-center mr-2"),n(Ne,"class","self-center"),n(de,"class",ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Rt,"class","self-center mr-2"),n($e,"class","self-center"),n(yt,"class",Mt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(a[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(t,"id","admin-settings-tabs-container"),n(t,"class","tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none"),n(bt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll"),n(e,"class","flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4")},m(Fe,dt){V(Fe,e,dt),r(e,t),r(t,l),r(l,s),r(l,i),r(l,c),r(c,v),r(t,p),r(t,b),r(b,m),r(b,k),r(b,w),r(w,y),r(t,S),r(t,P),r(P,$),r(P,Z),r(P,W),r(W,q),r(t,H),r(t,B),r(B,O),r(B,j),r(B,Y),r(Y,J),r(t,x),r(t,le),r(le,oe),r(le,_e),r(le,ue),r(ue,ce),r(t,De),r(t,He),r(He,ke),r(He,me),r(He,Ae),r(Ae,we),r(t,ze),r(t,Re),r(Re,Ye),r(Re,ve),r(Re,Se),r(Se,fe),r(t,ne),r(t,Ve),r(Ve,Be),r(Ve,X),r(Ve,se),r(se,Ke),r(t,nt),r(t,qe),r(qe,Je),r(qe,ct),r(qe,ot),r(ot,ft),r(t,st),r(t,de),r(de,te),r(de,he),r(de,Ne),r(Ne,Ee),r(t,_t),r(t,yt),r(yt,Rt),r(yt,Pt),r(yt,$e),r($e,Vt),r(e,mt),r(e,bt),~gt&&Lt[gt].m(bt,null),it=!0,Ht||(Ft=[re(l,"click",a[3]),re(b,"click",a[4]),re(P,"click",a[5]),re(B,"click",a[6]),re(le,"click",a[7]),re(He,"click",a[8]),re(Re,"click",a[9]),re(Ve,"click",a[10]),re(qe,"click",a[11]),re(de,"click",a[12]),re(yt,"click",a[13])],Ht=!0)},p(Fe,[dt]){(!it||dt&2)&&f!==(f=Fe[1].t("General")+"")&&R(v,f),(!it||dt&1&&g!==(g="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Fe[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(l,"class",g),(!it||dt&2)&&E!==(E=Fe[1].t("Users")+"")&&R(y,E),(!it||dt&1&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(b,"class",T),(!it||dt&2)&&G!==(G=Fe[1].t("Connections")+"")&&R(q,G),(!it||dt&1&&L!==(L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(P,"class",L),(!it||dt&2)&&Q!==(Q=Fe[1].t("Models")+"")&&R(J,Q),(!it||dt&1&&K!==(K="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(B,"class",K),(!it||dt&2)&&Te!==(Te=Fe[1].t("Documents")+"")&&R(ce,Te),(!it||dt&1&&Me!==(Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(le,"class",Me),(!it||dt&2)&&Ce!==(Ce=Fe[1].t("Web Search")+"")&&R(we,Ce),(!it||dt&1&&Le!==(Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(He,"class",Le),(!it||dt&2)&&pe!==(pe=Fe[1].t("Interface")+"")&&R(fe,pe),(!it||dt&1&&Ie!==(Ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Re,"class",Ie),(!it||dt&2)&&Pe!==(Pe=Fe[1].t("Audio")+"")&&R(Ke,Pe),(!it||dt&1&&We!==(We="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Ve,"class",We),(!it||dt&2)&&ge!==(ge=Fe[1].t("Images")+"")&&R(ft,ge),(!it||dt&1&&lt!==(lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(qe,"class",lt),(!it||dt&2)&&ye!==(ye=Fe[1].t("Pipelines")+"")&&R(Ee,ye),(!it||dt&1&&ut!==(ut="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(de,"class",ut),(!it||dt&2)&&Ze!==(Ze=Fe[1].t("Database")+"")&&R(Vt,Ze),(!it||dt&1&&Mt!==(Mt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Fe[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(yt,"class",Mt);let vt=gt;gt=Tt(Fe),gt===vt?~gt&&Lt[gt].p(Fe,dt):(kt&&(Dt(),ie(Lt[vt],1,1,()=>{Lt[vt]=null}),St()),~gt?(kt=Lt[gt],kt?kt.p(Fe,dt):(kt=Lt[gt]=Kt[gt](Fe),kt.c()),ae(kt,1),kt.m(bt,null)):kt=null)},i(Fe){it||(ae(kt),it=!0)},o(Fe){ie(kt),it=!1},d(Fe){Fe&&u(e),~gt&&Lt[gt].d(),Ht=!1,Zt(Ft)}}}function kc(a,e,t){let l;const s=wl("i18n");zt(a,s,q=>t(1,l=q));let o="general";return Il(()=>{const q=document.getElementById("admin-settings-tabs-container");q&&q.addEventListener("wheel",function(L){L.deltaY!==0&&(q.scrollLeft+=L.deltaY)})}),[o,l,s,()=>{t(0,o="general")},()=>{t(0,o="users")},()=>{t(0,o="connections")},()=>{t(0,o="models")},()=>{t(0,o="documents")},()=>{t(0,o="web")},()=>{t(0,o="interface")},()=>{t(0,o="audio")},()=>{t(0,o="images")},()=>{t(0,o="pipelines")},()=>{t(0,o="db")},async()=>{Ue.success(l.t("Settings saved successfully!")),await Ma(),await Ul.set(await ea())},()=>{Ue.success(l.t("Settings saved successfully!"))},()=>{Ue.success(l.t("Settings saved successfully!"))},async()=>{Ue.success(l.t("Settings saved successfully!")),await Ma(),await Ul.set(await ea())},async()=>{Ue.success(l.t("Settings saved successfully!")),await Ma(),await Ul.set(await ea())},()=>{Ue.success(l.t("Settings saved successfully!"))},()=>{Ue.success(l.t("Settings saved successfully!"))},()=>{Ue.success(l.t("Settings saved successfully!"))},()=>{Ue.success(l.t("Settings saved successfully!"))},()=>{Ue.success(l.t("Settings saved successfully!"))}]}class wc extends pl{constructor(e){super(),gl(this,e,kc,Ec,vl,{})}}function Ic(a){let e,t;return e=new wc({}),{c(){Qe(e.$$.fragment)},l(l){Xe(e.$$.fragment,l)},m(l,s){xe(e,l,s),t=!0},p:pt,i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){ie(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}class zc extends pl{constructor(e){super(),gl(this,e,null,Ic,vl,{})}}export{zc as component};
//# sourceMappingURL=8.Ln02oe17.js.map
