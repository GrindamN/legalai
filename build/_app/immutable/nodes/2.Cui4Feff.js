import{s as ct,e as d,t as x,k as S,c as h,a as v,b as O,d as u,o as M,f as c,i as z,g as n,u as Q,D as zl,h as U,n as Ue,F as ht,p as gt,j as Ae,C as je,y as ot,z as it,A as He,L as Ds,q as ul,B as mt,H as Ml,I as Wt,J as Ht,G as fl,E as yt,K as Pl,N as Ts,r as dn,v as hn,w as vn,x as mn,l as $l,X as Mn,ag as Hl,Z as pt}from"../chunks/scheduler.DB3Sqaa-.js";import{S as ut,i as ft,b as me,d as _e,m as pe,t as J,g as bt,a as se,c as wt,e as ge,f as Et,h as An}from"../chunks/index.CidI1d1E.js";import{t as Je}from"../chunks/Toaster.svelte_svelte_type_style_lang.C-7zrEBl.js";import{f as Ys}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as Al}from"../chunks/entry.BP9dpEnN.js";import{p as _n,g as pn,q as Ln}from"../chunks/index.CDXepxJu.js";import{v as Bn,w as Nn,x as xn,h as cl,y as On,z as tr,A as Hn,B as Os,C as gn,p as bn,D as Un,c as Pn,b as $n,f as jn,u as zn,e as Vl,E as Rn,i as Wn,d as wn,F as Zn}from"../chunks/index.BN08w03N.js";import{g as Fn}from"../chunks/index.DWxRL4dR.js";import{g as Yn}from"../chunks/index.DKiNIYsa.js";import{g as qn}from"../chunks/index.CWofzlzH.js";import{S as kn,g as Kn}from"../chunks/SensitiveInput.BxvmmM_b.js";import{u as jl,B as Gn,W as yn,c as dl,C as Es,j as bl,D as Xn,d as Cs,m as qs,v as Zt,w as Ot,y as Cl,h as Is,k as zs,E as Jn,x as Sl,s as il,F as Hs,l as En,i as Rs,g as Qn,r as Us,p as eo,n as to,t as lo,f as so,z as ao}from"../chunks/index.BUlp4Rdg.js";import{M as Rl}from"../chunks/Modal.DcRcsIox.js";import{e as ro,f as no,h as oo,i as io,j as co}from"../chunks/index.DCXY5bPz.js";import{g as uo}from"../chunks/index.vqieqdjN.js";import{g as ql,j as fo,i as lr,c as Ws,d as ho,k as vo,l as mo}from"../chunks/index.B8xbqn25.js";import{T as Ft}from"../chunks/create.DJSy4-Dz.js";import{g as _o}from"../chunks/index.CZIN57c3.js";import{e as nt}from"../chunks/each.cN4tVpvB.js";import{g as po}from"../chunks/index.waoW1381.js";import{A as go}from"../chunks/AdvancedParams.DH6VGWxz.js";import{b as bo}from"../chunks/index.BpzFDba5.js";import{S as In}from"../chunks/Switch.C2EOWhLk.js";import{d as Vs}from"../chunks/dayjs.min.CnqrW7zs.js";import{a as wo,u as ko,g as ys,d as yo,b as Eo,T as Io,A as Dn,S as Do,U as To,X as Vo}from"../chunks/XMark.Co-iabdJ.js";import"../chunks/index.DQfRr7yB.js";import"../chunks/sha256.CRlV3BEV.js";import{D as Co,M as Ul}from"../chunks/Dropdown.6Kb6OfAV.js";import{b as So}from"../chunks/menu-trigger.Syw7IYi9.js";import{f as Mo}from"../chunks/index.DMdt0oYD.js";import{D as Ao,S as Lo,G as Tn}from"../chunks/DocumentDuplicate.B_gNfd5l.js";import{C as Bo}from"../chunks/ConfirmDialog.BhA26OgX.js";import{S as No}from"../chunks/Spinner.BUWLBtIX.js";import{L as xo}from"../chunks/Loader.qRkPTPVG.js";import{g as Oo}from"../chunks/index.CXEitfaR.js";import{p as Ho}from"../chunks/stores.D7NtLHrQ.js";import{f as Uo}from"../chunks/index.BronEFe7.js";const Po=(s,e)=>e.some(t=>s instanceof t);let sr,ar;function $o(){return sr||(sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jo(){return ar||(ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vn=new WeakMap,Zs=new WeakMap,Cn=new WeakMap,Ps=new WeakMap,Ks=new WeakMap;function zo(s){const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("success",r),s.removeEventListener("error",o)},r=()=>{t(gl(s.result)),a()},o=()=>{l(s.error),a()};s.addEventListener("success",r),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Vn.set(t,s)}).catch(()=>{}),Ks.set(e,s),e}function Ro(s){if(Zs.has(s))return;const e=new Promise((t,l)=>{const a=()=>{s.removeEventListener("complete",r),s.removeEventListener("error",o),s.removeEventListener("abort",o)},r=()=>{t(),a()},o=()=>{l(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",r),s.addEventListener("error",o),s.addEventListener("abort",o)});Zs.set(s,e)}let Fs={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Zs.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Cn.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gl(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Wo(s){Fs=s(Fs)}function Zo(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call($s(this),e,...t);return Cn.set(l,e.sort?e.sort():[e]),gl(l)}:jo().includes(s)?function(...e){return s.apply($s(this),e),gl(Vn.get(this))}:function(...e){return gl(s.apply($s(this),e))}}function Fo(s){return typeof s=="function"?Zo(s):(s instanceof IDBTransaction&&Ro(s),Po(s,$o())?new Proxy(s,Fs):s)}function gl(s){if(s instanceof IDBRequest)return zo(s);if(Ps.has(s))return Ps.get(s);const e=Fo(s);return e!==s&&(Ps.set(s,e),Ks.set(e,s)),e}const $s=s=>Ks.get(s);function Yo(s,e,{blocked:t,upgrade:l,blocking:a,terminated:r}={}){const o=indexedDB.open(s,e),i=gl(o);return l&&o.addEventListener("upgradeneeded",f=>{l(gl(o.result),f.oldVersion,f.newVersion,gl(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),i.then(f=>{r&&f.addEventListener("close",()=>r()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),i}function rr(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),gl(t).then(()=>{})}const qo=["get","getKey","getAll","getAllKeys","count"],Ko=["put","add","delete","clear"],js=new Map;function nr(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(js.get(e))return js.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,a=Ko.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(a||qo.includes(t)))return;const r=async function(o,...i){const f=this.transaction(o,a?"readwrite":"readonly");let m=f.store;return l&&(m=m.index(i.shift())),(await Promise.all([m[t](...i),a&&f.done]))[0]};return js.set(e,r),r}Wo(s=>({...s,get:(e,t,l)=>nr(e,t)||s.get(e,t,l),has:(e,t)=>!!nr(e,t)||s.has(e,t)}));function or(s){let e,t,l,a=s[4].t("Current Password")+"",r,o,i,f,m,g,p,_=s[4].t("New Password")+"",b,w,y,k,V,I,D,T=s[4].t("Confirm Password")+"",E,A,B,H,Z,N,q,j=s[4].t("Update password")+"",C,L,R;return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("div"),f=d("input"),m=S(),g=d("div"),p=d("div"),b=x(_),w=S(),y=d("div"),k=d("input"),V=S(),I=d("div"),D=d("div"),E=x(T),A=S(),B=d("div"),H=d("input"),Z=S(),N=d("div"),q=d("button"),C=x(j),this.h()},l(P){e=h(P,"DIV",{class:!0});var F=v(e);t=h(F,"DIV",{class:!0});var Y=v(t);l=h(Y,"DIV",{class:!0});var $=v(l);r=O($,a),$.forEach(u),o=M(Y),i=h(Y,"DIV",{class:!0});var W=v(i);f=h(W,"INPUT",{class:!0,type:!0,autocomplete:!0}),W.forEach(u),Y.forEach(u),m=M(F),g=h(F,"DIV",{class:!0});var G=v(g);p=h(G,"DIV",{class:!0});var X=v(p);b=O(X,_),X.forEach(u),w=M(G),y=h(G,"DIV",{class:!0});var K=v(y);k=h(K,"INPUT",{class:!0,type:!0,autocomplete:!0}),K.forEach(u),G.forEach(u),V=M(F),I=h(F,"DIV",{class:!0});var re=v(I);D=h(re,"DIV",{class:!0});var te=v(D);E=O(te,T),te.forEach(u),A=M(re),B=h(re,"DIV",{class:!0});var ue=v(B);H=h(ue,"INPUT",{class:!0,type:!0,autocomplete:!0}),ue.forEach(u),re.forEach(u),F.forEach(u),Z=M(P),N=h(P,"DIV",{class:!0});var Ee=v(N);q=h(Ee,"BUTTON",{class:!0});var be=v(q);C=O(be,j),be.forEach(u),Ee.forEach(u),this.h()},h(){c(l,"class","mb-1 text-xs text-gray-500"),c(f,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(f,"type","password"),c(f,"autocomplete","current-password"),f.required=!0,c(i,"class","flex-1"),c(t,"class","flex flex-col w-full"),c(p,"class","mb-1 text-xs text-gray-500"),c(k,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(k,"type","password"),c(k,"autocomplete","new-password"),k.required=!0,c(y,"class","flex-1"),c(g,"class","flex flex-col w-full"),c(D,"class","mb-1 text-xs text-gray-500"),c(H,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),c(H,"type","password"),c(H,"autocomplete","off"),H.required=!0,c(B,"class","flex-1"),c(I,"class","flex flex-col w-full"),c(e,"class","py-2.5 space-y-1.5"),c(q,"class","px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium"),c(N,"class","mt-3 flex justify-end")},m(P,F){z(P,e,F),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,f),je(f,s[1]),n(e,m),n(e,g),n(g,p),n(p,b),n(g,w),n(g,y),n(y,k),je(k,s[2]),n(e,V),n(e,I),n(I,D),n(D,E),n(I,A),n(I,B),n(B,H),je(H,s[3]),z(P,Z,F),z(P,N,F),n(N,q),n(q,C),L||(R=[Q(f,"input",s[8]),Q(k,"input",s[9]),Q(H,"input",s[10])],L=!0)},p(P,F){F&16&&a!==(a=P[4].t("Current Password")+"")&&U(r,a),F&2&&f.value!==P[1]&&je(f,P[1]),F&16&&_!==(_=P[4].t("New Password")+"")&&U(b,_),F&4&&k.value!==P[2]&&je(k,P[2]),F&16&&T!==(T=P[4].t("Confirm Password")+"")&&U(E,T),F&8&&H.value!==P[3]&&je(H,P[3]),F&16&&j!==(j=P[4].t("Update password")+"")&&U(C,j)},d(P){P&&(u(e),u(Z),u(N)),L=!1,ht(R)}}}function Go(s){let e,t,l,a=s[4].t("Change Password")+"",r,o,i,f=(s[0]?s[4].t("Hide"):s[4].t("Show"))+"",m,g,p,_,b=s[0]&&or(s);return{c(){e=d("form"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),m=x(f),g=S(),b&&b.c(),this.h()},l(w){e=h(w,"FORM",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var k=v(t);l=h(k,"DIV",{class:!0});var V=v(l);r=O(V,a),V.forEach(u),o=M(k),i=h(k,"BUTTON",{class:!0,type:!0});var I=v(i);m=O(I,f),I.forEach(u),k.forEach(u),g=M(y),b&&b.l(y),y.forEach(u),this.h()},h(){c(l,"class","font-medium"),c(i,"class","text-xs font-medium text-gray-500"),c(i,"type","button"),c(t,"class","flex justify-between items-center text-sm"),c(e,"class","flex flex-col text-sm")},m(w,y){z(w,e,y),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),b&&b.m(e,null),p||(_=[Q(i,"click",s[7]),Q(e,"submit",zl(s[11]))],p=!0)},p(w,[y]){y&16&&a!==(a=w[4].t("Change Password")+"")&&U(r,a),y&17&&f!==(f=(w[0]?w[4].t("Hide"):w[4].t("Show"))+"")&&U(m,f),w[0]?b?b.p(w,y):(b=or(w),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Ue,o:Ue,d(w){w&&u(e),b&&b.d(),p=!1,ht(_)}}}function Xo(s,e,t){let l;const a=gt("i18n");Ae(s,a,y=>t(4,l=y));let r=!1,o="",i="",f="";const m=async()=>{i===f?(await ro(localStorage.token,o,i).catch(k=>(Je.error(k),null))&&Je.success(l.t("Successfully updated.")),t(1,o=""),t(2,i=""),t(3,f="")):(Je.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,f=""))},g=()=>{t(0,r=!r)};function p(){o=this.value,t(1,o)}function _(){i=this.value,t(2,i)}function b(){f=this.value,t(3,f)}return[r,o,i,f,l,a,m,g,p,_,b,()=>{m()}]}class Jo extends ut{constructor(e){super(),ft(this,e,Xo,Go,ct,{})}}function Qo(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=it(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M12 4.5v15m7.5-7.5h-15"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function ei(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class ti extends ut{constructor(e){super(),ft(this,e,ei,Qo,ct,{className:0,strokeWidth:1})}}function ir(s){let e,t,l,a,r=s[9].t("JWT Token")+"",o,i,f,m,g,p,_,b,w,y,k=s[9].t("API Key")+"",V,I,D,T,E,A,B,H;m=new kn({props:{value:localStorage.token,readOnly:!0}});function Z(R,P){return R[4]?si:li}let N=Z(s),q=N(s);const j=[ri,ai],C=[];function L(R,P){return R[5]?0:1}return T=L(s),E=C[T]=j[T](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),o=x(r),i=S(),f=d("div"),me(m.$$.fragment),g=S(),p=d("button"),q.c(),_=S(),b=d("div"),w=d("div"),y=d("div"),V=x(k),I=S(),D=d("div"),E.c(),this.h()},l(R){e=h(R,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var F=v(t);l=h(F,"DIV",{class:!0});var Y=v(l);a=h(Y,"DIV",{class:!0});var $=v(a);o=O($,r),$.forEach(u),Y.forEach(u),i=M(F),f=h(F,"DIV",{class:!0});var W=v(f);_e(m.$$.fragment,W),g=M(W),p=h(W,"BUTTON",{class:!0});var G=v(p);q.l(G),G.forEach(u),W.forEach(u),F.forEach(u),_=M(P),b=h(P,"DIV",{class:!0});var X=v(b);w=h(X,"DIV",{class:!0});var K=v(w);y=h(K,"DIV",{class:!0});var re=v(y);V=O(re,k),re.forEach(u),K.forEach(u),I=M(X),D=h(X,"DIV",{class:!0});var te=v(D);E.l(te),te.forEach(u),X.forEach(u),P.forEach(u),this.h()},h(){c(a,"class","self-center text-xs font-medium"),c(l,"class","flex justify-between w-full"),c(p,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg"),c(f,"class","flex mt-2"),c(t,"class","justify-between w-full"),c(y,"class","self-center text-xs font-medium"),c(w,"class","flex justify-between w-full"),c(D,"class","flex mt-2"),c(b,"class","justify-between w-full"),c(e,"class","flex flex-col gap-4")},m(R,P){z(R,e,P),n(e,t),n(t,l),n(l,a),n(a,o),n(t,i),n(t,f),pe(m,f,null),n(f,g),n(f,p),q.m(p,null),n(e,_),n(e,b),n(b,w),n(w,y),n(y,V),n(b,I),n(b,D),C[T].m(D,null),A=!0,B||(H=Q(p,"click",s[21]),B=!0)},p(R,P){(!A||P&512)&&r!==(r=R[9].t("JWT Token")+"")&&U(o,r),N!==(N=Z(R))&&(q.d(1),q=N(R),q&&(q.c(),q.m(p,null))),(!A||P&512)&&k!==(k=R[9].t("API Key")+"")&&U(V,k);let F=T;T=L(R),T===F?C[T].p(R,P):(bt(),se(C[F],1,1,()=>{C[F]=null}),wt(),E=C[T],E?E.p(R,P):(E=C[T]=j[T](R),E.c()),J(E,1),E.m(D,null))},i(R){A||(J(m.$$.fragment,R),J(E),A=!0)},o(R){se(m.$$.fragment,R),se(E),A=!1},d(R){R&&u(e),ge(m),q.d(),C[T].d(),B=!1,H()}}}function li(s){let e,t,l;return{c(){e=ot("svg"),t=ot("path"),l=ot("path"),this.h()},l(a){e=it(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=it(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=it(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function si(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=it(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function ai(s){let e,t,l,a=s[9].t("Create new secret key")+"",r,o,i,f;return t=new ti({props:{strokeWidth:"2",className:" size-3.5"}}),{c(){e=d("button"),me(t.$$.fragment),l=S(),r=x(a),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var g=v(e);_e(t.$$.fragment,g),l=M(g),r=O(g,a),g.forEach(u),this.h()},h(){c(e,"class","flex gap-1.5 items-center font-medium px-3.5 py-1.5 rounded-lg bg-gray-100/70 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-850 transition")},m(m,g){z(m,e,g),pe(t,e,null),n(e,l),n(e,r),o=!0,i||(f=Q(e,"click",s[24]),i=!0)},p(m,g){(!o||g&512)&&a!==(a=m[9].t("Create new secret key")+"")&&U(r,a)},i(m){o||(J(t.$$.fragment,m),o=!0)},o(m){se(t.$$.fragment,m),o=!1},d(m){m&&u(e),ge(t),i=!1,f()}}}function ri(s){let e,t,l,a,r,o,i,f;e=new kn({props:{value:s[5],readOnly:!0}});function m(_,b){return _[6]?oi:ni}let g=m(s),p=g(s);return r=new Ft({props:{content:s[9].t("Create new key"),$$slots:{default:[ii]},$$scope:{ctx:s}}}),{c(){me(e.$$.fragment),t=S(),l=d("button"),p.c(),a=S(),me(r.$$.fragment),this.h()},l(_){_e(e.$$.fragment,_),t=M(_),l=h(_,"BUTTON",{class:!0});var b=v(l);p.l(b),b.forEach(u),a=M(_),_e(r.$$.fragment,_),this.h()},h(){c(l,"class","ml-1.5 px-1.5 py-1 dark:hover:bg-gray-850 transition rounded-lg")},m(_,b){pe(e,_,b),z(_,t,b),z(_,l,b),p.m(l,null),z(_,a,b),pe(r,_,b),o=!0,i||(f=Q(l,"click",s[22]),i=!0)},p(_,b){const w={};b&32&&(w.value=_[5]),e.$set(w),g!==(g=m(_))&&(p.d(1),p=g(_),p&&(p.c(),p.m(l,null)));const y={};b&512&&(y.content=_[9].t("Create new key")),b&67108864&&(y.$$scope={dirty:b,ctx:_}),r.$set(y)},i(_){o||(J(e.$$.fragment,_),J(r.$$.fragment,_),o=!0)},o(_){se(e.$$.fragment,_),se(r.$$.fragment,_),o=!1},d(_){_&&(u(t),u(l),u(a)),ge(e,_),p.d(),ge(r,_),i=!1,f()}}}function ni(s){let e,t,l;return{c(){e=ot("svg"),t=ot("path"),l=ot("path"),this.h()},l(a){e=it(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=it(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),l=it(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(u),r.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),c(t,"clip-rule","evenodd"),c(l,"fill-rule","evenodd"),c(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),c(l,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(a,r){z(a,e,r),n(e,t),n(e,l)},d(a){a&&u(e)}}}function oi(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=it(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 20 20"),c(e,"fill","currentColor"),c(e,"class","w-4 h-4")},m(l,a){z(l,e,a),n(e,t)},d(l){l&&u(e)}}}function ii(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-olpspw"&&(e.innerHTML=t),this.h()},h(){c(e,"class","px-1.5 py-1 dark:hover:bg-gray-850transition rounded-lg")},m(r,o){z(r,e,o),l||(a=Q(e,"click",s[23]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function ci(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',y,k,V,I=s[9].t("Profile Image")+"",D,T,E,A,B=s[9].t("Use Initials")+"",H,Z,N,q=s[9].t("Use Gravatar")+"",j,C,L,R=s[9].t("Remove")+"",P,F,Y,$,W,G=s[9].t("Name")+"",X,K,re,te,ue,Ee,be,Be,Pe,Le,de,ve,xe=s[9].t("API keys")+"",Se,Ze,le,fe=(s[3]?s[9].t("Hide"):s[9].t("Show"))+"",Ie,oe,De,we,Re,ae=s[9].t("Save")+"",Ve,ce,Te,Qe;be=new Jo({});let ee=s[3]&&ir(s);return{c(){e=d("div"),t=d("div"),l=d("input"),a=S(),r=d("div"),o=d("div"),i=d("div"),f=d("div"),m=d("button"),g=d("img"),_=S(),b=d("div"),b.innerHTML=w,y=S(),k=d("div"),V=d("div"),D=x(I),T=S(),E=d("div"),A=d("button"),H=x(B),Z=S(),N=d("button"),j=x(q),C=S(),L=d("button"),P=x(R),F=S(),Y=d("div"),$=d("div"),W=d("div"),X=x(G),K=S(),re=d("div"),te=d("input"),ue=S(),Ee=d("div"),me(be.$$.fragment),Be=S(),Pe=d("hr"),Le=S(),de=d("div"),ve=d("div"),Se=x(xe),Ze=S(),le=d("button"),Ie=x(fe),oe=S(),ee&&ee.c(),De=S(),we=d("div"),Re=d("button"),Ve=x(ae),this.h()},l(ie){e=h(ie,"DIV",{class:!0});var ke=v(e);t=h(ke,"DIV",{class:!0});var Oe=v(t);l=h(Oe,"INPUT",{id:!0,type:!0,accept:!0}),a=M(Oe),r=h(Oe,"DIV",{class:!0});var et=v(r);o=h(et,"DIV",{class:!0});var ze=v(o);i=h(ze,"DIV",{class:!0});var We=v(i);f=h(We,"DIV",{class:!0});var Ke=v(f);m=h(Ke,"BUTTON",{class:!0,type:!0});var tt=v(m);g=h(tt,"IMG",{src:!0,alt:!0,class:!0}),_=M(tt),b=h(tt,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-11ivb2j"&&(b.innerHTML=w),tt.forEach(u),Ke.forEach(u),We.forEach(u),y=M(ze),k=h(ze,"DIV",{class:!0});var lt=v(k);V=h(lt,"DIV",{class:!0});var Fe=v(V);D=O(Fe,I),Fe.forEach(u),T=M(lt),E=h(lt,"DIV",{});var st=v(E);A=h(st,"BUTTON",{class:!0});var qe=v(A);H=O(qe,B),qe.forEach(u),Z=M(st),N=h(st,"BUTTON",{class:!0});var Ye=v(N);j=O(Ye,q),Ye.forEach(u),C=M(st),L=h(st,"BUTTON",{class:!0});var Ne=v(L);P=O(Ne,R),Ne.forEach(u),st.forEach(u),lt.forEach(u),ze.forEach(u),F=M(et),Y=h(et,"DIV",{class:!0});var at=v(Y);$=h(at,"DIV",{class:!0});var Tt=v($);W=h(Tt,"DIV",{class:!0});var rt=v(W);X=O(rt,G),rt.forEach(u),K=M(Tt),re=h(Tt,"DIV",{class:!0});var _t=v(re);te=h(_t,"INPUT",{class:!0,type:!0}),_t.forEach(u),Tt.forEach(u),at.forEach(u),et.forEach(u),ue=M(Oe),Ee=h(Oe,"DIV",{class:!0});var $e=v(Ee);_e(be.$$.fragment,$e),$e.forEach(u),Be=M(Oe),Pe=h(Oe,"HR",{class:!0}),Le=M(Oe),de=h(Oe,"DIV",{class:!0});var Ce=v(de);ve=h(Ce,"DIV",{class:!0});var he=v(ve);Se=O(he,xe),he.forEach(u),Ze=M(Ce),le=h(Ce,"BUTTON",{class:!0,type:!0});var ye=v(le);Ie=O(ye,fe),ye.forEach(u),Ce.forEach(u),oe=M(Oe),ee&&ee.l(Oe),Oe.forEach(u),De=M(ke),we=h(ke,"DIV",{class:!0});var Ge=v(we);Re=h(Ge,"BUTTON",{class:!0});var At=v(Re);Ve=O(At,ae),At.forEach(u),Ge.forEach(u),ke.forEach(u),this.h()},h(){c(l,"id","profile-image-input"),c(l,"type","file"),l.hidden=!0,c(l,"accept","image/*"),Ds(g.src,p=s[1]!==""?s[1]:ql(s[2]))||c(g,"src",p),c(g,"alt","profile"),c(g,"class","rounded-full size-16 object-cover"),c(b,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),c(m,"class","relative rounded-full dark:bg-gray-700"),c(m,"type","button"),c(f,"class","self-center mt-2"),c(i,"class","flex flex-col"),c(V,"class","mb-0.5 text-sm font-medium"),c(A,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(N,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),c(L,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),c(k,"class","flex-1 flex flex-col self-center gap-0.5"),c(o,"class","flex space-x-5"),c(W,"class","mb-1 text-xs font-medium"),c(te,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(te,"type","text"),te.required=!0,c(re,"class","flex-1"),c($,"class","flex flex-col w-full"),c(Y,"class","pt-0.5"),c(r,"class","space-y-1"),c(Ee,"class","py-0.5"),c(Pe,"class","dark:border-gray-850 my-4"),c(ve,"class","font-medium"),c(le,"class","text-xs font-medium text-gray-500"),c(le,"type","button"),c(de,"class","flex justify-between items-center text-sm"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(Re,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(we,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(ie,ke){z(ie,e,ke),n(e,t),n(t,l),s[13](l),n(t,a),n(t,r),n(r,o),n(o,i),n(i,f),n(f,m),n(m,g),n(m,_),n(m,b),n(o,y),n(o,k),n(k,V),n(V,D),n(k,T),n(k,E),n(E,A),n(A,H),n(E,Z),n(E,N),n(N,j),n(E,C),n(E,L),n(L,P),n(r,F),n(r,Y),n(Y,$),n($,W),n(W,X),n($,K),n($,re),n(re,te),je(te,s[2]),n(t,ue),n(t,Ee),pe(be,Ee,null),n(t,Be),n(t,Pe),n(t,Le),n(t,de),n(de,ve),n(ve,Se),n(de,Ze),n(de,le),n(le,Ie),n(t,oe),ee&&ee.m(t,null),n(e,De),n(e,we),n(we,Re),n(Re,Ve),ce=!0,Te||(Qe=[Q(l,"change",s[14]),Q(m,"click",s[15]),Q(A,"click",s[16]),Q(N,"click",s[17]),Q(L,"click",s[18]),Q(te,"input",s[19]),Q(le,"click",s[20]),Q(Re,"click",s[25])],Te=!0)},p(ie,[ke]){(!ce||ke&6&&!Ds(g.src,p=ie[1]!==""?ie[1]:ql(ie[2])))&&c(g,"src",p),(!ce||ke&512)&&I!==(I=ie[9].t("Profile Image")+"")&&U(D,I),(!ce||ke&512)&&B!==(B=ie[9].t("Use Initials")+"")&&U(H,B),(!ce||ke&512)&&q!==(q=ie[9].t("Use Gravatar")+"")&&U(j,q),(!ce||ke&512)&&R!==(R=ie[9].t("Remove")+"")&&U(P,R),(!ce||ke&512)&&G!==(G=ie[9].t("Name")+"")&&U(X,G),ke&4&&te.value!==ie[2]&&je(te,ie[2]),(!ce||ke&512)&&xe!==(xe=ie[9].t("API keys")+"")&&U(Se,xe),(!ce||ke&520)&&fe!==(fe=(ie[3]?ie[9].t("Hide"):ie[9].t("Show"))+"")&&U(Ie,fe),ie[3]?ee?(ee.p(ie,ke),ke&8&&J(ee,1)):(ee=ir(ie),ee.c(),J(ee,1),ee.m(t,null)):ee&&(bt(),se(ee,1,1,()=>{ee=null}),wt()),(!ce||ke&512)&&ae!==(ae=ie[9].t("Save")+"")&&U(Ve,ae)},i(ie){ce||(J(be.$$.fragment,ie),J(ee),ce=!0)},o(ie){se(be.$$.fragment,ie),se(ee),ce=!1},d(ie){ie&&u(e),s[13](null),ge(be),ee&&ee.d(),Te=!1,ht(Qe)}}}function ui(s,e,t){let l,a;Ae(s,jl,C=>t(8,l=C));const r=gt("i18n");Ae(s,r,C=>t(9,a=C));let{saveHandler:o}=e,i="",f="",m=!1,g=!1,p="",_=!1,b;const w=async()=>{f!==l.name&&(i===ql(l.name)||i==="")&&t(1,i=ql(f));const C=await oo(localStorage.token,f,i).catch(L=>{Je.error(L)});return C?(await jl.set(C),!0):!1},y=async()=>{t(5,p=await io(localStorage.token)),p?Je.success(a.t("API Key created.")):Je.error(a.t("Failed to create API Key."))};ul(async()=>{t(2,f=l.name),t(1,i=l.profile_image_url),t(5,p=await no(localStorage.token).catch(C=>(console.log(C),"")))});function k(C){mt[C?"unshift":"push"](()=>{b=C,t(7,b)})}const V=C=>{const L=b.files??[];let R=new FileReader;R.onload=P=>{let F=`${P.target.result}`;const Y=new Image;Y.src=F,Y.onload=function(){const $=document.createElement("canvas"),W=$.getContext("2d"),G=Y.width/Y.height;let X,K;G>1?(X=100*G,K=100):(X=100,K=100/G),$.width=100,$.height=100;const re=(100-X)/2,te=(100-K)/2;W.drawImage(Y,re,te,X,K);const ue=$.toDataURL("image/jpeg");t(1,i=ue),t(7,b.files=null,b)}},L.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(L[0].type)&&R.readAsDataURL(L[0])},I=()=>{b.click()},D=async()=>{fo()?t(1,i=ql(f)):Je.info(a.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},T=async()=>{const C=await uo(l.email);t(1,i=C)},E=async()=>{t(1,i="/user.png")};function A(){f=this.value,t(2,f)}const B=()=>{t(3,m=!m)},H=()=>{lr(localStorage.token),t(4,g=!0),setTimeout(()=>{t(4,g=!1)},2e3)},Z=()=>{lr(p),t(6,_=!0),setTimeout(()=>{t(6,_=!1)},2e3)},N=()=>{y()},q=()=>{y()},j=async()=>{await w()&&o()};return s.$$set=C=>{"saveHandler"in C&&t(0,o=C.saveHandler)},[o,i,f,m,g,p,_,b,l,a,r,w,y,k,V,I,D,T,E,A,B,H,Z,N,q,j]}class fi extends ut{constructor(e){super(),ft(this,e,ui,ci,ct,{saveHandler:0})}}function di(s){let e,t;return{c(){e=x("v"),t=x(dl)},l(l){e=O(l,"v"),t=O(l,dl)},m(l,a){z(l,e,a),z(l,t,a)},p:Ue,d(l){l&&(u(e),u(t))}}}function cr(s){let e,t,l,a,r=s[4].t("Ollama Version")+"",o,i,f,m,g=(s[0]??"N/A")+"",p;return{c(){e=d("hr"),t=S(),l=d("div"),a=d("div"),o=x(r),i=S(),f=d("div"),m=d("div"),p=x(g),this.h()},l(_){e=h(_,"HR",{class:!0}),t=M(_),l=h(_,"DIV",{});var b=v(l);a=h(b,"DIV",{class:!0});var w=v(a);o=O(w,r),w.forEach(u),i=M(b),f=h(b,"DIV",{class:!0});var y=v(f);m=h(y,"DIV",{class:!0});var k=v(m);p=O(k,g),k.forEach(u),y.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","dark:border-gray-850"),c(a,"class","mb-2.5 text-sm font-medium"),c(m,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),c(f,"class","flex w-full")},m(_,b){z(_,e,b),z(_,t,b),z(_,l,b),n(l,a),n(a,o),n(l,i),n(l,f),n(f,m),n(m,p)},p(_,b){b&16&&r!==(r=_[4].t("Ollama Version")+"")&&U(o,r),b&1&&g!==(g=(_[0]??"N/A")+"")&&U(p,g)},d(_){_&&(u(e),u(t),u(l))}}}function ur(s){let e,t,l;return{c(){e=d("span"),t=x(s[3]),l=x(" -"),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);t=O(r,s[3]),r.forEach(u),l=O(a," -"),this.h()},h(){c(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(a,r){z(a,e,r),n(e,t),z(a,l,r)},p(a,r){r&8&&U(t,a[3])},d(a){a&&(u(e),u(l))}}}function hi(s){let e,t,l,a,r,o,i,f=s[4].t("Version")+"",m,g,p,_,b,w,y,k,V=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",I,D,T,E,A,B=s[4].t("See what's new")+"",H,Z,N,q=s[4].t("Check for updates")+"",j,C,L,R,P,F,Y='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',$,W,G=!s[3].includes("Open WebUI"),X,K=s[4].t("Created by")+"",re,te,ue,Ee="Timothy J. Baek",be,Be,Pe;w=new Ft({props:{content:Gn,$$slots:{default:[di]},$$scope:{ctx:s}}});let Le=s[0]&&cr(s),de=G&&ur(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),o=x(s[3]),i=S(),m=x(f),g=S(),p=d("div"),_=d("div"),b=d("div"),me(w.$$.fragment),y=S(),k=d("a"),I=x(V),T=S(),E=d("button"),A=d("div"),H=x(B),Z=S(),N=d("button"),j=x(q),C=S(),Le&&Le.c(),L=S(),R=d("hr"),P=S(),F=d("div"),F.innerHTML=Y,$=S(),W=d("div"),de&&de.c(),X=S(),re=x(K),te=S(),ue=d("a"),ue.textContent=Ee,this.h()},l(ve){e=h(ve,"DIV",{class:!0});var xe=v(e);t=h(xe,"DIV",{class:!0});var Se=v(t);l=h(Se,"DIV",{});var Ze=v(l);a=h(Ze,"DIV",{class:!0});var le=v(a);r=h(le,"DIV",{});var fe=v(r);o=O(fe,s[3]),i=M(fe),m=O(fe,f),fe.forEach(u),le.forEach(u),g=M(Ze),p=h(Ze,"DIV",{class:!0});var Ie=v(p);_=h(Ie,"DIV",{class:!0});var oe=v(_);b=h(oe,"DIV",{class:!0});var De=v(b);_e(w.$$.fragment,De),y=M(De),k=h(De,"A",{href:!0,target:!0});var we=v(k);I=O(we,V),we.forEach(u),De.forEach(u),T=M(oe),E=h(oe,"BUTTON",{class:!0});var Re=v(E);A=h(Re,"DIV",{});var ae=v(A);H=O(ae,B),ae.forEach(u),Re.forEach(u),oe.forEach(u),Z=M(Ie),N=h(Ie,"BUTTON",{class:!0});var Ve=v(N);j=O(Ve,q),Ve.forEach(u),Ie.forEach(u),Ze.forEach(u),C=M(Se),Le&&Le.l(Se),L=M(Se),R=h(Se,"HR",{class:!0}),P=M(Se),F=h(Se,"DIV",{class:!0,"data-svelte-h":!0}),He(F)!=="svelte-1hy20dm"&&(F.innerHTML=Y),$=M(Se),W=h(Se,"DIV",{class:!0});var ce=v(W);de&&de.l(ce),X=M(ce),re=O(ce,K),te=M(ce),ue=h(ce,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),He(ue)!=="svelte-1tvrifl"&&(ue.textContent=Ee),ce.forEach(u),Se.forEach(u),xe.forEach(u),this.h()},h(){c(a,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),c(k,"href",D="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),c(k,"target","_blank"),c(b,"class","flex gap-1"),c(E,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),c(_,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),c(N,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),c(p,"class","flex w-full justify-between items-center"),c(R,"class","dark:border-gray-850"),c(F,"class","flex space-x-1"),c(ue,"class","text-gray-500 dark:text-gray-300 font-medium"),c(ue,"href","https://github.com/tjbck"),c(ue,"target","_blank"),c(W,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),c(t,"class","space-y-3"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(ve,xe){z(ve,e,xe),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(r,i),n(r,m),n(l,g),n(l,p),n(p,_),n(_,b),pe(w,b,null),n(b,y),n(b,k),n(k,I),n(_,T),n(_,E),n(E,A),n(A,H),n(p,Z),n(p,N),n(N,j),n(t,C),Le&&Le.m(t,null),n(t,L),n(t,R),n(t,P),n(t,F),n(t,$),n(t,W),de&&de.m(W,null),n(W,X),n(W,re),n(W,te),n(W,ue),be=!0,Be||(Pe=[Q(E,"click",s[7]),Q(N,"click",s[8])],Be=!0)},p(ve,[xe]){(!be||xe&8)&&U(o,ve[3]),(!be||xe&16)&&f!==(f=ve[4].t("Version")+"")&&U(m,f);const Se={};xe&512&&(Se.$$scope={dirty:xe,ctx:ve}),w.$set(Se),(!be||xe&22)&&V!==(V=(ve[1]===null?ve[4].t("Checking for updates..."):ve[1]?`(v${ve[2].latest} ${ve[4].t("available!")})`:ve[4].t("(latest)"))+"")&&U(I,V),(!be||xe&4&&D!==(D="https://github.com/open-webui/open-webui/releases/tag/v"+ve[2].latest))&&c(k,"href",D),(!be||xe&16)&&B!==(B=ve[4].t("See what's new")+"")&&U(H,B),(!be||xe&16)&&q!==(q=ve[4].t("Check for updates")+"")&&U(j,q),ve[0]?Le?Le.p(ve,xe):(Le=cr(ve),Le.c(),Le.m(t,L)):Le&&(Le.d(1),Le=null),xe&8&&(G=!ve[3].includes("Open WebUI")),G?de?de.p(ve,xe):(de=ur(ve),de.c(),de.m(W,X)):de&&(de.d(1),de=null),(!be||xe&16)&&K!==(K=ve[4].t("Created by")+"")&&U(re,K)},i(ve){be||(J(w.$$.fragment,ve),be=!0)},o(ve){se(w.$$.fragment,ve),be=!1},d(ve){ve&&u(e),ge(w),Le&&Le.d(),de&&de.d(),Be=!1,ht(Pe)}}}function vi(s,e,t){let l,a;Ae(s,yn,_=>t(3,l=_));const r=gt("i18n");Ae(s,r,_=>t(4,a=_));let o="",i=null,f={current:"",latest:""};const m=async()=>{t(1,i=null),t(2,f=await _n().catch(_=>({current:dl,latest:dl}))),console.log(f),t(1,i=Ws(f.latest,f.current)),console.log(i)};return ul(async()=>{t(0,o=await _o(localStorage.token).catch(_=>"")),m()}),[o,i,f,l,a,r,m,()=>{Es.set(!0)},()=>{m()}]}class mi extends ut{constructor(e){super(),ft(this,e,vi,hi,ct,{})}}function fr(s,e,t){const l=s.slice();return l[33]=e[t],l}function dr(s){let e,t=s[33].title+"",l,a;return{c(){e=d("option"),l=x(t),this.h()},l(r){e=h(r,"OPTION",{});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[33].code,je(e,e.__value)},m(r,o){z(r,e,o),n(e,l)},p(r,o){o[0]&4&&t!==(t=r[33].title+"")&&U(l,t),o[0]&4&&a!==(a=r[33].code)&&(e.__value=a,je(e,e.__value))},d(r){r&&u(e)}}}function hr(s){let e,t=`Couldn&#39;t find your language?
					<a class="text-gray-300 font-medium underline" href="https://github.com/open-webui/open-webui/blob/main/docs/CONTRIBUTING.md#-translations-and-internationalization" target="_blank">Help us translate Open WebUI!</a>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-3hlwzt"&&(e.innerHTML=t),this.h()},h(){c(e,"class","mb-2 text-xs text-gray-400 dark:text-gray-500")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function _i(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function pi(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function vr(s){var Y;let e,t,l,a,r,o,i,f,m=s[10].t("Keep Alive")+"",g,p,_,b,w,y,k,V,I=s[10].t("Request Mode")+"",D,T,E,A,B,H;function Z($){s[25]($)}let N={admin:((Y=s[11])==null?void 0:Y.role)==="admin"};s[9]!==void 0&&(N.params=s[9]),e=new go({props:N}),mt.push(()=>Et(e,"params",Z));function q($,W){return $[8]===null?bi:gi}let j=q(s),C=j(s),L=s[8]!==null&&mr(s);function R($,W){if($[7]==="")return ki;if($[7]==="json")return wi}let P=R(s),F=P&&P(s);return{c(){me(e.$$.fragment),l=S(),a=d("hr"),r=S(),o=d("div"),i=d("div"),f=d("div"),g=x(m),p=S(),_=d("button"),C.c(),b=S(),L&&L.c(),w=S(),y=d("div"),k=d("div"),V=d("div"),D=x(I),T=S(),E=d("button"),F&&F.c(),this.h()},l($){_e(e.$$.fragment,$),l=M($),a=h($,"HR",{class:!0}),r=M($),o=h($,"DIV",{class:!0});var W=v(o);i=h(W,"DIV",{class:!0});var G=v(i);f=h(G,"DIV",{class:!0});var X=v(f);g=O(X,m),X.forEach(u),p=M(G),_=h(G,"BUTTON",{class:!0,type:!0});var K=v(_);C.l(K),K.forEach(u),G.forEach(u),b=M(W),L&&L.l(W),W.forEach(u),w=M($),y=h($,"DIV",{});var re=v(y);k=h(re,"DIV",{class:!0});var te=v(k);V=h(te,"DIV",{class:!0});var ue=v(V);D=O(ue,I),ue.forEach(u),T=M(te),E=h(te,"BUTTON",{class:!0});var Ee=v(E);F&&F.l(Ee),Ee.forEach(u),te.forEach(u),re.forEach(u),this.h()},h(){c(a,"class","dark:border-gray-850"),c(f,"class","self-center text-xs font-medium"),c(_,"class","p-1 px-3 text-xs flex rounded transition"),c(_,"type","button"),c(i,"class","flex w-full justify-between"),c(o,"class","py-1 w-full justify-between"),c(V,"class","self-center text-sm font-medium"),c(E,"class","p-1 px-3 text-xs flex rounded transition"),c(k,"class","py-1 flex w-full justify-between")},m($,W){pe(e,$,W),z($,l,W),z($,a,W),z($,r,W),z($,o,W),n(o,i),n(i,f),n(f,g),n(i,p),n(i,_),C.m(_,null),n(o,b),L&&L.m(o,null),z($,w,W),z($,y,W),n(y,k),n(k,V),n(V,D),n(k,T),n(k,E),F&&F.m(E,null),A=!0,B||(H=[Q(_,"click",s[26]),Q(E,"click",s[28])],B=!0)},p($,W){var X;const G={};W[0]&2048&&(G.admin=((X=$[11])==null?void 0:X.role)==="admin"),!t&&W[0]&512&&(t=!0,G.params=$[9],yt(()=>t=!1)),e.$set(G),(!A||W[0]&1024)&&m!==(m=$[10].t("Keep Alive")+"")&&U(g,m),j===(j=q($))&&C?C.p($,W):(C.d(1),C=j($),C&&(C.c(),C.m(_,null))),$[8]!==null?L?L.p($,W):(L=mr($),L.c(),L.m(o,null)):L&&(L.d(1),L=null),(!A||W[0]&1024)&&I!==(I=$[10].t("Request Mode")+"")&&U(D,I),P===(P=R($))&&F?F.p($,W):(F&&F.d(1),F=P&&P($),F&&(F.c(),F.m(E,null)))},i($){A||(J(e.$$.fragment,$),A=!0)},o($){se(e.$$.fragment,$),A=!1},d($){$&&(u(l),u(a),u(r),u(o),u(w),u(y)),ge(e,$),C.d(),L&&L.d(),F&&F.d(),B=!1,ht(H)}}}function gi(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Custom")+"")&&U(l,t)},d(a){a&&u(e)}}}function bi(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&U(l,t)},d(a){a&&u(e)}}}function mr(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);t=h(i,"INPUT",{class:!0,type:!0,placeholder:!0}),i.forEach(u),this.h()},h(){c(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(t,"type","text"),c(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),c(e,"class","flex mt-1 space-x-2")},m(o,i){z(o,e,i),n(e,t),je(t,s[8]),a||(r=Q(t,"input",s[27]),a=!0)},p(o,i){i[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&c(t,"placeholder",l),i[0]&256&&t.value!==o[8]&&je(t,o[8])},d(o){o&&u(e),a=!1,r()}}}function wi(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("JSON")+"")&&U(l,t)},d(a){a&&u(e)}}}function ki(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&1024&&t!==(t=a[10].t("Default")+"")&&U(l,t)},d(a){a&&u(e)}}}function yi(s){let e,t,l,a,r=s[10].t("WebUI Settings")+"",o,i,f,m,g=s[10].t("Theme")+"",p,_,b,w,y,k,V=s[10].t("System")+"",I,D,T,E=s[10].t("Dark")+"",A,B,H,Z=s[10].t("OLED Dark")+"",N,q,j,C=s[10].t("Light")+"",L,R,P="🌷 Her",F,Y,$,W=s[10].t("Language")+"",G,X,K,re,te,ue,Ee,be,Be,Pe=s[10].t("Notifications")+"",Le,de,ve,xe,Se,Ze,le,fe,Ie=s[10].t("System Prompt")+"",oe,De,we,Re,ae,Ve,ce,Te=s[10].t("Advanced Parameters")+"",Qe,ee,ie,ke=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",Oe,et,ze,We,Ke,tt=s[10].t("Save")+"",lt,Fe,st,qe,Ye=nt(s[2]),Ne=[];for(let Ce=0;Ce<Ye.length;Ce+=1)Ne[Ce]=dr(fr(s,Ye,Ce));let at=s[10].language==="en-US"&&hr();function Tt(Ce,he){return Ce[4]===!0?pi:_i}let rt=Tt(s),_t=rt(s),$e=s[6]&&vr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),o=x(r),i=S(),f=d("div"),m=d("div"),p=x(g),_=S(),b=d("div"),w=d("select"),y=d("option"),k=x("⚙️ "),I=x(V),D=d("option"),T=x("🌑 "),A=x(E),B=d("option"),H=x("🌃 "),N=x(Z),q=d("option"),j=x("☀️ "),L=x(C),R=d("option"),R.textContent=P,F=S(),Y=d("div"),$=d("div"),G=x(W),X=S(),K=d("div"),re=d("select");for(let Ce=0;Ce<Ne.length;Ce+=1)Ne[Ce].c();te=S(),at&&at.c(),ue=S(),Ee=d("div"),be=d("div"),Be=d("div"),Le=x(Pe),de=S(),ve=d("button"),_t.c(),xe=S(),Se=d("hr"),Ze=S(),le=d("div"),fe=d("div"),oe=x(Ie),De=S(),we=d("textarea"),Re=S(),ae=d("div"),Ve=d("div"),ce=d("div"),Qe=x(Te),ee=S(),ie=d("button"),Oe=x(ke),et=S(),$e&&$e.c(),ze=S(),We=d("div"),Ke=d("button"),lt=x(tt),this.h()},l(Ce){e=h(Ce,"DIV",{class:!0});var he=v(e);t=h(he,"DIV",{class:!0});var ye=v(t);l=h(ye,"DIV",{class:!0});var Ge=v(l);a=h(Ge,"DIV",{class:!0});var At=v(a);o=O(At,r),At.forEach(u),i=M(Ge),f=h(Ge,"DIV",{class:!0});var Lt=v(f);m=h(Lt,"DIV",{class:!0});var vt=v(m);p=O(vt,g),vt.forEach(u),_=M(Lt),b=h(Lt,"DIV",{class:!0});var It=v(b);w=h(It,"SELECT",{class:!0,placeholder:!0});var Ut=v(w);y=h(Ut,"OPTION",{});var Bt=v(y);k=O(Bt,"⚙️ "),I=O(Bt,V),Bt.forEach(u),D=h(Ut,"OPTION",{});var Ct=v(D);T=O(Ct,"🌑 "),A=O(Ct,E),Ct.forEach(u),B=h(Ut,"OPTION",{});var St=v(B);H=O(St,"🌃 "),N=O(St,Z),St.forEach(u),q=h(Ut,"OPTION",{});var $t=v(q);j=O($t,"☀️ "),L=O($t,C),$t.forEach(u),R=h(Ut,"OPTION",{"data-svelte-h":!0}),He(R)!=="svelte-188ouwx"&&(R.textContent=P),Ut.forEach(u),It.forEach(u),Lt.forEach(u),F=M(Ge),Y=h(Ge,"DIV",{class:!0});var jt=v(Y);$=h(jt,"DIV",{class:!0});var Yt=v($);G=O(Yt,W),Yt.forEach(u),X=M(jt),K=h(jt,"DIV",{class:!0});var Mt=v(K);re=h(Mt,"SELECT",{class:!0,placeholder:!0});var qt=v(re);for(let ml=0;ml<Ne.length;ml+=1)Ne[ml].l(qt);qt.forEach(u),Mt.forEach(u),jt.forEach(u),te=M(Ge),at&&at.l(Ge),ue=M(Ge),Ee=h(Ge,"DIV",{});var Kt=v(Ee);be=h(Kt,"DIV",{class:!0});var kt=v(be);Be=h(kt,"DIV",{class:!0});var zt=v(Be);Le=O(zt,Pe),zt.forEach(u),de=M(kt),ve=h(kt,"BUTTON",{class:!0,type:!0});var Pt=v(ve);_t.l(Pt),Pt.forEach(u),kt.forEach(u),Kt.forEach(u),Ge.forEach(u),xe=M(ye),Se=h(ye,"HR",{class:!0}),Ze=M(ye),le=h(ye,"DIV",{});var Rt=v(le);fe=h(Rt,"DIV",{class:!0});var hl=v(fe);oe=O(hl,Ie),hl.forEach(u),De=M(Rt),we=h(Rt,"TEXTAREA",{class:!0,rows:!0}),v(we).forEach(u),Rt.forEach(u),Re=M(ye),ae=h(ye,"DIV",{class:!0});var Nt=v(ae);Ve=h(Nt,"DIV",{class:!0});var wl=v(Ve);ce=h(wl,"DIV",{class:!0});var vl=v(ce);Qe=O(vl,Te),vl.forEach(u),ee=M(wl),ie=h(wl,"BUTTON",{class:!0,type:!0});var kl=v(ie);Oe=O(kl,ke),kl.forEach(u),wl.forEach(u),et=M(Nt),$e&&$e.l(Nt),Nt.forEach(u),ye.forEach(u),ze=M(he),We=h(he,"DIV",{class:!0});var Il=v(We);Ke=h(Il,"BUTTON",{class:!0});var Ll=v(Ke);lt=O(Ll,tt),Ll.forEach(u),Il.forEach(u),he.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(m,"class","self-center text-xs font-medium"),y.__value="system",je(y,y.__value),D.__value="dark",je(D,D.__value),B.__value="oled-dark",je(B,B.__value),q.__value="light",je(q,q.__value),R.__value="her",je(R,R.__value),c(w,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(w,"placeholder","Select a theme"),s[1]===void 0&&Ml(()=>s[18].call(w)),c(b,"class","flex items-center relative"),c(f,"class","flex w-full justify-between"),c($,"class","self-center text-xs font-medium"),c(re,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),c(re,"placeholder","Select a language"),s[3]===void 0&&Ml(()=>s[20].call(re)),c(K,"class","flex items-center relative"),c(Y,"class","flex w-full justify-between"),c(Be,"class","self-center text-xs font-medium"),c(ve,"class","p-1 px-3 text-xs flex rounded transition"),c(ve,"type","button"),c(be,"class","py-0.5 flex w-full justify-between"),c(l,"class",""),c(Se,"class","dark:border-gray-850 my-3"),c(fe,"class","my-2.5 text-sm font-medium"),c(we,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),c(we,"rows","4"),c(ce,"class","font-medium"),c(ie,"class","text-xs font-medium text-gray-500"),c(ie,"type","button"),c(Ve,"class","flex justify-between items-center text-sm"),c(ae,"class","mt-2 space-y-3 pr-1.5"),c(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),c(Ke,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(We,"class","flex justify-end pt-3 text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between text-sm")},m(Ce,he){z(Ce,e,he),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),n(l,f),n(f,m),n(m,p),n(f,_),n(f,b),n(b,w),n(w,y),n(y,k),n(y,I),n(w,D),n(D,T),n(D,A),n(w,B),n(B,H),n(B,N),n(w,q),n(q,j),n(q,L),n(w,R),Wt(w,s[1],!0),n(l,F),n(l,Y),n(Y,$),n($,G),n(Y,X),n(Y,K),n(K,re);for(let ye=0;ye<Ne.length;ye+=1)Ne[ye]&&Ne[ye].m(re,null);Wt(re,s[3],!0),n(l,te),at&&at.m(l,null),n(l,ue),n(l,Ee),n(Ee,be),n(be,Be),n(Be,Le),n(be,de),n(be,ve),_t.m(ve,null),n(t,xe),n(t,Se),n(t,Ze),n(t,le),n(le,fe),n(fe,oe),n(le,De),n(le,we),je(we,s[5]),n(t,Re),n(t,ae),n(ae,Ve),n(Ve,ce),n(ce,Qe),n(Ve,ee),n(Ve,ie),n(ie,Oe),n(ae,et),$e&&$e.m(ae,null),n(e,ze),n(e,We),n(We,Ke),n(Ke,lt),Fe=!0,st||(qe=[Q(w,"change",s[18]),Q(w,"change",s[19]),Q(re,"change",s[20]),Q(re,"change",s[21]),Q(ve,"click",s[22]),Q(we,"input",s[23]),Q(ie,"click",s[24]),Q(Ke,"click",s[29])],st=!0)},p(Ce,he){if((!Fe||he[0]&1024)&&r!==(r=Ce[10].t("WebUI Settings")+"")&&U(o,r),(!Fe||he[0]&1024)&&g!==(g=Ce[10].t("Theme")+"")&&U(p,g),(!Fe||he[0]&1024)&&V!==(V=Ce[10].t("System")+"")&&U(I,V),(!Fe||he[0]&1024)&&E!==(E=Ce[10].t("Dark")+"")&&U(A,E),(!Fe||he[0]&1024)&&Z!==(Z=Ce[10].t("OLED Dark")+"")&&U(N,Z),(!Fe||he[0]&1024)&&C!==(C=Ce[10].t("Light")+"")&&U(L,C),he[0]&2&&Wt(w,Ce[1]),(!Fe||he[0]&1024)&&W!==(W=Ce[10].t("Language")+"")&&U(G,W),he[0]&4){Ye=nt(Ce[2]);let ye;for(ye=0;ye<Ye.length;ye+=1){const Ge=fr(Ce,Ye,ye);Ne[ye]?Ne[ye].p(Ge,he):(Ne[ye]=dr(Ge),Ne[ye].c(),Ne[ye].m(re,null))}for(;ye<Ne.length;ye+=1)Ne[ye].d(1);Ne.length=Ye.length}he[0]&12&&Wt(re,Ce[3]),Ce[10].language==="en-US"?at||(at=hr(),at.c(),at.m(l,ue)):at&&(at.d(1),at=null),(!Fe||he[0]&1024)&&Pe!==(Pe=Ce[10].t("Notifications")+"")&&U(Le,Pe),rt===(rt=Tt(Ce))&&_t?_t.p(Ce,he):(_t.d(1),_t=rt(Ce),_t&&(_t.c(),_t.m(ve,null))),(!Fe||he[0]&1024)&&Ie!==(Ie=Ce[10].t("System Prompt")+"")&&U(oe,Ie),he[0]&32&&je(we,Ce[5]),(!Fe||he[0]&1024)&&Te!==(Te=Ce[10].t("Advanced Parameters")+"")&&U(Qe,Te),(!Fe||he[0]&1088)&&ke!==(ke=(Ce[6]?Ce[10].t("Hide"):Ce[10].t("Show"))+"")&&U(Oe,ke),Ce[6]?$e?($e.p(Ce,he),he[0]&64&&J($e,1)):($e=vr(Ce),$e.c(),J($e,1),$e.m(ae,null)):$e&&(bt(),se($e,1,1,()=>{$e=null}),wt()),(!Fe||he[0]&1024)&&tt!==(tt=Ce[10].t("Save")+"")&&U(lt,tt)},i(Ce){Fe||(J($e),Fe=!0)},o(Ce){se($e),Fe=!1},d(Ce){Ce&&u(e),Ht(Ne,Ce),at&&at.d(),_t.d(),$e&&$e.d(),st=!1,ht(qe)}}}function Ei(s,e,t){let l,a,r;Ae(s,bl,W=>t(30,l=W)),Ae(s,jl,W=>t(11,r=W));const o=fl(),i=gt("i18n");Ae(s,i,W=>t(10,a=W));let{saveSettings:f}=e,{getModels:m}=e,g=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],p="system",_=[],b=a.language,w=!1,y="",k=!1;const V=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),f({notificationEnabled:w})):Je.error(a.t("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access."))};let I="",D=null,T={stream_response:null,seed:null,temperature:null,frequency_penalty:null,repeat_last_n:null,mirostat:null,mirostat_eta:null,mirostat_tau:null,top_k:null,top_p:null,stop:null,tfs_z:null,num_ctx:null,num_batch:null,num_keep:null,max_tokens:null,num_gpu:null};const E=async()=>{I===""?t(7,I="json"):t(7,I=""),f({requestFormat:I!==""?I:void 0})};ul(async()=>{var W,G;t(1,p=localStorage.theme??"system"),t(2,_=await po()),t(4,w=l.notificationEnabled??!1),t(5,y=l.system??""),t(7,I=l.requestFormat??""),t(8,D=l.keepAlive??null),t(9,T={...T,...l.params}),t(9,T.stop=(W=l==null?void 0:l.params)!=null&&W.stop?(((G=l==null?void 0:l.params)==null?void 0:G.stop)??[]).join(","):null,T)});const A=W=>{let G=W==="oled-dark"?"dark":W;W==="system"&&(G=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G==="dark"&&!W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#333"),document.documentElement.style.setProperty("--color-gray-850","#262626"),document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),g.filter(K=>K!==G).forEach(K=>{K.split(" ").forEach(re=>{document.documentElement.classList.remove(re)})}),G.split(" ").forEach(K=>{document.documentElement.classList.add(K)});const X=document.querySelector('meta[name="theme-color"]');if(X)if(W.includes("system")){const K=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";console.log("Setting system meta theme color: "+K),X.setAttribute("content",K==="light"?"#ffffff":"#171717")}else console.log("Setting meta theme color: "+W),X.setAttribute("content",W==="dark"?"#171717":W==="oled-dark"?"#000000":W==="her"?"#983724":"#ffffff");console.log(W)},B=W=>{Xn.set(W),localStorage.setItem("theme",W),W.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-800","#101010"),document.documentElement.style.setProperty("--color-gray-850","#050505"),document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),A(W)};function H(){p=Pl(this),t(1,p)}const Z=()=>B(p);function N(){b=Pl(this),t(3,b),t(2,_)}const q=W=>{a.changeLanguage(b)},j=()=>{V()};function C(){y=this.value,t(5,y)}const L=()=>{t(6,k=!k)};function R(W){T=W,t(9,T)}const P=()=>{t(8,D=D===null?"5m":null)};function F(){D=this.value,t(8,D)}const Y=()=>{E()},$=()=>{f({system:y!==""?y:void 0,params:{stream_response:T.stream_response!==null?T.stream_response:void 0,seed:(T.seed!==null?T.seed:void 0)??void 0,stop:T.stop?T.stop.split(",").filter(W=>W):void 0,temperature:T.temperature!==null?T.temperature:void 0,frequency_penalty:T.frequency_penalty!==null?T.frequency_penalty:void 0,repeat_last_n:T.repeat_last_n!==null?T.repeat_last_n:void 0,mirostat:T.mirostat!==null?T.mirostat:void 0,mirostat_eta:T.mirostat_eta!==null?T.mirostat_eta:void 0,mirostat_tau:T.mirostat_tau!==null?T.mirostat_tau:void 0,top_k:T.top_k!==null?T.top_k:void 0,top_p:T.top_p!==null?T.top_p:void 0,tfs_z:T.tfs_z!==null?T.tfs_z:void 0,num_ctx:T.num_ctx!==null?T.num_ctx:void 0,num_batch:T.num_batch!==null?T.num_batch:void 0,num_keep:T.num_keep!==null?T.num_keep:void 0,max_tokens:T.max_tokens!==null?T.max_tokens:void 0,use_mmap:T.use_mmap!==null?T.use_mmap:void 0,use_mlock:T.use_mlock!==null?T.use_mlock:void 0,num_thread:T.num_thread!==null?T.num_thread:void 0,num_gpu:T.num_gpu!==null?T.num_gpu:void 0},keepAlive:D?isNaN(D)?D:parseInt(D):void 0}),o("save")};return s.$$set=W=>{"saveSettings"in W&&t(0,f=W.saveSettings),"getModels"in W&&t(17,m=W.getModels)},[f,p,_,b,w,y,k,I,D,T,a,r,o,i,V,E,B,m,H,Z,N,q,j,C,L,R,P,F,Y,$]}class Ii extends ut{constructor(e){super(),ft(this,e,Ei,yi,ct,{saveSettings:0,getModels:17},null,[-1,-1])}}function _r(s,e,t){const l=s.slice();return l[53]=e[t],l}function pr(s){let e,t=s[53].name+"",l,a;return{c(){e=d("option"),l=x(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[53].id,je(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,o){z(r,e,o),n(e,l)},p(r,o){o[0]&524288&&t!==(t=r[53].name+"")&&U(l,t),o[0]&524288&&a!==(a=r[53].id)&&(e.__value=a,je(e,e.__value))},d(r){r&&u(e)}}}function Di(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ti(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function gr(s){let e,t,l,a=s[18].t("Display the username instead of You in the Chat")+"",r,o,i,f,m;function g(b,w){return b[11]===!0?Ci:Vi}let p=g(s),_=p(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),_.c(),this.h()},l(b){e=h(b,"DIV",{});var w=v(e);t=h(w,"DIV",{class:!0});var y=v(t);l=h(y,"DIV",{class:!0});var k=v(l);r=O(k,a),k.forEach(u),o=M(y),i=h(y,"BUTTON",{class:!0,type:!0});var V=v(i);_.l(V),V.forEach(u),y.forEach(u),w.forEach(u),this.h()},h(){c(l,"class","self-center text-xs"),c(i,"class","p-1 px-3 text-xs flex rounded transition"),c(i,"type","button"),c(t,"class","py-0.5 flex w-full justify-between")},m(b,w){z(b,e,w),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),_.m(i,null),f||(m=Q(i,"click",s[40]),f=!0)},p(b,w){w[0]&262144&&a!==(a=b[18].t("Display the username instead of You in the Chat")+"")&&U(r,a),p===(p=g(b))&&_?_.p(b,w):(_.d(1),_=p(b),_&&(_.c(),_.m(i,null)))},d(b){b&&u(e),_.d(),f=!1,m()}}}function Vi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ci(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Si(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Mi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ai(s){let e,t=s[18].t("RTL")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("RTL")+"")&&U(l,t)},d(a){a&&u(e)}}}function Li(s){let e,t=s[18].t("LTR")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("LTR")+"")&&U(l,t)},d(a){a&&u(e)}}}function Bi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ni(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function xi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Oi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Hi(s){let e,t=s[18].t("Upload")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Upload")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ui(s){let e,t=s[18].t("Reset")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Reset")+"")&&U(l,t)},d(a){a&&u(e)}}}function Pi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function $i(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function ji(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function zi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ri(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Wi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Zi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Fi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Yi(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function qi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ki(s){let e,t=s[18].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function Gi(s){let e,t=s[18].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&262144&&t!==(t=a[18].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Xi(s){let e,t,l,a,r,o,i,f,m=s[18].t("Default Model")+"",g,p,_,b,w,y=s[18].t("Select a model")+"",k,V,I,D,T,E,A=s[18].t("UI")+"",B,H,Z,N,q,j=s[18].t("Chat Bubble UI")+"",C,L,R,P,F,Y,$,W,G=s[18].t("Widescreen Mode")+"",X,K,re,te,ue,Ee,be,Be=s[18].t("Chat direction")+"",Pe,Le,de,ve,xe,Se,Ze,le=s[18].t("Fluidly stream large external response chunks")+"",fe,Ie,oe,De,we,Re,ae,Ve=s[18].t("Scroll to bottom when switching between branches")+"",ce,Te,Qe,ee,ie,ke,Oe,et=s[18].t("Chat Background Image")+"",ze,We,Ke,tt,lt,Fe=s[18].t("Chat")+"",st,qe,Ye,Ne,at,Tt=s[18].t("Title Auto-Generation")+"",rt,_t,$e,Ce,he,ye,Ge,At=s[18].t("Response AutoCopy to Clipboard")+"",Lt,vt,It,Ut,Bt,Ct,St,$t=s[18].t("Allow User Location")+"",jt,Yt,Mt,qt,Kt,kt,zt,Pt=s[18].t("Haptic Feedback")+"",Rt,hl,Nt,wl,vl,kl=s[18].t("Voice")+"",Il,Ll,ml,yl,Bl,Wl=s[18].t("Allow Voice Interruption in Call")+"",Kl,Ss,_l,Ms,Zl,El,Nl,Fl=s[18].t("Display Emoji in Call")+"",Gl,As,pl,Ls,xl,Dl,Yl=s[18].t("Save")+"",Xl,Bs,Gs,Ol=nt(s[19].filter(br)),Dt=[];for(let ne=0;ne<Ol.length;ne+=1)Dt[ne]=pr(_r(s,Ol,ne));function Xs(ne,Me){return ne[12]===!0?Ti:Di}let Jl=Xs(s),Gt=Jl(s),Vt=!s[17].chatBubble&&gr(s);function Js(ne,Me){return ne[6]===!0?Mi:Si}let Ql=Js(s),Xt=Ql(s);function Qs(ne,Me){return ne[13]==="LTR"?Li:Ai}let es=Qs(s),Jt=es(s);function ea(ne,Me){return ne[7]===!0?Ni:Bi}let ts=ea(s),Qt=ts(s);function ta(ne,Me){return ne[8]===!0?Oi:xi}let ls=ta(s),el=ls(s);function la(ne,Me){return ne[1]!==null?Ui:Hi}let ss=la(s),tl=ss(s);function sa(ne,Me){return ne[4]===!0?$i:Pi}let as=sa(s),ll=as(s);function aa(ne,Me){return ne[5]===!0?zi:ji}let rs=aa(s),sl=rs(s);function ra(ne,Me){return ne[9]===!0?Wi:Ri}let ns=ra(s),al=ns(s);function na(ne,Me){return ne[16]===!0?Fi:Zi}let os=na(s),rl=os(s);function oa(ne,Me){return ne[15]===!0?qi:Yi}let is=oa(s),nl=is(s);function ia(ne,Me){return ne[14]===!0?Gi:Ki}let cs=ia(s),ol=cs(s);return{c(){e=d("form"),t=d("input"),l=S(),a=d("div"),r=d("div"),o=d("div"),i=d("div"),f=d("div"),g=x(m),p=S(),_=d("div"),b=d("select"),w=d("option"),k=x(y);for(let ne=0;ne<Dt.length;ne+=1)Dt[ne].c();V=S(),I=d("hr"),D=S(),T=d("div"),E=d("div"),B=x(A),H=S(),Z=d("div"),N=d("div"),q=d("div"),C=x(j),L=S(),R=d("button"),Gt.c(),P=S(),Vt&&Vt.c(),F=S(),Y=d("div"),$=d("div"),W=d("div"),X=x(G),K=S(),re=d("button"),Xt.c(),te=S(),ue=d("div"),Ee=d("div"),be=d("div"),Pe=x(Be),Le=S(),de=d("button"),Jt.c(),ve=S(),xe=d("div"),Se=d("div"),Ze=d("div"),fe=x(le),Ie=S(),oe=d("button"),Qt.c(),De=S(),we=d("div"),Re=d("div"),ae=d("div"),ce=x(Ve),Te=S(),Qe=d("button"),el.c(),ee=S(),ie=d("div"),ke=d("div"),Oe=d("div"),ze=x(et),We=S(),Ke=d("button"),tl.c(),tt=S(),lt=d("div"),st=x(Fe),qe=S(),Ye=d("div"),Ne=d("div"),at=d("div"),rt=x(Tt),_t=S(),$e=d("button"),ll.c(),Ce=S(),he=d("div"),ye=d("div"),Ge=d("div"),Lt=x(At),vt=S(),It=d("button"),sl.c(),Ut=S(),Bt=d("div"),Ct=d("div"),St=d("div"),jt=x($t),Yt=S(),Mt=d("button"),al.c(),qt=S(),Kt=d("div"),kt=d("div"),zt=d("div"),Rt=x(Pt),hl=S(),Nt=d("button"),rl.c(),wl=S(),vl=d("div"),Il=x(kl),Ll=S(),ml=d("div"),yl=d("div"),Bl=d("div"),Kl=x(Wl),Ss=S(),_l=d("button"),nl.c(),Ms=S(),Zl=d("div"),El=d("div"),Nl=d("div"),Gl=x(Fl),As=S(),pl=d("button"),ol.c(),Ls=S(),xl=d("div"),Dl=d("button"),Xl=x(Yl),this.h()},l(ne){e=h(ne,"FORM",{class:!0});var Me=v(e);t=h(Me,"INPUT",{type:!0,accept:!0}),l=M(Me),a=h(Me,"DIV",{class:!0});var dt=v(a);r=h(dt,"DIV",{class:!0});var Tl=v(r);o=h(Tl,"DIV",{class:!0});var ca=v(o);i=h(ca,"DIV",{class:!0});var ua=v(i);f=h(ua,"DIV",{class:!0});var fa=v(f);g=O(fa,m),fa.forEach(u),ua.forEach(u),ca.forEach(u),p=M(Tl),_=h(Tl,"DIV",{class:!0});var da=v(_);b=h(da,"SELECT",{class:!0,placeholder:!0});var Ns=v(b);w=h(Ns,"OPTION",{});var ha=v(w);k=O(ha,y),ha.forEach(u);for(let xs=0;xs<Dt.length;xs+=1)Dt[xs].l(Ns);Ns.forEach(u),da.forEach(u),Tl.forEach(u),V=M(dt),I=h(dt,"HR",{class:!0}),D=M(dt),T=h(dt,"DIV",{});var Xe=v(T);E=h(Xe,"DIV",{class:!0});var va=v(E);B=O(va,A),va.forEach(u),H=M(Xe),Z=h(Xe,"DIV",{});var ma=v(Z);N=h(ma,"DIV",{class:!0});var us=v(N);q=h(us,"DIV",{class:!0});var _a=v(q);C=O(_a,j),_a.forEach(u),L=M(us),R=h(us,"BUTTON",{class:!0,type:!0});var pa=v(R);Gt.l(pa),pa.forEach(u),us.forEach(u),ma.forEach(u),P=M(Xe),Vt&&Vt.l(Xe),F=M(Xe),Y=h(Xe,"DIV",{});var ga=v(Y);$=h(ga,"DIV",{class:!0});var fs=v($);W=h(fs,"DIV",{class:!0});var ba=v(W);X=O(ba,G),ba.forEach(u),K=M(fs),re=h(fs,"BUTTON",{class:!0,type:!0});var wa=v(re);Xt.l(wa),wa.forEach(u),fs.forEach(u),ga.forEach(u),te=M(Xe),ue=h(Xe,"DIV",{});var ka=v(ue);Ee=h(ka,"DIV",{class:!0});var ds=v(Ee);be=h(ds,"DIV",{class:!0});var ya=v(be);Pe=O(ya,Be),ya.forEach(u),Le=M(ds),de=h(ds,"BUTTON",{class:!0,type:!0});var Ea=v(de);Jt.l(Ea),Ea.forEach(u),ds.forEach(u),ka.forEach(u),ve=M(Xe),xe=h(Xe,"DIV",{});var Ia=v(xe);Se=h(Ia,"DIV",{class:!0});var hs=v(Se);Ze=h(hs,"DIV",{class:!0});var Da=v(Ze);fe=O(Da,le),Da.forEach(u),Ie=M(hs),oe=h(hs,"BUTTON",{class:!0,type:!0});var Ta=v(oe);Qt.l(Ta),Ta.forEach(u),hs.forEach(u),Ia.forEach(u),De=M(Xe),we=h(Xe,"DIV",{});var Va=v(we);Re=h(Va,"DIV",{class:!0});var vs=v(Re);ae=h(vs,"DIV",{class:!0});var Ca=v(ae);ce=O(Ca,Ve),Ca.forEach(u),Te=M(vs),Qe=h(vs,"BUTTON",{class:!0,type:!0});var Sa=v(Qe);el.l(Sa),Sa.forEach(u),vs.forEach(u),Va.forEach(u),ee=M(Xe),ie=h(Xe,"DIV",{});var Ma=v(ie);ke=h(Ma,"DIV",{class:!0});var ms=v(ke);Oe=h(ms,"DIV",{class:!0});var Aa=v(Oe);ze=O(Aa,et),Aa.forEach(u),We=M(ms),Ke=h(ms,"BUTTON",{class:!0,type:!0});var La=v(Ke);tl.l(La),La.forEach(u),ms.forEach(u),Ma.forEach(u),tt=M(Xe),lt=h(Xe,"DIV",{class:!0});var Ba=v(lt);st=O(Ba,Fe),Ba.forEach(u),qe=M(Xe),Ye=h(Xe,"DIV",{});var Na=v(Ye);Ne=h(Na,"DIV",{class:!0});var _s=v(Ne);at=h(_s,"DIV",{class:!0});var xa=v(at);rt=O(xa,Tt),xa.forEach(u),_t=M(_s),$e=h(_s,"BUTTON",{class:!0,type:!0});var Oa=v($e);ll.l(Oa),Oa.forEach(u),_s.forEach(u),Na.forEach(u),Ce=M(Xe),he=h(Xe,"DIV",{});var Ha=v(he);ye=h(Ha,"DIV",{class:!0});var ps=v(ye);Ge=h(ps,"DIV",{class:!0});var Ua=v(Ge);Lt=O(Ua,At),Ua.forEach(u),vt=M(ps),It=h(ps,"BUTTON",{class:!0,type:!0});var Pa=v(It);sl.l(Pa),Pa.forEach(u),ps.forEach(u),Ha.forEach(u),Ut=M(Xe),Bt=h(Xe,"DIV",{});var $a=v(Bt);Ct=h($a,"DIV",{class:!0});var gs=v(Ct);St=h(gs,"DIV",{class:!0});var ja=v(St);jt=O(ja,$t),ja.forEach(u),Yt=M(gs),Mt=h(gs,"BUTTON",{class:!0,type:!0});var za=v(Mt);al.l(za),za.forEach(u),gs.forEach(u),$a.forEach(u),qt=M(Xe),Kt=h(Xe,"DIV",{});var Ra=v(Kt);kt=h(Ra,"DIV",{class:!0});var bs=v(kt);zt=h(bs,"DIV",{class:!0});var Wa=v(zt);Rt=O(Wa,Pt),Wa.forEach(u),hl=M(bs),Nt=h(bs,"BUTTON",{class:!0,type:!0});var Za=v(Nt);rl.l(Za),Za.forEach(u),bs.forEach(u),Ra.forEach(u),wl=M(Xe),vl=h(Xe,"DIV",{class:!0});var Fa=v(vl);Il=O(Fa,kl),Fa.forEach(u),Ll=M(Xe),ml=h(Xe,"DIV",{});var Ya=v(ml);yl=h(Ya,"DIV",{class:!0});var ws=v(yl);Bl=h(ws,"DIV",{class:!0});var qa=v(Bl);Kl=O(qa,Wl),qa.forEach(u),Ss=M(ws),_l=h(ws,"BUTTON",{class:!0,type:!0});var Ka=v(_l);nl.l(Ka),Ka.forEach(u),ws.forEach(u),Ya.forEach(u),Ms=M(Xe),Zl=h(Xe,"DIV",{});var Ga=v(Zl);El=h(Ga,"DIV",{class:!0});var ks=v(El);Nl=h(ks,"DIV",{class:!0});var Xa=v(Nl);Gl=O(Xa,Fl),Xa.forEach(u),As=M(ks),pl=h(ks,"BUTTON",{class:!0,type:!0});var Ja=v(pl);ol.l(Ja),Ja.forEach(u),ks.forEach(u),Ga.forEach(u),Xe.forEach(u),dt.forEach(u),Ls=M(Me),xl=h(Me,"DIV",{class:!0});var Qa=v(xl);Dl=h(Qa,"BUTTON",{class:!0,type:!0});var er=v(Dl);Xl=O(er,Yl),er.forEach(u),Qa.forEach(u),Me.forEach(u),this.h()},h(){c(t,"type","file"),t.hidden=!0,c(t,"accept","image/*"),c(f,"class","text-sm font-medium"),c(i,"class","flex justify-between items-center text-xs"),c(o,"class","mb-2"),w.__value="",je(w,w.__value),w.disabled=!0,w.selected=!0,c(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(b,"placeholder","Select a model"),s[10]===void 0&&Ml(()=>s[38].call(b)),c(_,"class","flex-1 mr-2"),c(r,"class","space-y-1 mb-3"),c(I,"class","dark:border-gray-850"),c(E,"class","mb-1.5 text-sm font-medium"),c(q,"class","self-center text-xs"),c(R,"class","p-1 px-3 text-xs flex rounded transition"),c(R,"type","button"),c(N,"class","py-0.5 flex w-full justify-between"),c(W,"class","self-center text-xs"),c(re,"class","p-1 px-3 text-xs flex rounded transition"),c(re,"type","button"),c($,"class","py-0.5 flex w-full justify-between"),c(be,"class","self-center text-xs"),c(de,"class","p-1 px-3 text-xs flex rounded transition"),c(de,"type","button"),c(Ee,"class","py-0.5 flex w-full justify-between"),c(Ze,"class","self-center text-xs"),c(oe,"class","p-1 px-3 text-xs flex rounded transition"),c(oe,"type","button"),c(Se,"class","py-0.5 flex w-full justify-between"),c(ae,"class","self-center text-xs"),c(Qe,"class","p-1 px-3 text-xs flex rounded transition"),c(Qe,"type","button"),c(Re,"class","py-0.5 flex w-full justify-between"),c(Oe,"class","self-center text-xs"),c(Ke,"class","p-1 px-3 text-xs flex rounded transition"),c(Ke,"type","button"),c(ke,"class","py-0.5 flex w-full justify-between"),c(lt,"class","my-1.5 text-sm font-medium"),c(at,"class","self-center text-xs"),c($e,"class","p-1 px-3 text-xs flex rounded transition"),c($e,"type","button"),c(Ne,"class","py-0.5 flex w-full justify-between"),c(Ge,"class","self-center text-xs"),c(It,"class","p-1 px-3 text-xs flex rounded transition"),c(It,"type","button"),c(ye,"class","py-0.5 flex w-full justify-between"),c(St,"class","self-center text-xs"),c(Mt,"class","p-1 px-3 text-xs flex rounded transition"),c(Mt,"type","button"),c(Ct,"class","py-0.5 flex w-full justify-between"),c(zt,"class","self-center text-xs"),c(Nt,"class","p-1 px-3 text-xs flex rounded transition"),c(Nt,"type","button"),c(kt,"class","py-0.5 flex w-full justify-between"),c(vl,"class","my-1.5 text-sm font-medium"),c(Bl,"class","self-center text-xs"),c(_l,"class","p-1 px-3 text-xs flex rounded transition"),c(_l,"type","button"),c(yl,"class","py-0.5 flex w-full justify-between"),c(Nl,"class","self-center text-xs"),c(pl,"class","p-1 px-3 text-xs flex rounded transition"),c(pl,"type","button"),c(El,"class","py-0.5 flex w-full justify-between"),c(a,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem] scrollbar-hidden"),c(Dl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(Dl,"type","submit"),c(xl,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ne,Me){z(ne,e,Me),n(e,t),s[35](t),n(e,l),n(e,a),n(a,r),n(r,o),n(o,i),n(i,f),n(f,g),n(r,p),n(r,_),n(_,b),n(b,w),n(w,k);for(let dt=0;dt<Dt.length;dt+=1)Dt[dt]&&Dt[dt].m(b,null);Wt(b,s[10],!0),n(a,V),n(a,I),n(a,D),n(a,T),n(T,E),n(E,B),n(T,H),n(T,Z),n(Z,N),n(N,q),n(q,C),n(N,L),n(N,R),Gt.m(R,null),n(T,P),Vt&&Vt.m(T,null),n(T,F),n(T,Y),n(Y,$),n($,W),n(W,X),n($,K),n($,re),Xt.m(re,null),n(T,te),n(T,ue),n(ue,Ee),n(Ee,be),n(be,Pe),n(Ee,Le),n(Ee,de),Jt.m(de,null),n(T,ve),n(T,xe),n(xe,Se),n(Se,Ze),n(Ze,fe),n(Se,Ie),n(Se,oe),Qt.m(oe,null),n(T,De),n(T,we),n(we,Re),n(Re,ae),n(ae,ce),n(Re,Te),n(Re,Qe),el.m(Qe,null),n(T,ee),n(T,ie),n(ie,ke),n(ke,Oe),n(Oe,ze),n(ke,We),n(ke,Ke),tl.m(Ke,null),n(T,tt),n(T,lt),n(lt,st),n(T,qe),n(T,Ye),n(Ye,Ne),n(Ne,at),n(at,rt),n(Ne,_t),n(Ne,$e),ll.m($e,null),n(T,Ce),n(T,he),n(he,ye),n(ye,Ge),n(Ge,Lt),n(ye,vt),n(ye,It),sl.m(It,null),n(T,Ut),n(T,Bt),n(Bt,Ct),n(Ct,St),n(St,jt),n(Ct,Yt),n(Ct,Mt),al.m(Mt,null),n(T,qt),n(T,Kt),n(Kt,kt),n(kt,zt),n(zt,Rt),n(kt,hl),n(kt,Nt),rl.m(Nt,null),n(T,wl),n(T,vl),n(vl,Il),n(T,Ll),n(T,ml),n(ml,yl),n(yl,Bl),n(Bl,Kl),n(yl,Ss),n(yl,_l),nl.m(_l,null),n(T,Ms),n(T,Zl),n(Zl,El),n(El,Nl),n(Nl,Gl),n(El,As),n(El,pl),ol.m(pl,null),n(e,Ls),n(e,xl),n(xl,Dl),n(Dl,Xl),Bs||(Gs=[Q(t,"change",s[36]),Q(t,"change",s[37]),Q(b,"change",s[38]),Q(R,"click",s[39]),Q(re,"click",s[41]),Q(de,"click",s[33]),Q(oe,"click",s[42]),Q(Qe,"click",s[43]),Q(Ke,"click",s[44]),Q($e,"click",s[45]),Q(It,"click",s[46]),Q(Mt,"click",s[47]),Q(Nt,"click",s[48]),Q(_l,"click",s[49]),Q(pl,"click",s[50]),Q(e,"submit",zl(s[51]))],Bs=!0)},p(ne,Me){if(Me[0]&262144&&m!==(m=ne[18].t("Default Model")+"")&&U(g,m),Me[0]&262144&&y!==(y=ne[18].t("Select a model")+"")&&U(k,y),Me[0]&524288){Ol=nt(ne[19].filter(br));let dt;for(dt=0;dt<Ol.length;dt+=1){const Tl=_r(ne,Ol,dt);Dt[dt]?Dt[dt].p(Tl,Me):(Dt[dt]=pr(Tl),Dt[dt].c(),Dt[dt].m(b,null))}for(;dt<Dt.length;dt+=1)Dt[dt].d(1);Dt.length=Ol.length}Me[0]&525312&&Wt(b,ne[10]),Me[0]&262144&&A!==(A=ne[18].t("UI")+"")&&U(B,A),Me[0]&262144&&j!==(j=ne[18].t("Chat Bubble UI")+"")&&U(C,j),Jl===(Jl=Xs(ne))&&Gt?Gt.p(ne,Me):(Gt.d(1),Gt=Jl(ne),Gt&&(Gt.c(),Gt.m(R,null))),ne[17].chatBubble?Vt&&(Vt.d(1),Vt=null):Vt?Vt.p(ne,Me):(Vt=gr(ne),Vt.c(),Vt.m(T,F)),Me[0]&262144&&G!==(G=ne[18].t("Widescreen Mode")+"")&&U(X,G),Ql===(Ql=Js(ne))&&Xt?Xt.p(ne,Me):(Xt.d(1),Xt=Ql(ne),Xt&&(Xt.c(),Xt.m(re,null))),Me[0]&262144&&Be!==(Be=ne[18].t("Chat direction")+"")&&U(Pe,Be),es===(es=Qs(ne))&&Jt?Jt.p(ne,Me):(Jt.d(1),Jt=es(ne),Jt&&(Jt.c(),Jt.m(de,null))),Me[0]&262144&&le!==(le=ne[18].t("Fluidly stream large external response chunks")+"")&&U(fe,le),ts===(ts=ea(ne))&&Qt?Qt.p(ne,Me):(Qt.d(1),Qt=ts(ne),Qt&&(Qt.c(),Qt.m(oe,null))),Me[0]&262144&&Ve!==(Ve=ne[18].t("Scroll to bottom when switching between branches")+"")&&U(ce,Ve),ls===(ls=ta(ne))&&el?el.p(ne,Me):(el.d(1),el=ls(ne),el&&(el.c(),el.m(Qe,null))),Me[0]&262144&&et!==(et=ne[18].t("Chat Background Image")+"")&&U(ze,et),ss===(ss=la(ne))&&tl?tl.p(ne,Me):(tl.d(1),tl=ss(ne),tl&&(tl.c(),tl.m(Ke,null))),Me[0]&262144&&Fe!==(Fe=ne[18].t("Chat")+"")&&U(st,Fe),Me[0]&262144&&Tt!==(Tt=ne[18].t("Title Auto-Generation")+"")&&U(rt,Tt),as===(as=sa(ne))&&ll?ll.p(ne,Me):(ll.d(1),ll=as(ne),ll&&(ll.c(),ll.m($e,null))),Me[0]&262144&&At!==(At=ne[18].t("Response AutoCopy to Clipboard")+"")&&U(Lt,At),rs===(rs=aa(ne))&&sl?sl.p(ne,Me):(sl.d(1),sl=rs(ne),sl&&(sl.c(),sl.m(It,null))),Me[0]&262144&&$t!==($t=ne[18].t("Allow User Location")+"")&&U(jt,$t),ns===(ns=ra(ne))&&al?al.p(ne,Me):(al.d(1),al=ns(ne),al&&(al.c(),al.m(Mt,null))),Me[0]&262144&&Pt!==(Pt=ne[18].t("Haptic Feedback")+"")&&U(Rt,Pt),os===(os=na(ne))&&rl?rl.p(ne,Me):(rl.d(1),rl=os(ne),rl&&(rl.c(),rl.m(Nt,null))),Me[0]&262144&&kl!==(kl=ne[18].t("Voice")+"")&&U(Il,kl),Me[0]&262144&&Wl!==(Wl=ne[18].t("Allow Voice Interruption in Call")+"")&&U(Kl,Wl),is===(is=oa(ne))&&nl?nl.p(ne,Me):(nl.d(1),nl=is(ne),nl&&(nl.c(),nl.m(_l,null))),Me[0]&262144&&Fl!==(Fl=ne[18].t("Display Emoji in Call")+"")&&U(Gl,Fl),cs===(cs=ia(ne))&&ol?ol.p(ne,Me):(ol.d(1),ol=cs(ne),ol&&(ol.c(),ol.m(pl,null))),Me[0]&262144&&Yl!==(Yl=ne[18].t("Save")+"")&&U(Xl,Yl)},i:Ue,o:Ue,d(ne){ne&&u(e),s[35](null),Ht(Dt,ne),Gt.d(),Vt&&Vt.d(),Xt.d(),Jt.d(),Qt.d(),el.d(),tl.d(),ll.d(),sl.d(),al.d(),rl.d(),nl.d(),ol.d(),Bs=!1,ht(Gs)}}}const br=s=>s.id;function Ji(s,e,t){let l,a,r,o;Ae(s,bl,oe=>t(17,l=oe)),Ae(s,Cs,oe=>t(52,a=oe)),Ae(s,qs,oe=>t(19,o=oe));const i=fl(),f=gt("i18n");Ae(s,f,oe=>t(18,r=oe));let{saveSettings:m}=e,g=null,p=null,_,b=!0,w=!1,y=!1,k=!1,V=!0,I=!1,D="",T=!1,E=!0,A="LTR",B=!1,H=!1,Z=!1;const N=async()=>{t(7,k=!k),m({splitLargeChunks:k})},q=async()=>{t(8,V=!V),m({scrollOnBranchChange:V})},j=async()=>{t(6,y=!y),m({widescreenMode:y})},C=async()=>{t(12,E=!E),m({chatBubble:E})},L=async()=>{t(11,T=!T),m({showUsername:T})},R=async()=>{t(14,B=!B),m({showEmojiInCall:B})},P=async()=>{t(15,H=!H),m({voiceInterruption:H})},F=async()=>{t(16,Z=!Z),m({hapticFeedback:Z})},Y=async()=>{if(t(9,I=!I),I){const oe=await ho().catch(De=>(Je.error(De.message),null));oe?(await Bn(localStorage.token,{location:oe}),Je.success(r.t("User location successfully retrieved."))):t(9,I=!1)}m({userLocation:I})},$=async()=>{t(4,b=!b),m({title:{...l.title,auto:b}})},W=async()=>{const oe=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(oe),oe==="granted"?(t(5,w=!w),m({responseAutoCopy:w})):Je.error(r.t("Clipboard write permission denied. Please check your browser settings to grant the necessary access."))},G=async()=>{t(13,A=A==="LTR"?"RTL":"LTR"),m({chatDirection:A})},X=async()=>{m({models:[D]})};ul(async()=>{var oe,De;t(4,b=((oe=l==null?void 0:l.title)==null?void 0:oe.auto)??!0),t(5,w=l.responseAutoCopy??!1),t(11,T=l.showUsername??!1),t(14,B=l.showEmojiInCall??!1),t(15,H=l.voiceInterruption??!1),t(12,E=l.chatBubble??!0),t(6,y=l.widescreenMode??!1),t(7,k=l.splitLargeChunks??!1),t(8,V=l.scrollOnBranchChange??!0),t(13,A=l.chatDirection??"LTR"),t(9,I=l.userLocation??!1),t(16,Z=l.hapticFeedback??!1),t(10,D=((De=l==null?void 0:l.models)==null?void 0:De.at(0))??""),a!=null&&a.default_models&&t(10,D=a.default_models.split(",")[0]),t(1,g=l.backgroundImageUrl??null)});function K(oe){mt[oe?"unshift":"push"](()=>{_=oe,t(3,_)})}function re(){p=this.files,t(2,p)}const te=()=>{let oe=new FileReader;oe.onload=De=>{let we=`${De.target.result}`;t(1,g=we),m({backgroundImageUrl:g})},p&&p.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(p[0].type)?oe.readAsDataURL(p[0]):(console.log(`Unsupported File Type '${p[0].type}'.`),t(2,p=null))};function ue(){D=Pl(this),t(10,D)}const Ee=()=>{C()},be=()=>{L()},Be=()=>{j()},Pe=()=>{N()},Le=()=>{q()},de=()=>{g!==null?(t(1,g=null),m({backgroundImageUrl:g})):_.click()},ve=()=>{$()},xe=()=>{W()},Se=()=>{Y()},Ze=()=>{F()},le=()=>{P()},fe=()=>{R()},Ie=()=>{X(),i("save")};return s.$$set=oe=>{"saveSettings"in oe&&t(0,m=oe.saveSettings)},[m,g,p,_,b,w,y,k,V,I,D,T,E,A,B,H,Z,l,r,o,i,f,N,q,j,C,L,R,P,F,Y,$,W,G,X,K,re,te,ue,Ee,be,Be,Pe,Le,de,ve,xe,Se,Ze,le,fe,Ie]}class Qi extends ut{constructor(e){super(),ft(this,e,Ji,Xi,ct,{saveSettings:0},null,[-1,-1])}}function wr(s,e,t){const l=s.slice();return l[9]=e[t],l}function kr(s,e,t){const l=s.slice();return l[27]=e[t],l}function yr(s,e,t){const l=s.slice();return l[32]=e[t],l}function Er(s){let e,t,l=s[8].t("Speech-to-Text Engine")+"",a,r,o,i,f,m=s[8].t("Default")+"",g,p,_=s[8].t("Web API")+"",b,w,y;return{c(){e=d("div"),t=d("div"),a=x(l),r=S(),o=d("div"),i=d("select"),f=d("option"),g=x(m),p=d("option"),b=x(_),this.h()},l(k){e=h(k,"DIV",{class:!0});var V=v(e);t=h(V,"DIV",{class:!0});var I=v(t);a=O(I,l),I.forEach(u),r=M(V),o=h(V,"DIV",{class:!0});var D=v(o);i=h(D,"SELECT",{class:!0,placeholder:!0});var T=v(i);f=h(T,"OPTION",{});var E=v(f);g=O(E,m),E.forEach(u),p=h(T,"OPTION",{});var A=v(p);b=O(A,_),A.forEach(u),T.forEach(u),D.forEach(u),V.forEach(u),this.h()},h(){c(t,"class","self-center text-xs font-medium"),f.__value="",je(f,f.__value),p.__value="web",je(p,p.__value),c(i,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),c(i,"placeholder","Select an engine"),s[4]===void 0&&Ml(()=>s[15].call(i)),c(o,"class","flex items-center relative"),c(e,"class","py-0.5 flex w-full justify-between")},m(k,V){z(k,e,V),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,g),n(i,p),n(p,b),Wt(i,s[4],!0),w||(y=Q(i,"change",s[15]),w=!0)},p(k,V){V[0]&256&&l!==(l=k[8].t("Speech-to-Text Engine")+"")&&U(a,l),V[0]&256&&m!==(m=k[8].t("Default")+"")&&U(g,m),V[0]&256&&_!==(_=k[8].t("Web API")+"")&&U(b,_),V[0]&16&&Wt(i,k[4])},d(k){k&&u(e),w=!1,y()}}}function ec(s){let e,t=s[8].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function tc(s){let e,t=s[8].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function lc(s){let e,t=s[8].t("Off")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].t("Off")+"")&&U(l,t)},d(a){a&&u(e)}}}function sc(s){let e,t=s[8].t("On")+"",l;return{c(){e=d("span"),l=x(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","ml-2 self-center")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].t("On")+"")&&U(l,t)},d(a){a&&u(e)}}}function Ir(s){let e,t=s[32]+"",l,a,r;return{c(){e=d("option"),l=x(t),a=x("x"),this.h()},l(o){e=h(o,"OPTION",{});var i=v(e);l=O(i,t),a=O(i,"x"),i.forEach(u),this.h()},h(){e.__value=s[32],je(e,e.__value),e.selected=r=s[6]===s[32]},m(o,i){z(o,e,i),n(e,l),n(e,a)},p(o,i){i[0]&4160&&r!==(r=o[6]===o[32])&&(e.selected=r)},d(o){o&&u(e)}}}function ac(s){let e,t,l=s[8].t("Set Voice")+"",a,r,o,i,f,m,g,p,_,b=nt(s[5]),w=[];for(let y=0;y<b.length;y+=1)w[y]=Dr(wr(s,b,y));return{c(){e=d("div"),t=d("div"),a=x(l),r=S(),o=d("div"),i=d("div"),f=d("input"),m=S(),g=d("datalist");for(let y=0;y<w.length;y+=1)w[y].c();this.h()},l(y){e=h(y,"DIV",{});var k=v(e);t=h(k,"DIV",{class:!0});var V=v(t);a=O(V,l),V.forEach(u),r=M(k),o=h(k,"DIV",{class:!0});var I=v(o);i=h(I,"DIV",{class:!0});var D=v(i);f=h(D,"INPUT",{list:!0,class:!0,placeholder:!0}),m=M(D),g=h(D,"DATALIST",{id:!0});var T=v(g);for(let E=0;E<w.length;E+=1)w[E].l(T);T.forEach(u),D.forEach(u),I.forEach(u),k.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),c(f,"list","voice-list"),c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),c(f,"placeholder","Select a voice"),c(g,"id","voice-list"),c(i,"class","flex-1"),c(o,"class","flex w-full")},m(y,k){z(y,e,k),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),je(f,s[9]),n(i,m),n(i,g);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(g,null);p||(_=Q(f,"input",s[22]),p=!0)},p(y,k){if(k[0]&256&&l!==(l=y[8].t("Set Voice")+"")&&U(a,l),k[0]&552&&f.value!==y[9]&&je(f,y[9]),k[0]&32){b=nt(y[5]);let V;for(V=0;V<b.length;V+=1){const I=wr(y,b,V);w[V]?w[V].p(I,k):(w[V]=Dr(I),w[V].c(),w[V].m(g,null))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},i:Ue,o:Ue,d(y){y&&u(e),Ht(w,y),p=!1,_()}}}function rc(s){let e,t,l=s[8].t("Set Voice")+"",a,r,o,i,f,m,g=s[8].t("Default")+"",p,_,b,w,y,k=s[8].t("Allow non-local voices")+"",V,I,D,T,E,A,B,H,Z=nt(s[5].filter(s[19])),N=[];for(let C=0;C<Z.length;C+=1)N[C]=Tr(kr(s,Z,C));function q(C){s[21](C)}let j={};return s[3]!==void 0&&(j.state=s[3]),T=new In({props:j}),mt.push(()=>Et(T,"state",q)),{c(){e=d("div"),t=d("div"),a=x(l),r=S(),o=d("div"),i=d("div"),f=d("select"),m=d("option"),p=x(g);for(let C=0;C<N.length;C+=1)N[C].c();b=S(),w=d("div"),y=d("div"),V=x(k),I=S(),D=d("div"),me(T.$$.fragment),this.h()},l(C){e=h(C,"DIV",{});var L=v(e);t=h(L,"DIV",{class:!0});var R=v(t);a=O(R,l),R.forEach(u),r=M(L),o=h(L,"DIV",{class:!0});var P=v(o);i=h(P,"DIV",{class:!0});var F=v(i);f=h(F,"SELECT",{class:!0});var Y=v(f);m=h(Y,"OPTION",{});var $=v(m);p=O($,g),$.forEach(u);for(let K=0;K<N.length;K+=1)N[K].l(Y);Y.forEach(u),F.forEach(u),P.forEach(u),b=M(L),w=h(L,"DIV",{class:!0});var W=v(w);y=h(W,"DIV",{class:!0});var G=v(y);V=O(G,k),G.forEach(u),I=M(W),D=h(W,"DIV",{class:!0});var X=v(D);_e(T.$$.fragment,X),X.forEach(u),W.forEach(u),L.forEach(u),this.h()},h(){c(t,"class","mb-2.5 text-sm font-medium"),m.__value="",je(m,m.__value),m.selected=_=s[9]!=="",c(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[9]===void 0&&Ml(()=>s[20].call(f)),c(i,"class","flex-1"),c(o,"class","flex w-full"),c(y,"class","text-xs"),c(D,"class","mt-1"),c(w,"class","flex items-center justify-between my-1.5")},m(C,L){z(C,e,L),n(e,t),n(t,a),n(e,r),n(e,o),n(o,i),n(i,f),n(f,m),n(m,p);for(let R=0;R<N.length;R+=1)N[R]&&N[R].m(f,null);Wt(f,s[9],!0),n(e,b),n(e,w),n(w,y),n(y,V),n(w,I),n(w,D),pe(T,D,null),A=!0,B||(H=Q(f,"change",s[20]),B=!0)},p(C,L){if((!A||L[0]&256)&&l!==(l=C[8].t("Set Voice")+"")&&U(a,l),(!A||L[0]&256)&&g!==(g=C[8].t("Default")+"")&&U(p,g),(!A||L[0]&552&&_!==(_=C[9]!==""))&&(m.selected=_),L[0]&552){Z=nt(C[5].filter(C[19]));let P;for(P=0;P<Z.length;P+=1){const F=kr(C,Z,P);N[P]?N[P].p(F,L):(N[P]=Tr(F),N[P].c(),N[P].m(f,null))}for(;P<N.length;P+=1)N[P].d(1);N.length=Z.length}L[0]&552&&Wt(f,C[9]),(!A||L[0]&256)&&k!==(k=C[8].t("Allow non-local voices")+"")&&U(V,k);const R={};!E&&L[0]&8&&(E=!0,R.state=C[3],yt(()=>E=!1)),T.$set(R)},i(C){A||(J(T.$$.fragment,C),A=!0)},o(C){se(T.$$.fragment,C),A=!1},d(C){C&&u(e),Ht(N,C),ge(T),B=!1,H()}}}function Dr(s){let e,t=s[9].name+"",l,a;return{c(){e=d("option"),l=x(t),this.h()},l(r){e=h(r,"OPTION",{});var o=v(e);l=O(o,t),o.forEach(u),this.h()},h(){e.__value=a=s[9].id,je(e,e.__value)},m(r,o){z(r,e,o),n(e,l)},p(r,o){o[0]&32&&t!==(t=r[9].name+"")&&U(l,t),o[0]&32&&a!==(a=r[9].id)&&(e.__value=a,je(e,e.__value))},d(r){r&&u(e)}}}function Tr(s){let e,t=s[27].name+"",l,a,r;return{c(){e=d("option"),l=x(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=v(e);l=O(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[27].name,je(e,e.__value),c(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=r=s[9]===s[27].name},m(o,i){z(o,e,i),n(e,l)},p(o,i){i[0]&40&&t!==(t=o[27].name+"")&&U(l,t),i[0]&40&&a!==(a=o[27].name)&&(e.__value=a,je(e,e.__value)),i[0]&552&&r!==(r=o[9]===o[27].name)&&(e.selected=r)},d(o){o&&u(e)}}}function nc(s){let e,t,l,a,r=s[8].t("STT Settings")+"",o,i,f,m,g,p=s[8].t("Instant Auto-Send After Voice Transcription")+"",_,b,w,y,k,V,I=s[8].t("TTS Settings")+"",D,T,E,A,B=s[8].t("Auto-playback response")+"",H,Z,N,q,j,C,L=s[8].t("Speech Playback Speed")+"",R,P,F,Y,$,W,G,X,K,re,te,ue,Ee=s[8].t("Save")+"",be,Be,Pe,Le,de=s[7].audio.stt.engine!=="web"&&Er(s);function ve(ae,Ve){return ae[1]===!0?tc:ec}let xe=ve(s),Se=xe(s);function Ze(ae,Ve){return ae[2]===!0?sc:lc}let le=Ze(s),fe=le(s),Ie=nt(s[12]),oe=[];for(let ae=0;ae<Ie.length;ae+=1)oe[ae]=Ir(yr(s,Ie,ae));const De=[rc,ac],we=[];function Re(ae,Ve){return ae[7].audio.tts.engine===""?0:ae[7].audio.tts.engine!==""?1:-1}return~(X=Re(s))&&(K=we[X]=De[X](s)),{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=x(r),i=S(),de&&de.c(),f=S(),m=d("div"),g=d("div"),_=x(p),b=S(),w=d("button"),Se.c(),y=S(),k=d("div"),V=d("div"),D=x(I),T=S(),E=d("div"),A=d("div"),H=x(B),Z=S(),N=d("button"),fe.c(),q=S(),j=d("div"),C=d("div"),R=x(L),P=S(),F=d("div"),Y=d("select");for(let ae=0;ae<oe.length;ae+=1)oe[ae].c();$=S(),W=d("hr"),G=S(),K&&K.c(),re=S(),te=d("div"),ue=d("button"),be=x(Ee),this.h()},l(ae){e=h(ae,"FORM",{class:!0});var Ve=v(e);t=h(Ve,"DIV",{class:!0});var ce=v(t);l=h(ce,"DIV",{});var Te=v(l);a=h(Te,"DIV",{class:!0});var Qe=v(a);o=O(Qe,r),Qe.forEach(u),i=M(Te),de&&de.l(Te),f=M(Te),m=h(Te,"DIV",{class:!0});var ee=v(m);g=h(ee,"DIV",{class:!0});var ie=v(g);_=O(ie,p),ie.forEach(u),b=M(ee),w=h(ee,"BUTTON",{class:!0,type:!0});var ke=v(w);Se.l(ke),ke.forEach(u),ee.forEach(u),Te.forEach(u),y=M(ce),k=h(ce,"DIV",{});var Oe=v(k);V=h(Oe,"DIV",{class:!0});var et=v(V);D=O(et,I),et.forEach(u),T=M(Oe),E=h(Oe,"DIV",{class:!0});var ze=v(E);A=h(ze,"DIV",{class:!0});var We=v(A);H=O(We,B),We.forEach(u),Z=M(ze),N=h(ze,"BUTTON",{class:!0,type:!0});var Ke=v(N);fe.l(Ke),Ke.forEach(u),ze.forEach(u),q=M(Oe),j=h(Oe,"DIV",{class:!0});var tt=v(j);C=h(tt,"DIV",{class:!0});var lt=v(C);R=O(lt,L),lt.forEach(u),P=M(tt),F=h(tt,"DIV",{class:!0});var Fe=v(F);Y=h(Fe,"SELECT",{class:!0});var st=v(Y);for(let Ne=0;Ne<oe.length;Ne+=1)oe[Ne].l(st);st.forEach(u),Fe.forEach(u),tt.forEach(u),Oe.forEach(u),$=M(ce),W=h(ce,"HR",{class:!0}),G=M(ce),K&&K.l(ce),ce.forEach(u),re=M(Ve),te=h(Ve,"DIV",{class:!0});var qe=v(te);ue=h(qe,"BUTTON",{class:!0,type:!0});var Ye=v(ue);be=O(Ye,Ee),Ye.forEach(u),qe.forEach(u),Ve.forEach(u),this.h()},h(){c(a,"class","mb-1 text-sm font-medium"),c(g,"class","self-center text-xs font-medium"),c(w,"class","p-1 px-3 text-xs flex rounded transition"),c(w,"type","button"),c(m,"class","py-0.5 flex w-full justify-between"),c(V,"class","mb-1 text-sm font-medium"),c(A,"class","self-center text-xs font-medium"),c(N,"class","p-1 px-3 text-xs flex rounded transition"),c(N,"type","button"),c(E,"class","py-0.5 flex w-full justify-between"),c(C,"class","self-center text-xs font-medium"),c(Y,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),s[6]===void 0&&Ml(()=>s[18].call(Y)),c(F,"class","flex items-center relative"),c(j,"class","py-0.5 flex w-full justify-between"),c(W,"class","dark:border-gray-850"),c(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),c(ue,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(ue,"type","submit"),c(te,"class","flex justify-end text-sm font-medium"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ae,Ve){z(ae,e,Ve),n(e,t),n(t,l),n(l,a),n(a,o),n(l,i),de&&de.m(l,null),n(l,f),n(l,m),n(m,g),n(g,_),n(m,b),n(m,w),Se.m(w,null),n(t,y),n(t,k),n(k,V),n(V,D),n(k,T),n(k,E),n(E,A),n(A,H),n(E,Z),n(E,N),fe.m(N,null),n(k,q),n(k,j),n(j,C),n(C,R),n(j,P),n(j,F),n(F,Y);for(let ce=0;ce<oe.length;ce+=1)oe[ce]&&oe[ce].m(Y,null);Wt(Y,s[6],!0),n(t,$),n(t,W),n(t,G),~X&&we[X].m(t,null),n(e,re),n(e,te),n(te,ue),n(ue,be),Be=!0,Pe||(Le=[Q(w,"click",s[16]),Q(N,"click",s[17]),Q(Y,"change",s[18]),Q(e,"submit",zl(s[23]))],Pe=!0)},p(ae,Ve){if((!Be||Ve[0]&256)&&r!==(r=ae[8].t("STT Settings")+"")&&U(o,r),ae[7].audio.stt.engine!=="web"?de?de.p(ae,Ve):(de=Er(ae),de.c(),de.m(l,f)):de&&(de.d(1),de=null),(!Be||Ve[0]&256)&&p!==(p=ae[8].t("Instant Auto-Send After Voice Transcription")+"")&&U(_,p),xe===(xe=ve(ae))&&Se?Se.p(ae,Ve):(Se.d(1),Se=xe(ae),Se&&(Se.c(),Se.m(w,null))),(!Be||Ve[0]&256)&&I!==(I=ae[8].t("TTS Settings")+"")&&U(D,I),(!Be||Ve[0]&256)&&B!==(B=ae[8].t("Auto-playback response")+"")&&U(H,B),le===(le=Ze(ae))&&fe?fe.p(ae,Ve):(fe.d(1),fe=le(ae),fe&&(fe.c(),fe.m(N,null))),(!Be||Ve[0]&256)&&L!==(L=ae[8].t("Speech Playback Speed")+"")&&U(R,L),Ve[0]&4160){Ie=nt(ae[12]);let Te;for(Te=0;Te<Ie.length;Te+=1){const Qe=yr(ae,Ie,Te);oe[Te]?oe[Te].p(Qe,Ve):(oe[Te]=Ir(Qe),oe[Te].c(),oe[Te].m(Y,null))}for(;Te<oe.length;Te+=1)oe[Te].d(1);oe.length=Ie.length}Ve[0]&4160&&Wt(Y,ae[6]);let ce=X;X=Re(ae),X===ce?~X&&we[X].p(ae,Ve):(K&&(bt(),se(we[ce],1,1,()=>{we[ce]=null}),wt()),~X?(K=we[X],K?K.p(ae,Ve):(K=we[X]=De[X](ae),K.c()),J(K,1),K.m(t,null)):K=null),(!Be||Ve[0]&256)&&Ee!==(Ee=ae[8].t("Save")+"")&&U(be,Ee)},i(ae){Be||(J(K),Be=!0)},o(ae){se(K),Be=!1},d(ae){ae&&u(e),de&&de.d(),Se.d(),fe.d(),Ht(oe,ae),~X&&we[X].d(),Pe=!1,ht(Le)}}}function oc(s,e,t){let l,a,r;Ae(s,bl,C=>t(25,l=C)),Ae(s,Cs,C=>t(7,a=C));const o=fl(),i=gt("i18n");Ae(s,i,C=>t(8,r=C));let{saveSettings:f}=e,m=!1,g=!1,p=!1,_="",b=[],w="",y=1;const k=[2,1.75,1.5,1.25,1,.75,.5],V=async()=>{if(a.audio.tts.engine===""){const C=setInterval(async()=>{t(5,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(C)},100)}else{const C=await bo(localStorage.token).catch(L=>{Je.error(L)});C&&(console.log(C),t(5,b=C.voices))}},I=async()=>{t(2,g=!g),f({responseAutoPlayback:g})},D=async()=>{t(1,m=!m),f({speechAutoSend:m})};ul(async()=>{var C,L,R,P,F,Y,$,W,G,X;t(6,y=((L=(C=l.audio)==null?void 0:C.tts)==null?void 0:L.playbackRate)??1),l.conversationMode,t(1,m=l.speechAutoSend??!1),t(2,g=l.responseAutoPlayback??!1),t(4,_=((P=(R=l==null?void 0:l.audio)==null?void 0:R.stt)==null?void 0:P.engine)??""),((Y=(F=l==null?void 0:l.audio)==null?void 0:F.tts)==null?void 0:Y.defaultVoice)===a.audio.tts.voice?t(9,w=((W=($=l==null?void 0:l.audio)==null?void 0:$.tts)==null?void 0:W.voice)??a.audio.tts.voice??""):t(9,w=a.audio.tts.voice??""),t(3,p=((X=(G=l.audio)==null?void 0:G.tts)==null?void 0:X.nonLocalVoices)??!1),await V()});function T(){_=Pl(this),t(4,_)}const E=()=>{D()},A=()=>{I()};function B(){y=Pl(this),t(6,y),t(12,k)}const H=C=>p||C.localService===!0;function Z(){w=Pl(this),t(9,w),t(5,b),t(3,p)}function N(C){p=C,t(3,p)}function q(){w=this.value,t(9,w),t(5,b),t(3,p)}const j=async()=>{var C,L;f({audio:{stt:{engine:_!==""?_:void 0},tts:{playbackRate:y,voice:w!==""?w:void 0,defaultVoice:((L=(C=a==null?void 0:a.audio)==null?void 0:C.tts)==null?void 0:L.voice)??"",nonLocalVoices:a.audio.tts.engine===""?p:void 0}}}),o("save")};return s.$$set=C=>{"saveSettings"in C&&t(0,f=C.saveSettings)},[f,m,g,p,_,b,y,a,r,w,o,i,k,I,D,T,E,A,B,H,Z,N,q,j]}class ic extends ut{constructor(e){super(),ft(this,e,oc,nc,ct,{saveSettings:0},null,[-1,-1])}}function cc(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',a,r,o=s[4].t("Archive All Chats")+"",i,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=x(o),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-1duozwn"&&(t.innerHTML=l),a=M(p),r=h(p,"DIV",{class:!0});var _=v(r);i=O(_,o),_.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){z(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(m=Q(e,"click",s[16]),f=!0)},p(g,p){p&16&&o!==(o=g[4].t("Archive All Chats")+"")&&U(i,o)},d(g){g&&u(e),f=!1,m()}}}function uc(s){let e,t,l,a,r,o,i,f=s[4].t("Are you sure?")+"",m,g,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,I;return{c(){e=d("div"),t=d("div"),l=ot("svg"),a=ot("path"),r=ot("path"),o=S(),i=d("span"),m=x(f),g=S(),p=d("div"),_=d("button"),_.innerHTML=b,w=S(),y=d("button"),y.innerHTML=k,this.h()},l(D){e=h(D,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var E=v(t);l=it(E,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var A=v(l);a=it(A,"path",{d:!0}),v(a).forEach(u),r=it(A,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),A.forEach(u),o=M(E),i=h(E,"SPAN",{});var B=v(i);m=O(B,f),B.forEach(u),E.forEach(u),g=M(T),p=h(T,"DIV",{class:!0});var H=v(p);_=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),He(_)!=="svelte-88c061"&&(_.innerHTML=b),w=M(H),y=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),He(y)!=="svelte-1601eo8"&&(y.innerHTML=k),H.forEach(u),T.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(_,"class","hover:text-white transition"),c(y,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,T){z(D,e,T),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),n(e,p),n(p,_),n(p,w),n(p,y),V||(I=[Q(_,"click",s[14]),Q(y,"click",s[15])],V=!0)},p(D,T){T&16&&f!==(f=D[4].t("Are you sure?")+"")&&U(m,f)},d(D){D&&u(e),V=!1,ht(I)}}}function fc(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',a,r,o=s[4].t("Delete All Chats")+"",i,f,m;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=x(o),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),a=M(p),r=h(p,"DIV",{class:!0});var _=v(r);i=O(_,o),_.forEach(u),p.forEach(u),this.h()},h(){c(t,"class","self-center mr-3"),c(r,"class","self-center text-sm font-medium"),c(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(g,p){z(g,e,p),n(e,t),n(e,a),n(e,r),n(r,i),f||(m=Q(e,"click",s[19]),f=!0)},p(g,p){p&16&&o!==(o=g[4].t("Delete All Chats")+"")&&U(i,o)},d(g){g&&u(e),f=!1,m()}}}function dc(s){let e,t,l,a,r,o,i,f=s[4].t("Are you sure?")+"",m,g,p,_,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,I;return{c(){e=d("div"),t=d("div"),l=ot("svg"),a=ot("path"),r=ot("path"),o=S(),i=d("span"),m=x(f),g=S(),p=d("div"),_=d("button"),_.innerHTML=b,w=S(),y=d("button"),y.innerHTML=k,this.h()},l(D){e=h(D,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var E=v(t);l=it(E,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var A=v(l);a=it(A,"path",{d:!0}),v(a).forEach(u),r=it(A,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(r).forEach(u),A.forEach(u),o=M(E),i=h(E,"SPAN",{});var B=v(i);m=O(B,f),B.forEach(u),E.forEach(u),g=M(T),p=h(T,"DIV",{class:!0});var H=v(p);_=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),He(_)!=="svelte-19nv6qp"&&(_.innerHTML=b),w=M(H),y=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),He(y)!=="svelte-ekcykx"&&(y.innerHTML=k),H.forEach(u),T.forEach(u),this.h()},h(){c(a,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),c(r,"fill-rule","evenodd"),c(r,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),c(r,"clip-rule","evenodd"),c(l,"xmlns","http://www.w3.org/2000/svg"),c(l,"viewBox","0 0 16 16"),c(l,"fill","currentColor"),c(l,"class","w-4 h-4"),c(t,"class","flex items-center space-x-3"),c(_,"class","hover:text-white transition"),c(y,"class","hover:text-white transition"),c(p,"class","flex space-x-1.5 items-center"),c(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(D,T){z(D,e,T),n(e,t),n(t,l),n(l,a),n(l,r),n(t,o),n(t,i),n(i,m),n(e,g),n(e,p),n(p,_),n(p,w),n(p,y),V||(I=[Q(_,"click",s[17]),Q(y,"click",s[18])],V=!0)},p(D,T){T&16&&f!==(f=D[4].t("Are you sure?")+"")&&U(m,f)},d(D){D&&u(e),V=!1,ht(I)}}}function hc(s){let e,t,l,a,r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',m,g,p=s[4].t("Import Chats")+"",_,b,w,y,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',V,I,D=s[4].t("Export Chats")+"",T,E,A,B,H,Z,N,q;function j(Y,$){return Y[1]?uc:cc}let C=j(s),L=C(s);function R(Y,$){return Y[2]?dc:fc}let P=R(s),F=P(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),r=S(),o=d("button"),i=d("div"),i.innerHTML=f,m=S(),g=d("div"),_=x(p),b=S(),w=d("button"),y=d("div"),y.innerHTML=k,V=S(),I=d("div"),T=x(D),E=S(),A=d("hr"),B=S(),H=d("div"),L.c(),Z=S(),F.c(),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var $=v(e);t=h($,"DIV",{class:!0});var W=v(t);l=h(W,"DIV",{class:!0});var G=v(l);a=h(G,"INPUT",{id:!0,type:!0,accept:!0}),r=M(G),o=h(G,"BUTTON",{class:!0});var X=v(o);i=h(X,"DIV",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-135keqh"&&(i.innerHTML=f),m=M(X),g=h(X,"DIV",{class:!0});var K=v(g);_=O(K,p),K.forEach(u),X.forEach(u),b=M(G),w=h(G,"BUTTON",{class:!0});var re=v(w);y=h(re,"DIV",{class:!0,"data-svelte-h":!0}),He(y)!=="svelte-7e4f4y"&&(y.innerHTML=k),V=M(re),I=h(re,"DIV",{class:!0});var te=v(I);T=O(te,D),te.forEach(u),re.forEach(u),G.forEach(u),E=M(W),A=h(W,"HR",{class:!0}),B=M(W),H=h(W,"DIV",{class:!0});var ue=v(H);L.l(ue),Z=M(ue),F.l(ue),ue.forEach(u),W.forEach(u),$.forEach(u),this.h()},h(){c(a,"id","chat-import-input"),c(a,"type","file"),c(a,"accept",".json"),a.hidden=!0,c(i,"class","self-center mr-3"),c(g,"class","self-center text-sm font-medium"),c(o,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(y,"class","self-center mr-3"),c(I,"class","self-center text-sm font-medium"),c(w,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),c(l,"class","flex flex-col"),c(A,"class","dark:border-gray-850"),c(H,"class","flex flex-col"),c(t,"class","space-y-2"),c(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(Y,$){z(Y,e,$),n(e,t),n(t,l),n(l,a),s[10](a),n(l,r),n(l,o),n(o,i),n(o,m),n(o,g),n(g,_),n(l,b),n(l,w),n(w,y),n(w,V),n(w,I),n(I,T),n(t,E),n(t,A),n(t,B),n(t,H),L.m(H,null),n(H,Z),F.m(H,null),N||(q=[Q(a,"change",s[11]),Q(o,"click",s[12]),Q(w,"click",s[13])],N=!0)},p(Y,[$]){$&16&&p!==(p=Y[4].t("Import Chats")+"")&&U(_,p),$&16&&D!==(D=Y[4].t("Export Chats")+"")&&U(T,D),C===(C=j(Y))&&L?L.p(Y,$):(L.d(1),L=C(Y),L&&(L.c(),L.m(H,Z))),P===(P=R(Y))&&F?F.p(Y,$):(F.d(1),F=P(Y),F&&(F.c(),F.m(H,null)))},i:Ue,o:Ue,d(Y){Y&&u(e),s[10](null),L.d(),F.d(),N=!1,ht(q)}}}function vc(s,e,t){let l,a;Ae(s,Zt,N=>t(20,l=N));const{saveAs:r}=Ys,o=gt("i18n");Ae(s,o,N=>t(4,a=N));let{saveSettings:i}=e,f,m=!1,g=!1,p;const _=async N=>{for(const q of N)console.log(q),q.chat?await tr(localStorage.token,q.chat):await tr(localStorage.token,q);Zt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},b=async()=>{let N=new Blob([JSON.stringify(await Nn(localStorage.token))],{type:"application/json"});r(N,`chat-export-${Date.now()}.json`)},w=async()=>{await Al("/"),await xn(localStorage.token).catch(N=>{Je.error(N)}),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},y=async()=>{await Al("/"),await On(localStorage.token).catch(N=>{Je.error(N)}),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)};function k(N){mt[N?"unshift":"push"](()=>{p=N,t(3,p)})}function V(){f=this.files,t(0,f)}const I=()=>{p.click()},D=()=>{b()},T=()=>{w(),t(1,m=!1)},E=()=>{t(1,m=!1)},A=()=>{t(1,m=!0)},B=()=>{y(),t(2,g=!1)},H=()=>{t(2,g=!1)},Z=()=>{t(2,g=!0)};return s.$$set=N=>{"saveSettings"in N&&t(9,i=N.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&f){console.log(f);let N=new FileReader;N.onload=q=>{let j=JSON.parse(q.target.result);if(console.log(j),vo(j)=="openai")try{j=mo(j)}catch(C){console.log("Unable to import chats:",C)}_(j)},f.length>0&&N.readAsText(f[0])}},[f,m,g,p,a,o,b,w,y,i,k,V,I,D,T,E,A,B,H,Z]}class mc extends ut{constructor(e){super(),ft(this,e,vc,hc,ct,{saveSettings:9})}}function _c(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=it(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"fill-rule","evenodd"),c(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),c(t,"clip-rule","evenodd"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 24 24"),c(e,"fill","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function pc(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class gc extends ut{constructor(e){super(),ft(this,e,pc,_c,ct,{className:0})}}function Vr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function bc(s){let e,t,l,a=s[3].t("Add Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,y,k,V,I,D=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",T,E,A,B,H=s[3].t("Add")+"",Z,N,q,j,C,L=s[1]&&Vr();return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("form"),b=d("div"),w=d("textarea"),k=S(),V=d("div"),I=x("ⓘ "),T=x(D),E=S(),A=d("div"),B=d("button"),Z=x(H),N=S(),L&&L.c(),this.h()},l(R){e=h(R,"DIV",{});var P=v(e);t=h(P,"DIV",{class:!0});var F=v(t);l=h(F,"DIV",{class:!0});var Y=v(l);r=O(Y,a),Y.forEach(u),o=M(F),i=h(F,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),F.forEach(u),m=M(P),g=h(P,"DIV",{class:!0});var $=v(g);p=h($,"DIV",{class:!0});var W=v(p);_=h(W,"FORM",{class:!0});var G=v(_);b=h(G,"DIV",{class:!0});var X=v(b);w=h(X,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(u),k=M(X),V=h(X,"DIV",{class:!0});var K=v(V);I=O(K,"ⓘ "),T=O(K,D),K.forEach(u),X.forEach(u),E=M(G),A=h(G,"DIV",{class:!0});var re=v(A);B=h(re,"BUTTON",{class:!0,type:!0});var te=v(B);Z=O(te,H),N=M(te),L&&L.l(te),te.forEach(u),re.forEach(u),G.forEach(u),W.forEach(u),$.forEach(u),P.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(V,"class","text-xs text-gray-500"),c(b,"class",""),c(B,"class",q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(B,"type","submit"),B.disabled=s[1],c(A,"class","flex justify-end pt-1 text-sm font-medium"),c(_,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(R,P){z(R,e,P),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(b,w),je(w,s[2]),n(b,k),n(b,V),n(V,I),n(V,T),n(_,E),n(_,A),n(A,B),n(B,Z),n(B,N),L&&L.m(B,null),j||(C=[Q(i,"click",s[6]),Q(w,"input",s[7]),Q(_,"submit",zl(s[8]))],j=!0)},p(R,P){P&8&&a!==(a=R[3].t("Add Memory")+"")&&U(r,a),P&8&&y!==(y=R[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",y),P&4&&je(w,R[2]),P&8&&D!==(D=R[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&U(T,D),P&8&&H!==(H=R[3].t("Add")+"")&&U(Z,H),R[1]?L||(L=Vr(),L.c(),L.m(B,null)):L&&(L.d(1),L=null),P&2&&q!==(q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(R[1]?" cursor-not-allowed":""))&&c(B,"class",q),P&2&&(B.disabled=R[1])},d(R){R&&u(e),L&&L.d(),j=!1,ht(C)}}}function wc(s){let e,t,l;function a(o){s[9](o)}let r={size:"sm",$$slots:{default:[bc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Rl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&2063&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function kc(s,e,t){let l;const a=fl();let{show:r}=e;const o=gt("i18n");Ae(s,o,w=>t(3,l=w));let i=!1,f="";const m=async()=>{t(1,i=!0);const w=await wo(localStorage.token,f).catch(y=>(Je.error(y),null));w&&(console.log(w),Je.success(l.t("Memory added successfully")),t(2,f=""),t(0,r=!1),a("save")),t(1,i=!1)},g=()=>{t(0,r=!1)};function p(){f=this.value,t(2,f)}const _=()=>{m()};function b(w){r=w,t(0,r)}return s.$$set=w=>{"show"in w&&t(0,r=w.show)},[r,i,f,l,o,m,g,p,_,b]}class yc extends ut{constructor(e){super(),ft(this,e,kc,wc,ct,{show:0})}}function Cr(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){c(e,"class","ml-2 self-center")},m(l,a){z(l,e,a)},d(l){l&&u(e)}}}function Ec(s){let e,t,l,a=s[3].t("Edit Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,y,k,V,I,D=s[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"",T,E,A,B,H=s[3].t("Update")+"",Z,N,q,j,C,L=s[1]&&Cr();return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("form"),b=d("div"),w=d("textarea"),k=S(),V=d("div"),I=x("ⓘ "),T=x(D),E=S(),A=d("div"),B=d("button"),Z=x(H),N=S(),L&&L.c(),this.h()},l(R){e=h(R,"DIV",{});var P=v(e);t=h(P,"DIV",{class:!0});var F=v(t);l=h(F,"DIV",{class:!0});var Y=v(l);r=O(Y,a),Y.forEach(u),o=M(F),i=h(F,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),F.forEach(u),m=M(P),g=h(P,"DIV",{class:!0});var $=v(g);p=h($,"DIV",{class:!0});var W=v(p);_=h(W,"FORM",{class:!0});var G=v(_);b=h(G,"DIV",{class:!0});var X=v(b);w=h(X,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(w).forEach(u),k=M(X),V=h(X,"DIV",{class:!0});var K=v(V);I=O(K,"ⓘ "),T=O(K,D),K.forEach(u),X.forEach(u),E=M(G),A=h(G,"DIV",{class:!0});var re=v(A);B=h(re,"BUTTON",{class:!0,type:!0});var te=v(B);Z=O(te,H),N=M(te),L&&L.l(te),te.forEach(u),re.forEach(u),G.forEach(u),W.forEach(u),$.forEach(u),P.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(w,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),c(w,"rows","3"),c(w,"placeholder",y=s[3].t("Enter a detail about yourself for your LLMs to recall")),c(V,"class","text-xs text-gray-500"),c(b,"class",""),c(B,"class",q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),c(B,"type","submit"),B.disabled=s[1],c(A,"class","flex justify-end pt-1 text-sm font-medium"),c(_,"class","flex flex-col w-full"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(R,P){z(R,e,P),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(b,w),je(w,s[2]),n(b,k),n(b,V),n(V,I),n(V,T),n(_,E),n(_,A),n(A,B),n(B,Z),n(B,N),L&&L.m(B,null),j||(C=[Q(i,"click",s[7]),Q(w,"input",s[8]),Q(_,"submit",zl(s[9]))],j=!0)},p(R,P){P&8&&a!==(a=R[3].t("Edit Memory")+"")&&U(r,a),P&8&&y!==(y=R[3].t("Enter a detail about yourself for your LLMs to recall"))&&c(w,"placeholder",y),P&4&&je(w,R[2]),P&8&&D!==(D=R[3].t('Refer to yourself as "User" (e.g., "User is learning Spanish")')+"")&&U(T,D),P&8&&H!==(H=R[3].t("Update")+"")&&U(Z,H),R[1]?L||(L=Cr(),L.c(),L.m(B,null)):L&&(L.d(1),L=null),P&2&&q!==(q="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(R[1]?" cursor-not-allowed":""))&&c(B,"class",q),P&2&&(B.disabled=R[1])},d(R){R&&u(e),L&&L.d(),j=!1,ht(C)}}}function Ic(s){let e,t,l;function a(o){s[10](o)}let r={size:"sm",$$slots:{default:[Ec]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Rl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&8207&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function Dc(s,e,t){let l;const a=fl();let{show:r}=e,{memory:o={}}=e;const i=gt("i18n");Ae(s,i,k=>t(3,l=k));let f=!1,m="";const g=()=>{t(2,m=o.content)},p=async()=>{t(1,f=!0);const k=await ko(localStorage.token,o.id,m).catch(V=>(Je.error(V),null));k&&(console.log(k),Je.success(l.t("Memory updated successfully")),a("save"),t(0,r=!1)),t(1,f=!1)},_=()=>{t(0,r=!1)};function b(){m=this.value,t(2,m)}const w=()=>{p()};function y(k){r=k,t(0,r)}return s.$$set=k=>{"show"in k&&t(0,r=k.show),"memory"in k&&t(6,o=k.memory)},s.$$.update=()=>{s.$$.dirty&1&&r&&g()},[r,f,m,l,i,p,o,_,b,w,y]}class Tc extends ut{constructor(e){super(),ft(this,e,Dc,Ic,ct,{show:0,memory:6})}}function Sr(s,e,t){const l=s.slice();return l[19]=e[t],l}function Vc(s){let e,t,l=s[5].t("Memories accessible by LLMs will be shown here.")+"",a;return{c(){e=d("div"),t=d("div"),a=x(l),this.h()},l(r){e=h(r,"DIV",{class:!0});var o=v(e);t=h(o,"DIV",{class:!0});var i=v(t);a=O(i,l),i.forEach(u),o.forEach(u),this.h()},h(){c(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),c(e,"class","text-center flex h-full text-sm w-full")},m(r,o){z(r,e,o),n(e,t),n(t,a)},p(r,o){o&32&&l!==(l=r[5].t("Memories accessible by LLMs will be shown here.")+"")&&U(a,l)},i:Ue,o:Ue,d(r){r&&u(e)}}}function Cc(s){let e,t,l,a,r,o,i=s[5].t("Name")+"",f,m,g,p=s[5].t("Last Modified")+"",_,b,w,y,k,V,I=nt(s[1]),D=[];for(let E=0;E<I.length;E+=1)D[E]=Mr(Sr(s,I,E));const T=E=>se(D[E],1,1,()=>{D[E]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),a=d("thead"),r=d("tr"),o=d("th"),f=x(i),m=S(),g=d("th"),_=x(p),b=S(),w=d("th"),y=S(),k=d("tbody");for(let E=0;E<D.length;E+=1)D[E].c();this.h()},l(E){e=h(E,"DIV",{class:!0});var A=v(e);t=h(A,"DIV",{class:!0});var B=v(t);l=h(B,"TABLE",{class:!0});var H=v(l);a=h(H,"THEAD",{class:!0});var Z=v(a);r=h(Z,"TR",{});var N=v(r);o=h(N,"TH",{scope:!0,class:!0});var q=v(o);f=O(q,i),q.forEach(u),m=M(N),g=h(N,"TH",{scope:!0,class:!0});var j=v(g);_=O(j,p),j.forEach(u),b=M(N),w=h(N,"TH",{scope:!0,class:!0}),v(w).forEach(u),N.forEach(u),Z.forEach(u),y=M(H),k=h(H,"TBODY",{});var C=v(k);for(let L=0;L<D.length;L+=1)D[L].l(C);C.forEach(u),H.forEach(u),B.forEach(u),A.forEach(u),this.h()},h(){c(o,"scope","col"),c(o,"class","px-3 py-2"),c(g,"scope","col"),c(g,"class","px-3 py-2 hidden md:flex"),c(w,"scope","col"),c(w,"class","px-3 py-2 text-right"),c(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(t,"class","relative overflow-x-auto"),c(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(E,A){z(E,e,A),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,f),n(r,m),n(r,g),n(g,_),n(r,b),n(r,w),n(l,y),n(l,k);for(let B=0;B<D.length;B+=1)D[B]&&D[B].m(k,null);V=!0},p(E,A){if((!V||A&32)&&i!==(i=E[5].t("Name")+"")&&U(f,i),(!V||A&32)&&p!==(p=E[5].t("Last Modified")+"")&&U(_,p),A&58){I=nt(E[1]);let B;for(B=0;B<I.length;B+=1){const H=Sr(E,I,B);D[B]?(D[B].p(H,A),J(D[B],1)):(D[B]=Mr(H),D[B].c(),J(D[B],1),D[B].m(k,null))}for(bt(),B=I.length;B<D.length;B+=1)T(B);wt()}},i(E){if(!V){for(let A=0;A<I.length;A+=1)J(D[A]);V=!0}},o(E){D=D.filter(Boolean);for(let A=0;A<D.length;A+=1)se(D[A]);V=!1},d(E){E&&u(e),Ht(D,E)}}}function Sc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 s-FoVA_WMOgxUD"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" class="s-FoVA_WMOgxUD"></path></svg>',l,a;function r(){return s[9](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1hkti8u"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=Q(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Mc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[10](s[19])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-12t315d"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=Q(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Mr(s){let e,t,l,a=s[19].content+"",r,o,i,f,m=Vs(s[19].updated_at*1e3).format(s[5].t("MMMM DD, YYYY hh:mm:ss A"))+"",g,p,_,b,w,y,k,V,I;return w=new Ft({props:{content:"Edit",$$slots:{default:[Sc]},$$scope:{ctx:s}}}),k=new Ft({props:{content:"Delete",$$slots:{default:[Mc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),r=x(a),o=S(),i=d("td"),f=d("div"),g=x(m),p=S(),_=d("td"),b=d("div"),me(w.$$.fragment),y=S(),me(k.$$.fragment),V=S(),this.h()},l(D){e=h(D,"TR",{class:!0});var T=v(e);t=h(T,"TD",{class:!0});var E=v(t);l=h(E,"DIV",{class:!0});var A=v(l);r=O(A,a),A.forEach(u),E.forEach(u),o=M(T),i=h(T,"TD",{class:!0});var B=v(i);f=h(B,"DIV",{class:!0});var H=v(f);g=O(H,m),H.forEach(u),B.forEach(u),p=M(T),_=h(T,"TD",{class:!0});var Z=v(_);b=h(Z,"DIV",{class:!0});var N=v(b);_e(w.$$.fragment,N),y=M(N),_e(k.$$.fragment,N),N.forEach(u),Z.forEach(u),V=M(T),T.forEach(u),this.h()},h(){c(l,"class","line-clamp-1"),c(t,"class","px-3 py-1"),c(f,"class","my-auto whitespace-nowrap"),c(i,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(b,"class","flex justify-end w-full"),c(_,"class","px-3 py-1"),c(e,"class","border-b dark:border-gray-800 items-center")},m(D,T){z(D,e,T),n(e,t),n(t,l),n(l,r),n(e,o),n(e,i),n(i,f),n(f,g),n(e,p),n(e,_),n(_,b),pe(w,b,null),n(b,y),pe(k,b,null),n(e,V),I=!0},p(D,T){(!I||T&2)&&a!==(a=D[19].content+"")&&U(r,a),(!I||T&34)&&m!==(m=Vs(D[19].updated_at*1e3).format(D[5].t("MMMM DD, YYYY hh:mm:ss A"))+"")&&U(g,m);const E={};T&4194330&&(E.$$scope={dirty:T,ctx:D}),w.$set(E);const A={};T&4194338&&(A.$$scope={dirty:T,ctx:D}),k.$set(A)},i(D){I||(J(w.$$.fragment,D),J(k.$$.fragment,D),I=!0)},o(D){se(w.$$.fragment,D),se(k.$$.fragment,D),I=!1},d(D){D&&u(e),ge(w),ge(k)}}}function Ac(s){let e,t,l,a=s[5].t("Memory")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w,y,k,V=s[5].t("Add Memory")+"",I,D,T,E=s[5].t("Clear memory")+"",A,B,H,Z;const N=[Cc,Vc],q=[];function j(C,L){return C[1].length>0?0:1}return _=j(s),b=q[_]=N[_](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),b.c(),w=S(),y=d("div"),k=d("button"),I=x(V),D=S(),T=d("button"),A=x(E),this.h()},l(C){e=h(C,"DIV",{});var L=v(e);t=h(L,"DIV",{class:!0});var R=v(t);l=h(R,"DIV",{class:!0});var P=v(l);r=O(P,a),P.forEach(u),o=M(R),i=h(R,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),R.forEach(u),m=M(L),g=h(L,"DIV",{class:!0});var F=v(g);p=h(F,"DIV",{class:!0});var Y=v(p);b.l(Y),Y.forEach(u),w=M(F),y=h(F,"DIV",{class:!0});var $=v(y);k=h($,"BUTTON",{class:!0});var W=v(k);I=O(W,V),W.forEach(u),D=M($),T=h($,"BUTTON",{class:!0});var G=v(T);A=O(G,E),G.forEach(u),$.forEach(u),F.forEach(u),L.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),c(k,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(T,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),c(y,"class","flex text-sm font-medium gap-1.5"),c(g,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(C,L){z(C,e,L),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),q[_].m(p,null),n(g,w),n(g,y),n(y,k),n(k,I),n(y,D),n(y,T),n(T,A),B=!0,H||(Z=[Q(i,"click",s[8]),Q(k,"click",s[11]),Q(T,"click",s[12])],H=!0)},p(C,L){(!B||L&32)&&a!==(a=C[5].t("Memory")+"")&&U(r,a);let R=_;_=j(C),_===R?q[_].p(C,L):(bt(),se(q[R],1,1,()=>{q[R]=null}),wt(),b=q[_],b?b.p(C,L):(b=q[_]=N[_](C),b.c()),J(b,1),b.m(p,null)),(!B||L&32)&&V!==(V=C[5].t("Add Memory")+"")&&U(I,V),(!B||L&32)&&E!==(E=C[5].t("Clear memory")+"")&&U(A,E)},i(C){B||(J(b),B=!0)},o(C){se(b),B=!1},d(C){C&&u(e),q[_].d(),H=!1,ht(Z)}}}function Lc(s){let e,t,l,a,r,o,i,f,m;function g(k){s[13](k)}let p={size:"xl",$$slots:{default:[Ac]},$$scope:{ctx:s}};s[0]!==void 0&&(p.show=s[0]),e=new Rl({props:p}),mt.push(()=>Et(e,"show",g));function _(k){s[14](k)}let b={};s[2]!==void 0&&(b.show=s[2]),a=new yc({props:b}),mt.push(()=>Et(a,"show",_)),a.$on("save",s[15]);function w(k){s[16](k)}let y={memory:s[4]};return s[3]!==void 0&&(y.show=s[3]),i=new Tc({props:y}),mt.push(()=>Et(i,"show",w)),i.$on("save",s[17]),{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),me(i.$$.fragment)},l(k){_e(e.$$.fragment,k),l=M(k),_e(a.$$.fragment,k),o=M(k),_e(i.$$.fragment,k)},m(k,V){pe(e,k,V),z(k,l,V),pe(a,k,V),z(k,o,V),pe(i,k,V),m=!0},p(k,[V]){const I={};V&4194367&&(I.$$scope={dirty:V,ctx:k}),!t&&V&1&&(t=!0,I.show=k[0],yt(()=>t=!1)),e.$set(I);const D={};!r&&V&4&&(r=!0,D.show=k[2],yt(()=>r=!1)),a.$set(D);const T={};V&16&&(T.memory=k[4]),!f&&V&8&&(f=!0,T.show=k[3],yt(()=>f=!1)),i.$set(T)},i(k){m||(J(e.$$.fragment,k),J(a.$$.fragment,k),J(i.$$.fragment,k),m=!0)},o(k){se(e.$$.fragment,k),se(a.$$.fragment,k),se(i.$$.fragment,k),m=!1},d(k){k&&(u(l),u(o)),ge(e,k),ge(a,k),ge(i,k)}}}function Bc(s,e,t){let l;fl();const a=gt("i18n");Ae(s,a,E=>t(5,l=E));let{show:r=!1}=e,o=[],i=!0,f=!1,m=!1,g=null;const p=()=>{t(0,r=!1)},_=E=>{t(4,g=E),t(3,m=!0)},b=async E=>{await yo(localStorage.token,E.id).catch(B=>(Je.error(B),null))&&(Je.success(l.t("Memory deleted successfully")),t(1,o=await ys(localStorage.token)))},w=()=>{t(2,f=!0)},y=async()=>{await Eo(localStorage.token).catch(A=>(Je.error(A),null))&&(Je.success(l.t("Memory cleared successfully")),t(1,o=[]))};function k(E){r=E,t(0,r)}function V(E){f=E,t(2,f)}const I=async()=>{t(1,o=await ys(localStorage.token))};function D(E){m=E,t(3,m)}const T=async()=>{t(1,o=await ys(localStorage.token))};return s.$$set=E=>{"show"in E&&t(0,r=E.show)},s.$$.update=()=>{s.$$.dirty&131&&r&&o.length===0&&i&&(async()=>(t(1,o=await ys(localStorage.token)),t(7,i=!1)))()},[r,o,f,m,g,l,a,i,p,_,b,w,y,k,V,I,D,T]}class Nc extends ut{constructor(e){super(),ft(this,e,Bc,Lc,ct,{show:0})}}function xc(s){let e,t=s[3].t("Memory")+"",l,a,r,o,i=s[3].t("Experimental")+"",f,m;return{c(){e=d("div"),l=x(t),a=S(),r=d("span"),o=x("("),f=x(i),m=x(")"),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);l=O(p,t),a=M(p),r=h(p,"SPAN",{class:!0});var _=v(r);o=O(_,"("),f=O(_,i),m=O(_,")"),_.forEach(u),p.forEach(u),this.h()},h(){c(r,"class","text-xs text-gray-500"),c(e,"class","text-sm font-medium")},m(g,p){z(g,e,p),n(e,l),n(e,a),n(e,r),n(r,o),n(r,f),n(r,m)},p(g,p){p&8&&t!==(t=g[3].t("Memory")+"")&&U(l,t),p&8&&i!==(i=g[3].t("Experimental")+"")&&U(f,i)},d(g){g&&u(e)}}}function Oc(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w,y,k=s[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"",V,I,D,T,E=s[3].t("Manage")+"",A,B,H,Z,N=s[3].t("Save")+"",q,j,C,L;function R($){s[6]($)}let P={};s[1]!==void 0&&(P.show=s[1]),e=new Nc({props:P}),mt.push(()=>Et(e,"show",R)),f=new Ft({props:{content:s[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time."),$$slots:{default:[xc]},$$scope:{ctx:s}}});function F($){s[7]($)}let Y={};return s[2]!==void 0&&(Y.state=s[2]),p=new In({props:Y}),mt.push(()=>Et(p,"state",F)),p.$on("change",s[8]),{c(){me(e.$$.fragment),l=S(),a=d("form"),r=d("div"),o=d("div"),i=d("div"),me(f.$$.fragment),m=S(),g=d("div"),me(p.$$.fragment),b=S(),w=d("div"),y=d("div"),V=x(k),I=S(),D=d("div"),T=d("button"),A=x(E),B=S(),H=d("div"),Z=d("button"),q=x(N),this.h()},l($){_e(e.$$.fragment,$),l=M($),a=h($,"FORM",{class:!0});var W=v(a);r=h(W,"DIV",{class:!0});var G=v(r);o=h(G,"DIV",{});var X=v(o);i=h(X,"DIV",{class:!0});var K=v(i);_e(f.$$.fragment,K),m=M(K),g=h(K,"DIV",{class:!0});var re=v(g);_e(p.$$.fragment,re),re.forEach(u),K.forEach(u),X.forEach(u),b=M(G),w=h(G,"DIV",{class:!0});var te=v(w);y=h(te,"DIV",{});var ue=v(y);V=O(ue,k),ue.forEach(u),te.forEach(u),I=M(G),D=h(G,"DIV",{class:!0});var Ee=v(D);T=h(Ee,"BUTTON",{type:!0,class:!0});var be=v(T);A=O(be,E),be.forEach(u),Ee.forEach(u),G.forEach(u),B=M(W),H=h(W,"DIV",{class:!0});var Be=v(H);Z=h(Be,"BUTTON",{class:!0,type:!0});var Pe=v(Z);q=O(Pe,N),Pe.forEach(u),Be.forEach(u),W.forEach(u),this.h()},h(){c(g,"class",""),c(i,"class","flex items-center justify-between mb-1"),c(w,"class","text-xs text-gray-600 dark:text-gray-400"),c(T,"type","button"),c(T,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(D,"class","mt-3 mb-1 ml-1"),c(r,"class","pr-1.5 py-1 overflow-y-scroll max-h-[25rem]"),c(Z,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(Z,"type","submit"),c(H,"class","flex justify-end text-sm font-medium"),c(a,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m($,W){pe(e,$,W),z($,l,W),z($,a,W),n(a,r),n(r,o),n(o,i),pe(f,i,null),n(i,m),n(i,g),pe(p,g,null),n(r,b),n(r,w),n(w,y),n(y,V),n(r,I),n(r,D),n(D,T),n(T,A),n(a,B),n(a,H),n(H,Z),n(Z,q),j=!0,C||(L=[Q(T,"click",s[9]),Q(a,"submit",zl(s[10]))],C=!0)},p($,[W]){const G={};!t&&W&2&&(t=!0,G.show=$[1],yt(()=>t=!1)),e.$set(G);const X={};W&8&&(X.content=$[3].t("This is an experimental feature, it may not function as expected and is subject to change at any time.")),W&4104&&(X.$$scope={dirty:W,ctx:$}),f.$set(X);const K={};!_&&W&4&&(_=!0,K.state=$[2],yt(()=>_=!1)),p.$set(K),(!j||W&8)&&k!==(k=$[3].t("You can personalize your interactions with LLMs by adding memories through the 'Manage' button below, making them more helpful and tailored to you.")+"")&&U(V,k),(!j||W&8)&&E!==(E=$[3].t("Manage")+"")&&U(A,E),(!j||W&8)&&N!==(N=$[3].t("Save")+"")&&U(q,N)},i($){j||(J(e.$$.fragment,$),J(f.$$.fragment,$),J(p.$$.fragment,$),j=!0)},o($){se(e.$$.fragment,$),se(f.$$.fragment,$),se(p.$$.fragment,$),j=!1},d($){$&&(u(l),u(a)),ge(e,$),ge(f),ge(p),C=!1,ht(L)}}}function Hc(s,e,t){let l,a;Ae(s,bl,y=>t(11,l=y));const r=fl(),o=gt("i18n");Ae(s,o,y=>t(3,a=y));let{saveSettings:i}=e,f=!1,m=!1;ul(async()=>{t(2,m=(l==null?void 0:l.memory)??!1)});function g(y){f=y,t(1,f)}function p(y){m=y,t(2,m)}const _=async()=>{i({memory:m})},b=()=>{t(1,f=!0)},w=()=>{r("save")};return s.$$set=y=>{"saveSettings"in y&&t(0,i=y.saveSettings)},[i,f,m,a,r,o,g,p,_,b,w]}class Uc extends ut{constructor(e){super(),ft(this,e,Hc,Oc,ct,{saveSettings:0})}}function Ar(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path></svg>',a,r,o=s[2].t("Admin Settings")+"",i,f,m,g;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,a=S(),r=d("div"),i=x(o),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-wp87ko"&&(t.innerHTML=l),a=M(_),r=h(_,"DIV",{class:!0});var b=v(r);i=O(b,o),b.forEach(u),_.forEach(u),this.h()},h(){c(t,"class","self-center mr-2"),c(r,"class","self-center"),c(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))},m(p,_){z(p,e,_),n(e,t),n(e,a),n(e,r),n(r,i),m||(g=Q(e,"click",s[14]),m=!0)},p(p,_){_&4&&o!==(o=p[2].t("Admin Settings")+"")&&U(i,o),_&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(p[1]==="admin"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850"))&&c(e,"class",f)},d(p){p&&u(e),m=!1,g()}}}function Pc(s){let e,t;return e=new mi({}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function $c(s){let e,t;return e=new fi({props:{saveHandler:s[20]}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a&4&&(r.saveHandler=l[20]),e.$set(r)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function jc(s){let e,t;return e=new mc({props:{saveSettings:s[5]}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function zc(s){let e,t;return e=new ic({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Rc(s){let e,t;return e=new Uc({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Wc(s){let e,t;return e=new Qi({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Zc(s){let e,t;return e=new Ii({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[16]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Fc(s){let e,t,l,a=s[2].t("Settings")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',y,k,V=s[2].t("General")+"",I,D,T,E,A,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',H,Z,N=s[2].t("Interface")+"",q,j,C,L,R,P,F,Y,$=s[2].t("Personalization")+"",W,G,X,K,re,te='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ue,Ee,be=s[2].t("Audio")+"",Be,Pe,Le,de,ve,xe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',Se,Ze,le=s[2].t("Chats")+"",fe,Ie,oe,De,we,Re='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',ae,Ve,ce=s[2].t("Account")+"",Te,Qe,ee,ie,ke,Oe,et='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',ze,We,Ke=s[2].t("About")+"",tt,lt,Fe,st,qe,Ye,Ne,at,Tt;P=new gc({});let rt=s[3].role==="admin"&&Ar(s);const _t=[Zc,Wc,Rc,zc,jc,$c,Pc],$e=[];function Ce(he,ye){return he[1]==="general"?0:he[1]==="interface"?1:he[1]==="personalization"?2:he[1]==="audio"?3:he[1]==="chats"?4:he[1]==="account"?5:he[1]==="about"?6:-1}return~(qe=Ce(s))&&(Ye=$e[qe]=_t[qe](s)),{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("button"),b=d("div"),b.innerHTML=w,y=S(),k=d("div"),I=x(V),T=S(),E=d("button"),A=d("div"),A.innerHTML=B,H=S(),Z=d("div"),q=x(N),C=S(),L=d("button"),R=d("div"),me(P.$$.fragment),F=S(),Y=d("div"),W=x($),X=S(),K=d("button"),re=d("div"),re.innerHTML=te,ue=S(),Ee=d("div"),Be=x(be),Le=S(),de=d("button"),ve=d("div"),ve.innerHTML=xe,Se=S(),Ze=d("div"),fe=x(le),oe=S(),De=d("button"),we=d("div"),we.innerHTML=Re,ae=S(),Ve=d("div"),Te=x(ce),ee=S(),rt&&rt.c(),ie=S(),ke=d("button"),Oe=d("div"),Oe.innerHTML=et,ze=S(),We=d("div"),tt=x(Ke),Fe=S(),st=d("div"),Ye&&Ye.c(),this.h()},l(he){e=h(he,"DIV",{class:!0});var ye=v(e);t=h(ye,"DIV",{class:!0});var Ge=v(t);l=h(Ge,"DIV",{class:!0});var At=v(l);r=O(At,a),At.forEach(u),o=M(Ge),i=h(Ge,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),Ge.forEach(u),m=M(ye),g=h(ye,"DIV",{class:!0});var Lt=v(g);p=h(Lt,"DIV",{id:!0,class:!0});var vt=v(p);_=h(vt,"BUTTON",{class:!0});var It=v(_);b=h(It,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-qy1dha"&&(b.innerHTML=w),y=M(It),k=h(It,"DIV",{class:!0});var Ut=v(k);I=O(Ut,V),Ut.forEach(u),It.forEach(u),T=M(vt),E=h(vt,"BUTTON",{class:!0});var Bt=v(E);A=h(Bt,"DIV",{class:!0,"data-svelte-h":!0}),He(A)!=="svelte-16cea28"&&(A.innerHTML=B),H=M(Bt),Z=h(Bt,"DIV",{class:!0});var Ct=v(Z);q=O(Ct,N),Ct.forEach(u),Bt.forEach(u),C=M(vt),L=h(vt,"BUTTON",{class:!0});var St=v(L);R=h(St,"DIV",{class:!0});var $t=v(R);_e(P.$$.fragment,$t),$t.forEach(u),F=M(St),Y=h(St,"DIV",{class:!0});var jt=v(Y);W=O(jt,$),jt.forEach(u),St.forEach(u),X=M(vt),K=h(vt,"BUTTON",{class:!0});var Yt=v(K);re=h(Yt,"DIV",{class:!0,"data-svelte-h":!0}),He(re)!=="svelte-36jwmy"&&(re.innerHTML=te),ue=M(Yt),Ee=h(Yt,"DIV",{class:!0});var Mt=v(Ee);Be=O(Mt,be),Mt.forEach(u),Yt.forEach(u),Le=M(vt),de=h(vt,"BUTTON",{class:!0});var qt=v(de);ve=h(qt,"DIV",{class:!0,"data-svelte-h":!0}),He(ve)!=="svelte-1gtbwe5"&&(ve.innerHTML=xe),Se=M(qt),Ze=h(qt,"DIV",{class:!0});var Kt=v(Ze);fe=O(Kt,le),Kt.forEach(u),qt.forEach(u),oe=M(vt),De=h(vt,"BUTTON",{class:!0});var kt=v(De);we=h(kt,"DIV",{class:!0,"data-svelte-h":!0}),He(we)!=="svelte-amityv"&&(we.innerHTML=Re),ae=M(kt),Ve=h(kt,"DIV",{class:!0});var zt=v(Ve);Te=O(zt,ce),zt.forEach(u),kt.forEach(u),ee=M(vt),rt&&rt.l(vt),ie=M(vt),ke=h(vt,"BUTTON",{class:!0});var Pt=v(ke);Oe=h(Pt,"DIV",{class:!0,"data-svelte-h":!0}),He(Oe)!=="svelte-15t8s7e"&&(Oe.innerHTML=et),ze=M(Pt),We=h(Pt,"DIV",{class:!0});var Rt=v(We);tt=O(Rt,Ke),Rt.forEach(u),Pt.forEach(u),vt.forEach(u),Fe=M(Lt),st=h(Lt,"DIV",{class:!0});var hl=v(st);Ye&&Ye.l(hl),hl.forEach(u),Lt.forEach(u),ye.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center mr-2"),c(k,"class","self-center"),c(_,"class",D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(A,"class","self-center mr-2"),c(Z,"class","self-center"),c(E,"class",j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(R,"class","self-center mr-2"),c(Y,"class","self-center"),c(L,"class",G="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(re,"class","self-center mr-2"),c(Ee,"class","self-center"),c(K,"class",Pe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(ve,"class","self-center mr-2"),c(Ze,"class","self-center"),c(de,"class",Ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(we,"class","self-center mr-2"),c(Ve,"class","self-center"),c(De,"class",Qe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(Oe,"class","self-center mr-2"),c(We,"class","self-center"),c(ke,"class",lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")),c(p,"id","settings-tabs-container"),c(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),c(st,"class","flex-1 md:min-h-[28rem]"),c(g,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),c(e,"class","text-gray-700 dark:text-gray-100")},m(he,ye){z(he,e,ye),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(_,y),n(_,k),n(k,I),n(p,T),n(p,E),n(E,A),n(E,H),n(E,Z),n(Z,q),n(p,C),n(p,L),n(L,R),pe(P,R,null),n(L,F),n(L,Y),n(Y,W),n(p,X),n(p,K),n(K,re),n(K,ue),n(K,Ee),n(Ee,Be),n(p,Le),n(p,de),n(de,ve),n(de,Se),n(de,Ze),n(Ze,fe),n(p,oe),n(p,De),n(De,we),n(De,ae),n(De,Ve),n(Ve,Te),n(p,ee),rt&&rt.m(p,null),n(p,ie),n(p,ke),n(ke,Oe),n(ke,ze),n(ke,We),n(We,tt),n(g,Fe),n(g,st),~qe&&$e[qe].m(st,null),Ne=!0,at||(Tt=[Q(i,"click",s[7]),Q(_,"click",s[8]),Q(E,"click",s[9]),Q(L,"click",s[10]),Q(K,"click",s[11]),Q(de,"click",s[12]),Q(De,"click",s[13]),Q(ke,"click",s[15])],at=!0)},p(he,ye){(!Ne||ye&4)&&a!==(a=he[2].t("Settings")+"")&&U(r,a),(!Ne||ye&4)&&V!==(V=he[2].t("General")+"")&&U(I,V),(!Ne||ye&2&&D!==(D="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="general"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(_,"class",D),(!Ne||ye&4)&&N!==(N=he[2].t("Interface")+"")&&U(q,N),(!Ne||ye&2&&j!==(j="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="interface"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(E,"class",j),(!Ne||ye&4)&&$!==($=he[2].t("Personalization")+"")&&U(W,$),(!Ne||ye&2&&G!==(G="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="personalization"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(L,"class",G),(!Ne||ye&4)&&be!==(be=he[2].t("Audio")+"")&&U(Be,be),(!Ne||ye&2&&Pe!==(Pe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="audio"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(K,"class",Pe),(!Ne||ye&4)&&le!==(le=he[2].t("Chats")+"")&&U(fe,le),(!Ne||ye&2&&Ie!==(Ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="chats"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(de,"class",Ie),(!Ne||ye&4)&&ce!==(ce=he[2].t("Account")+"")&&U(Te,ce),(!Ne||ye&2&&Qe!==(Qe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="account"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(De,"class",Qe),he[3].role==="admin"?rt?rt.p(he,ye):(rt=Ar(he),rt.c(),rt.m(p,ie)):rt&&(rt.d(1),rt=null),(!Ne||ye&4)&&Ke!==(Ke=he[2].t("About")+"")&&U(tt,Ke),(!Ne||ye&2&&lt!==(lt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-left transition "+(he[1]==="about"?"bg-gray-200 dark:bg-gray-800":" hover:bg-gray-100 dark:hover:bg-gray-850")))&&c(ke,"class",lt);let Ge=qe;qe=Ce(he),qe===Ge?~qe&&$e[qe].p(he,ye):(Ye&&(bt(),se($e[Ge],1,1,()=>{$e[Ge]=null}),wt()),~qe?(Ye=$e[qe],Ye?Ye.p(he,ye):(Ye=$e[qe]=_t[qe](he),Ye.c()),J(Ye,1),Ye.m(st,null)):Ye=null)},i(he){Ne||(J(P.$$.fragment,he),J(Ye),Ne=!0)},o(he){se(P.$$.fragment,he),se(Ye),Ne=!1},d(he){he&&u(e),ge(P),rt&&rt.d(),~qe&&$e[qe].d(),at=!1,ht(Tt)}}}function Yc(s){let e,t,l;function a(o){s[21](o)}let r={$$slots:{default:[Fc]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Rl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&67108879&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function qc(s,e,t){let l,a,r;Ae(s,bl,C=>t(22,l=C)),Ae(s,jl,C=>t(3,r=C));const o=gt("i18n");Ae(s,o,C=>t(2,a=C));let{show:i=!1}=e;const f=async C=>{console.log(C),await bl.set({...l,...C}),await qs.set(await m()),await Hn(localStorage.token,{ui:l})},m=async()=>await pn(localStorage.token);let g="general";const p=C=>{const L=document.getElementById("settings-tabs-container");L&&(C.preventDefault(),L.scrollLeft+=C.deltaY)},_=async()=>{await Ts();const C=document.getElementById("settings-tabs-container");C&&C.addEventListener("wheel",p)},b=async()=>{await Ts();const C=document.getElementById("settings-tabs-container");C&&C.removeEventListener("wheel",p)},w=()=>{t(0,i=!1)},y=()=>{t(1,g="general")},k=()=>{t(1,g="interface")},V=()=>{t(1,g="personalization")},I=()=>{t(1,g="audio")},D=()=>{t(1,g="chats")},T=()=>{t(1,g="account")},E=async()=>{await Al("/admin/settings"),t(0,i=!1)},A=()=>{t(1,g="about")},B=()=>{Je.success(a.t("Settings saved successfully!"))},H=()=>{Je.success(a.t("Settings saved successfully!"))},Z=()=>{Je.success(a.t("Settings saved successfully!"))},N=()=>{Je.success(a.t("Settings saved successfully!"))},q=()=>{Je.success(a.t("Settings saved successfully!"))};function j(C){i=C,t(0,i)}return s.$$set=C=>{"show"in C&&t(0,i=C.show)},s.$$.update=()=>{s.$$.dirty&1&&(i?_():b())},[i,g,a,r,o,f,m,w,y,k,V,I,D,T,E,A,B,H,Z,N,q,j]}class Kc extends ut{constructor(e){super(),ft(this,e,qc,Yc,ct,{show:0})}}function Lr(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Gc(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=x(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","text-left text-sm w-full mb-8")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r&8&&t!==(t=a[3].t("You have no archived conversations.")+"")&&U(l,t)},i:Ue,o:Ue,d(a){a&&u(e)}}}function Xc(s){let e,t,l,a,r,o,i,f=s[3].t("Name")+"",m,g,p,_=s[3].t("Created At")+"",b,w,y,k,V,I,D,T,E="Export All Archived Chats",A,B,H,Z=nt(s[2].filter(s[10])),N=[];for(let j=0;j<Z.length;j+=1)N[j]=Br(Lr(s,Z,j));const q=j=>se(N[j],1,1,()=>{N[j]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("table"),r=d("thead"),o=d("tr"),i=d("th"),m=x(f),g=S(),p=d("th"),b=x(_),w=S(),y=d("th"),k=S(),V=d("tbody");for(let j=0;j<N.length;j+=1)N[j].c();I=S(),D=d("div"),T=d("button"),T.textContent=E,this.h()},l(j){e=h(j,"DIV",{class:!0});var C=v(e);t=h(C,"DIV",{class:!0});var L=v(t);l=h(L,"DIV",{class:!0});var R=v(l);a=h(R,"TABLE",{class:!0});var P=v(a);r=h(P,"THEAD",{class:!0});var F=v(r);o=h(F,"TR",{});var Y=v(o);i=h(Y,"TH",{scope:!0,class:!0});var $=v(i);m=O($,f),$.forEach(u),g=M(Y),p=h(Y,"TH",{scope:!0,class:!0});var W=v(p);b=O(W,_),W.forEach(u),w=M(Y),y=h(Y,"TH",{scope:!0,class:!0}),v(y).forEach(u),Y.forEach(u),F.forEach(u),k=M(P),V=h(P,"TBODY",{});var G=v(V);for(let K=0;K<N.length;K+=1)N[K].l(G);G.forEach(u),P.forEach(u),R.forEach(u),L.forEach(u),I=M(C),D=h(C,"DIV",{class:!0});var X=v(D);T=h(X,"BUTTON",{class:!0,"data-svelte-h":!0}),He(T)!=="svelte-1kobxt8"&&(T.textContent=E),X.forEach(u),C.forEach(u),this.h()},h(){c(i,"scope","col"),c(i,"class","px-3 py-2"),c(p,"scope","col"),c(p,"class","px-3 py-2 hidden md:flex"),c(y,"scope","col"),c(y,"class","px-3 py-2 text-right"),c(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),c(a,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),c(l,"class","relative overflow-x-auto"),c(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),c(T,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),c(D,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),c(e,"class","w-full")},m(j,C){z(j,e,C),n(e,t),n(t,l),n(l,a),n(a,r),n(r,o),n(o,i),n(i,m),n(o,g),n(o,p),n(p,b),n(o,w),n(o,y),n(a,k),n(a,V);for(let L=0;L<N.length;L+=1)N[L]&&N[L].m(V,null);n(e,I),n(e,D),n(D,T),A=!0,B||(H=Q(T,"click",s[13]),B=!0)},p(j,C){if((!A||C&8)&&f!==(f=j[3].t("Name")+"")&&U(m,f),(!A||C&8)&&_!==(_=j[3].t("Created At")+"")&&U(b,_),C&110){Z=nt(j[2].filter(j[10]));let L;for(L=0;L<Z.length;L+=1){const R=Lr(j,Z,L);N[L]?(N[L].p(R,C),J(N[L],1)):(N[L]=Br(R),N[L].c(),J(N[L],1),N[L].m(V,null))}for(bt(),L=Z.length;L<N.length;L+=1)q(L);wt()}},i(j){if(!A){for(let C=0;C<Z.length;C+=1)J(N[C]);A=!0}},o(j){N=N.filter(Boolean);for(let C=0;C<N.length;C+=1)se(N[C]);A=!1},d(j){j&&u(e),Ht(N,j),B=!1,H()}}}function Jc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,a;function r(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=Q(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Qc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function r(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,i){z(o,e,i),l||(a=Q(e,"click",r),l=!0)},p(o,i){s=o},d(o){o&&u(e),l=!1,a()}}}function Br(s){let e,t,l,a,r=s[17].title+"",o,i,f,m,g,p=Vs(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",_,b,w,y,k,V,I,D,T,E;return k=new Ft({props:{content:"Unarchive Chat",$$slots:{default:[Jc]},$$scope:{ctx:s}}}),I=new Ft({props:{content:"Delete Chat",$$slots:{default:[Qc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),a=d("div"),o=x(r),f=S(),m=d("td"),g=d("div"),_=x(p),b=S(),w=d("td"),y=d("div"),me(k.$$.fragment),V=S(),me(I.$$.fragment),D=S(),this.h()},l(A){e=h(A,"TR",{class:!0});var B=v(e);t=h(B,"TD",{class:!0});var H=v(t);l=h(H,"A",{href:!0,target:!0});var Z=v(l);a=h(Z,"DIV",{class:!0});var N=v(a);o=O(N,r),N.forEach(u),Z.forEach(u),H.forEach(u),f=M(B),m=h(B,"TD",{class:!0});var q=v(m);g=h(q,"DIV",{class:!0});var j=v(g);_=O(j,p),j.forEach(u),q.forEach(u),b=M(B),w=h(B,"TD",{class:!0});var C=v(w);y=h(C,"DIV",{class:!0});var L=v(y);_e(k.$$.fragment,L),V=M(L),_e(I.$$.fragment,L),L.forEach(u),C.forEach(u),D=M(B),B.forEach(u),this.h()},h(){c(a,"class","underline line-clamp-1"),c(l,"href",i="/c/"+s[17].id),c(l,"target","_blank"),c(t,"class","px-3 py-1 w-2/3"),c(g,"class","my-auto"),c(m,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),c(y,"class","flex justify-end w-full"),c(w,"class","px-3 py-1 text-right"),c(e,"class",T="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(A,B){z(A,e,B),n(e,t),n(t,l),n(l,a),n(a,o),n(e,f),n(e,m),n(m,g),n(g,_),n(e,b),n(e,w),n(w,y),pe(k,y,null),n(y,V),pe(I,y,null),n(e,D),E=!0},p(A,B){(!E||B&6)&&r!==(r=A[17].title+"")&&U(o,r),(!E||B&6&&i!==(i="/c/"+A[17].id))&&c(l,"href",i),(!E||B&14)&&p!==(p=Vs(A[17].created_at*1e3).format(A[3].t("MMMM DD, YYYY HH:mm"))+"")&&U(_,p);const H={};B&1048582&&(H.$$scope={dirty:B,ctx:A}),k.$set(H);const Z={};B&1048582&&(Z.$$scope={dirty:B,ctx:A}),I.$set(Z),(!E||B&4&&T!==(T="bg-transparent "+(A[19]!==A[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&c(e,"class",T)},i(A){E||(J(k.$$.fragment,A),J(I.$$.fragment,A),E=!0)},o(A){se(k.$$.fragment,A),se(I.$$.fragment,A),E=!1},d(A){A&&u(e),ge(k),ge(I)}}}function eu(s){let e,t,l,a=s[3].t("Archived Chats")+"",r,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,g,p,_,b,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,k,V,I,D,T,E,A,B,H,Z,N;const q=[Xc,Gc],j=[];function C(L,R){return L[2].length>0?0:1}return A=C(s),B=j[A]=q[A](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=d("button"),i.innerHTML=f,m=S(),g=d("div"),p=d("div"),_=d("div"),b=d("div"),b.innerHTML=w,y=S(),k=d("input"),I=S(),D=d("hr"),T=S(),E=d("div"),B.c(),this.h()},l(L){e=h(L,"DIV",{});var R=v(e);t=h(R,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var F=v(l);r=O(F,a),F.forEach(u),o=M(P),i=h(P,"BUTTON",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-745w2y"&&(i.innerHTML=f),P.forEach(u),m=M(R),g=h(R,"DIV",{class:!0});var Y=v(g);p=h(Y,"DIV",{class:!0});var $=v(p);_=h($,"DIV",{class:!0});var W=v(_);b=h(W,"DIV",{class:!0,"data-svelte-h":!0}),He(b)!=="svelte-kinl2y"&&(b.innerHTML=w),y=M(W),k=h(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),$.forEach(u),I=M(Y),D=h(Y,"HR",{class:!0}),T=M(Y),E=h(Y,"DIV",{class:!0});var G=v(E);B.l(G),G.forEach(u),Y.forEach(u),R.forEach(u),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(i,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),c(b,"class","self-center ml-1 mr-3"),c(k,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),c(k,"placeholder",V=s[3].t("Search Chats")),c(_,"class","flex flex-1"),c(p,"class","flex w-full mt-2 space-x-2"),c(D,"class","dark:border-gray-850 my-2"),c(E,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(g,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(L,R){z(L,e,R),n(e,t),n(t,l),n(l,r),n(t,o),n(t,i),n(e,m),n(e,g),n(g,p),n(p,_),n(_,b),n(_,y),n(_,k),je(k,s[1]),n(g,I),n(g,D),n(g,T),n(g,E),j[A].m(E,null),H=!0,Z||(N=[Q(i,"click",s[8]),Q(k,"input",s[9])],Z=!0)},p(L,R){(!H||R&8)&&a!==(a=L[3].t("Archived Chats")+"")&&U(r,a),(!H||R&8&&V!==(V=L[3].t("Search Chats")))&&c(k,"placeholder",V),R&2&&k.value!==L[1]&&je(k,L[1]);let P=A;A=C(L),A===P?j[A].p(L,R):(bt(),se(j[P],1,1,()=>{j[P]=null}),wt(),B=j[A],B?B.p(L,R):(B=j[A]=q[A](L),B.c()),J(B,1),B.m(E,null))},i(L){H||(J(B),H=!0)},o(L){se(B),H=!1},d(L){L&&u(e),j[A].d(),Z=!1,ht(N)}}}function tu(s){let e,t,l;function a(o){s[14](o)}let r={size:"lg",$$slots:{default:[eu]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Rl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&1048591&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function lu(s,e,t){let l;const{saveAs:a}=Ys,r=fl(),o=gt("i18n");Ae(s,o,T=>t(3,l=T));let{show:i=!1}=e,f="",m=[];const g=async T=>{await gn(localStorage.token,T).catch(E=>{Je.error(E)}),t(2,m=await Os(localStorage.token)),r("change")},p=async T=>{await bn(localStorage.token,T).catch(E=>{Je.error(E)}),t(2,m=await Os(localStorage.token))},_=async()=>{const T=await Un(localStorage.token);let E=new Blob([JSON.stringify(T)],{type:"application/json"});a(E,`archived-chat-export-${Date.now()}.json`)},b=()=>{t(0,i=!1)};function w(){f=this.value,t(1,f)}const y=T=>f===""||T.title.toLowerCase().includes(f.toLowerCase()),k=async T=>{g(T.id)},V=async T=>{p(T.id)},I=()=>{_()};function D(T){i=T,t(0,i)}return s.$$set=T=>{"show"in T&&t(0,i=T.show)},s.$$.update=()=>{s.$$.dirty&1&&i&&(async()=>t(2,m=await Os(localStorage.token)))()},[i,f,m,l,o,g,p,_,b,w,y,k,V,I,D]}class su extends ut{constructor(e){super(),ft(this,e,lu,tu,ct,{show:0})}}function au(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=it(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function ru(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class nu extends ut{constructor(e){super(),ft(this,e,ru,au,ct,{className:0,strokeWidth:1})}}function ou(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=it(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function iu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class cu extends ut{constructor(e){super(),ft(this,e,iu,ou,ct,{className:0,strokeWidth:1})}}function uu(s){let e,t;return{c(){e=ot("svg"),t=ot("path"),this.h()},l(l){e=it(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=it(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(u),a.forEach(u),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width",s[1]),c(e,"stroke","currentColor"),c(e,"class",s[0])},m(l,a){z(l,e,a),n(e,t)},p(l,[a]){a&2&&c(e,"stroke-width",l[1]),a&1&&c(e,"class",l[0])},i:Ue,o:Ue,d(l){l&&u(e)}}}function fu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class du extends ut{constructor(e){super(),ft(this,e,fu,uu,ct,{className:0,strokeWidth:1})}}function hu(s){let e;const t=s[12].default,l=dn(t,s,s[22],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&4194304)&&hn(l,t,a,a[22],e?mn(t,a[22],r,null):vn(a[22]),null)},i(a){e||(J(l,a),e=!0)},o(a){se(l,a),e=!1},d(a){l&&l.d(a)}}}function vu(s){let e,t;return e=new Ft({props:{content:s[9].t("More"),$$slots:{default:[hu]},$$scope:{ctx:s}}}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a&512&&(r.content=l[9].t("More")),a&4194304&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function mu(s){let e,t,l,a=s[9].t("Pin")+"",r,o;return e=new cu({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Pin")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function _u(s){let e,t,l,a=s[9].t("Unpin")+"",r,o;return e=new du({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Unpin")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function pu(s){let e,t,l,a;const r=[_u,mu],o=[];function i(f,m){return f[8]?0:1}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),l=$l()},l(f){t.l(f),l=$l()},m(f,m){o[e].m(f,m),z(f,l,m),a=!0},p(f,m){let g=e;e=i(f),e===g?o[e].p(f,m):(bt(),se(o[g],1,1,()=>{o[g]=null}),wt(),t=o[e],t?t.p(f,m):(t=o[e]=r[e](f),t.c()),J(t,1),t.m(l.parentNode,l))},i(f){a||(J(t),a=!0)},o(f){se(t),a=!1},d(f){f&&u(l),o[e].d(f)}}}function gu(s){let e,t,l,a=s[9].t("Rename")+"",r,o;return e=new nu({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Rename")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function bu(s){let e,t,l,a=s[9].t("Clone")+"",r,o;return e=new Ao({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Clone")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function wu(s){let e,t,l,a=s[9].t("Archive")+"",r,o;return e=new Dn({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Archive")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function ku(s){let e,t,l,a=s[9].t("Share")+"",r,o;return e=new Lo({}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Share")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function yu(s){let e,t,l,a=s[9].t("Delete")+"",r,o;return e=new Tn({props:{strokeWidth:"2"}}),{c(){me(e.$$.fragment),t=S(),l=d("div"),r=x(a),this.h()},l(i){_e(e.$$.fragment,i),t=M(i),l=h(i,"DIV",{class:!0});var f=v(l);r=O(f,a),f.forEach(u),this.h()},h(){c(l,"class","flex items-center")},m(i,f){pe(e,i,f),z(i,t,f),z(i,l,f),n(l,r),o=!0},p(i,f){(!o||f&512)&&a!==(a=i[9].t("Delete")+"")&&U(r,a)},i(i){o||(J(e.$$.fragment,i),o=!0)},o(i){se(e.$$.fragment,i),o=!1},d(i){i&&(u(t),u(l)),ge(e,i)}}}function Eu(s){let e,t,l,a,r,o,i,f,m,g,p,_,b,w,y,k,V;return e=new Ul({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[pu]},$$scope:{ctx:s}}}),e.$on("click",s[13]),l=new Ul({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[gu]},$$scope:{ctx:s}}}),l.$on("click",s[14]),r=new Ul({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[bu]},$$scope:{ctx:s}}}),r.$on("click",s[15]),i=new Ul({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[wu]},$$scope:{ctx:s}}}),i.$on("click",s[16]),m=new Ul({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[ku]},$$scope:{ctx:s}}}),m.$on("click",s[17]),p=new Ul({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[yu]},$$scope:{ctx:s}}}),p.$on("click",s[18]),k=new Io({props:{chatId:s[6]}}),k.$on("close",s[19]),{c(){me(e.$$.fragment),t=S(),me(l.$$.fragment),a=S(),me(r.$$.fragment),o=S(),me(i.$$.fragment),f=S(),me(m.$$.fragment),g=S(),me(p.$$.fragment),_=S(),b=d("hr"),w=S(),y=d("div"),me(k.$$.fragment),this.h()},l(I){_e(e.$$.fragment,I),t=M(I),_e(l.$$.fragment,I),a=M(I),_e(r.$$.fragment,I),o=M(I),_e(i.$$.fragment,I),f=M(I),_e(m.$$.fragment,I),g=M(I),_e(p.$$.fragment,I),_=M(I),b=h(I,"HR",{class:!0}),w=M(I),y=h(I,"DIV",{class:!0});var D=v(y);_e(k.$$.fragment,D),D.forEach(u),this.h()},h(){c(b,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),c(y,"class","flex p-1")},m(I,D){pe(e,I,D),z(I,t,D),pe(l,I,D),z(I,a,D),pe(r,I,D),z(I,o,D),pe(i,I,D),z(I,f,D),pe(m,I,D),z(I,g,D),pe(p,I,D),z(I,_,D),z(I,b,D),z(I,w,D),z(I,y,D),pe(k,y,null),V=!0},p(I,D){const T={};D&4195072&&(T.$$scope={dirty:D,ctx:I}),e.$set(T);const E={};D&4194816&&(E.$$scope={dirty:D,ctx:I}),l.$set(E);const A={};D&4194816&&(A.$$scope={dirty:D,ctx:I}),r.$set(A);const B={};D&4194816&&(B.$$scope={dirty:D,ctx:I}),i.$set(B);const H={};D&4194816&&(H.$$scope={dirty:D,ctx:I}),m.$set(H);const Z={};D&4194816&&(Z.$$scope={dirty:D,ctx:I}),p.$set(Z);const N={};D&64&&(N.chatId=I[6]),k.$set(N)},i(I){V||(J(e.$$.fragment,I),J(l.$$.fragment,I),J(r.$$.fragment,I),J(i.$$.fragment,I),J(m.$$.fragment,I),J(p.$$.fragment,I),J(k.$$.fragment,I),V=!0)},o(I){se(e.$$.fragment,I),se(l.$$.fragment,I),se(r.$$.fragment,I),se(i.$$.fragment,I),se(m.$$.fragment,I),se(p.$$.fragment,I),se(k.$$.fragment,I),V=!1},d(I){I&&(u(t),u(a),u(o),u(f),u(g),u(_),u(b),u(w),u(y)),ge(e,I),ge(l,I),ge(r,I),ge(i,I),ge(m,I),ge(p,I),ge(k)}}}function Iu(s){let e,t,l;return t=new So({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Mo,$$slots:{default:[Eu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{slot:!0});var r=v(e);_e(t.$$.fragment,r),r.forEach(u),this.h()},h(){c(e,"slot","content")},m(a,r){z(a,e,r),pe(t,e,null),l=!0},p(a,r){const o={};r&4195327&&(o.$$scope={dirty:r,ctx:a}),t.$set(o)},i(a){l||(J(t.$$.fragment,a),l=!0)},o(a){se(t.$$.fragment,a),l=!1},d(a){a&&u(e),ge(t)}}}function Du(s){let e,t,l;function a(o){s[20](o)}let r={$$slots:{content:[Iu],default:[vu]},$$scope:{ctx:s}};return s[7]!==void 0&&(r.show=s[7]),e=new Co({props:r}),mt.push(()=>Et(e,"show",a)),e.$on("change",s[21]),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&4195327&&(f.$$scope={dirty:i,ctx:o}),!t&&i&128&&(t=!0,f.show=o[7],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}function Tu(s,e,t){let l,{$$slots:a={},$$scope:r}=e;const o=fl(),i=gt("i18n");Ae(s,i,j=>t(9,l=j));let{shareHandler:f}=e,{cloneChatHandler:m}=e,{archiveChatHandler:g}=e,{renameHandler:p}=e,{deleteHandler:_}=e,{onClose:b}=e,{chatId:w=""}=e,y=!1,k=!1;const V=async()=>{k?await jn(localStorage.token,w,"pinned"):await Pn(localStorage.token,w,"pinned"),o("change")},I=async()=>{t(8,k=(await $n(localStorage.token,w).catch(async j=>[])).find(j=>j.name==="pinned"))},D=()=>{V()},T=()=>{p()},E=()=>{m()},A=()=>{g()},B=()=>{f()},H=()=>{_()},Z=()=>{t(7,y=!1),b()};function N(j){y=j,t(7,y)}const q=j=>{j.detail===!1&&b()};return s.$$set=j=>{"shareHandler"in j&&t(0,f=j.shareHandler),"cloneChatHandler"in j&&t(1,m=j.cloneChatHandler),"archiveChatHandler"in j&&t(2,g=j.archiveChatHandler),"renameHandler"in j&&t(3,p=j.renameHandler),"deleteHandler"in j&&t(4,_=j.deleteHandler),"onClose"in j&&t(5,b=j.onClose),"chatId"in j&&t(6,w=j.chatId),"$$scope"in j&&t(22,r=j.$$scope)},s.$$.update=()=>{s.$$.dirty&128&&y&&I()},[f,m,g,p,_,b,w,y,k,l,i,V,a,D,T,E,A,B,H,Z,N,q,r]}class Vu extends ut{constructor(e){super(),ft(this,e,Tu,Du,ct,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function Cu(s){let e,t,l,a=s[0].title+"",r,o,i,f,m;return{c(){e=d("a"),t=d("div"),l=d("div"),r=x(a),this.h()},l(g){e=h(g,"A",{class:!0,href:!0,draggable:!0});var p=v(e);t=h(p,"DIV",{class:!0});var _=v(t);l=h(_,"DIV",{class:!0});var b=v(l);r=O(b,a),b.forEach(u),_.forEach(u),p.forEach(u),this.h()},h(){c(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),c(t,"class","flex self-center flex-1 w-full"),c(e,"class",o="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[7]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),c(e,"href",i="/c/"+s[0].id),c(e,"draggable","false")},m(g,p){z(g,e,p),n(e,t),n(t,l),n(l,r),f||(m=[Q(e,"click",s[18]),Q(e,"dblclick",s[19]),Q(e,"mouseenter",s[20]),Q(e,"mouseleave",s[21]),Q(e,"focus",Pu)],f=!0)},p(g,p){p[0]&1&&a!==(a=g[0].title+"")&&U(r,a),p[0]&163&&o!==(o="w-full flex justify-between rounded-xl px-3 py-2 "+(g[0].id===g[7]||g[5]?"bg-gray-200 dark:bg-gray-900":g[1]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",o),p[0]&1&&i!==(i="/c/"+g[0].id)&&c(e,"href",i)},d(g){g&&u(e),f=!1,ht(m)}}}function Su(s){let e,t,l,a,r;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);t=h(i,"INPUT",{class:!0}),i.forEach(u),this.h()},h(){c(t,"class","bg-transparent w-full outline-none mr-10"),c(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[0].id===s[7]||s[5]?"bg-gray-200 dark:bg-gray-900":s[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(o,i){z(o,e,i),n(e,t),je(t,s[6]),a||(r=[Mn(s[15].call(null,t)),Q(t,"input",s[17])],a=!0)},p(o,i){i[0]&64&&t.value!==o[6]&&je(t,o[6]),i[0]&163&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(o[0].id===o[7]||o[5]?"bg-gray-200 dark:bg-gray-900":o[1]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&c(e,"class",l)},d(o){o&&u(e),a=!1,ht(r)}}}function Mu(s){let e,t,l,a;t=new Vu({props:{chatId:s[0].id,cloneChatHandler:s[27],shareHandler:s[28],archiveChatHandler:s[29],renameHandler:s[30],deleteHandler:s[31],onClose:s[32],$$slots:{default:[Bu]},$$scope:{ctx:s}}}),t.$on("change",s[33]);let r=s[0].id===s[7]&&Nr(s);return{c(){e=d("div"),me(t.$$.fragment),l=S(),r&&r.c(),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=M(i),r&&r.l(i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1 z-10")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),r&&r.m(e,null),a=!0},p(o,i){const f={};i[0]&1&&(f.chatId=o[0].id),i[0]&1&&(f.cloneChatHandler=o[27]),i[0]&16&&(f.shareHandler=o[28]),i[0]&1&&(f.archiveChatHandler=o[29]),i[0]&97&&(f.renameHandler=o[30]),i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f),o[0].id===o[7]?r?r.p(o,i):(r=Nr(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){a||(J(t.$$.fragment,o),a=!0)},o(o){se(t.$$.fragment,o),a=!1},d(o){o&&u(e),ge(t),r&&r.d()}}}function Au(s){let e,t,l,a,r;return t=new Ft({props:{content:s[8].t("Archive"),className:"flex items-center",$$slots:{default:[Nu]},$$scope:{ctx:s}}}),a=new Ft({props:{content:s[8].t("Delete"),$$slots:{default:[xu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),me(a.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=M(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex items-center self-center space-x-1.5")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),pe(a,e,null),r=!0},p(o,i){const f={};i[0]&256&&(f.content=o[8].t("Archive")),i[0]&1|i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const m={};i[0]&256&&(m.content=o[8].t("Delete")),i[1]&128&&(m.$$scope={dirty:i,ctx:o}),a.$set(m)},i(o){r||(J(t.$$.fragment,o),J(a.$$.fragment,o),r=!0)},o(o){se(t.$$.fragment,o),se(a.$$.fragment,o),r=!1},d(o){o&&u(e),ge(t),ge(a)}}}function Lu(s){let e,t,l,a,r;return t=new Ft({props:{content:s[8].t("Confirm"),$$slots:{default:[Ou]},$$scope:{ctx:s}}}),a=new Ft({props:{content:s[8].t("Cancel"),$$slots:{default:[Hu]},$$scope:{ctx:s}}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),me(a.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),l=M(i),_e(a.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","flex self-center space-x-1.5 z-10")},m(o,i){z(o,e,i),pe(t,e,null),n(e,l),pe(a,e,null),r=!0},p(o,i){const f={};i[0]&256&&(f.content=o[8].t("Confirm")),i[0]&97|i[1]&128&&(f.$$scope={dirty:i,ctx:o}),t.$set(f);const m={};i[0]&256&&(m.content=o[8].t("Cancel")),i[0]&96|i[1]&128&&(m.$$scope={dirty:i,ctx:o}),a.$set(m)},i(o){r||(J(t.$$.fragment,o),J(a.$$.fragment,o),r=!0)},o(o){se(t.$$.fragment,o),se(a.$$.fragment,o),r=!1},d(o){o&&u(e),ge(t),ge(a)}}}function Bu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-1nmly1h"&&(e.innerHTML=t),this.h()},h(){c(e,"aria-label","Chat Menu"),c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=Q(e,"click",s[26]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function Nr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),He(e)!=="svelte-17232xf"&&(e.innerHTML=t),this.h()},h(){c(e,"id","delete-chat-button"),c(e,"class","hidden")},m(r,o){z(r,e,o),l||(a=Q(e,"click",s[34]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function Nu(s){let e,t,l,a,r;return t=new Dn({props:{className:"size-4  translate-y-[0.5px]",strokeWidth:"2"}}),{c(){e=d("button"),me(t.$$.fragment),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){z(o,e,i),pe(t,e,null),l=!0,a||(r=Q(e,"click",s[24]),a=!0)},p:Ue,i(o){l||(J(t.$$.fragment,o),l=!0)},o(o){se(t.$$.fragment,o),l=!1},d(o){o&&u(e),ge(t),a=!1,r()}}}function xu(s){let e,t,l,a,r;return t=new Tn({props:{strokeWidth:"2"}}),{c(){e=d("button"),me(t.$$.fragment),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(u),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition"),c(e,"type","button")},m(o,i){z(o,e,i),pe(t,e,null),l=!0,a||(r=Q(e,"click",s[25]),a=!0)},p:Ue,i(o){l||(J(t.$$.fragment,o),l=!0)},o(o){se(t.$$.fragment,o),l=!1},d(o){o&&u(e),ge(t),a=!1,r()}}}function Ou(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-15k98vn"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=Q(e,"click",s[22]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function Hu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-19qct0m"&&(e.innerHTML=t),this.h()},h(){c(e,"class","self-center dark:hover:text-white transition")},m(r,o){z(r,e,o),l||(a=Q(e,"click",s[23]),l=!0)},p:Ue,d(r){r&&u(e),l=!1,a()}}}function Uu(s){let e,t,l,a,r,o,i,f,m,g,p,_;function b(E){s[16](E)}let w={chatId:s[0].id};s[4]!==void 0&&(w.show=s[4]),e=new Do({props:w}),mt.push(()=>Et(e,"show",b));function y(E,A){return E[5]?Su:Cu}let k=y(s),V=k(s);const I=[Lu,Au,Mu],D=[];function T(E,A){return E[5]?0:E[2]&&E[3]?1:2}return i=T(s),f=D[i]=I[i](s),{c(){me(e.$$.fragment),l=S(),a=d("div"),V.c(),r=S(),o=d("div"),f.c(),this.h()},l(E){_e(e.$$.fragment,E),l=M(E),a=h(E,"DIV",{class:!0});var A=v(a);V.l(A),r=M(A),o=h(A,"DIV",{class:!0});var B=v(o);f.l(B),B.forEach(u),A.forEach(u),this.h()},h(){c(o,"class",m=(s[0].id===s[7]||s[5]?"from-gray-200 dark:from-gray-900":s[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),c(a,"class","w-full pr-2 relative group")},m(E,A){pe(e,E,A),z(E,l,A),z(E,a,A),V.m(a,null),n(a,r),n(a,o),D[i].m(o,null),g=!0,p||(_=[Q(o,"mouseenter",s[35]),Q(o,"mouseleave",s[36])],p=!0)},p(E,A){const B={};A[0]&1&&(B.chatId=E[0].id),!t&&A[0]&16&&(t=!0,B.show=E[4],yt(()=>t=!1)),e.$set(B),k===(k=y(E))&&V?V.p(E,A):(V.d(1),V=k(E),V&&(V.c(),V.m(a,r)));let H=i;i=T(E),i===H?D[i].p(E,A):(bt(),se(D[H],1,1,()=>{D[H]=null}),wt(),f=D[i],f?f.p(E,A):(f=D[i]=I[i](E),f.c()),J(f,1),f.m(o,null)),(!g||A[0]&163&&m!==(m=(E[0].id===E[7]||E[5]?"from-gray-200 dark:from-gray-900":E[1]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[6px] py-1 pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&c(o,"class",m)},i(E){g||(J(e.$$.fragment,E),J(f),g=!0)},o(E){se(e.$$.fragment,E),se(f),g=!1},d(E){E&&(u(l),u(a)),ge(e,E),V.d(),D[i].d(),p=!1,ht(_)}}}const Pu=s=>{};function $u(s,e,t){let l,a,r,o;Ae(s,Zt,te=>t(37,l=te)),Ae(s,Is,te=>t(7,a=te)),Ae(s,zs,te=>t(9,o=te));const i=gt("i18n");Ae(s,i,te=>t(8,r=te));const f=fl();let{chat:m}=e,{selected:g=!1}=e,{shiftKey:p=!1}=e,_=!1,b=!1,w=!1,y=m.title;const k=async(te,ue)=>{ue===""?Je.error(r.t("Title cannot be an empty string.")):(await zn(localStorage.token,te,{title:ue}),te===a&&Jn.set(ue),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),await Sl.set(await Vl(localStorage.token,"pinned")))},V=async te=>{const ue=await Rn(localStorage.token,te).catch(Ee=>(Je.error(Ee),null));ue&&(Al(`/c/${ue.id}`),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),await Sl.set(await Vl(localStorage.token,"pinned")))},I=async te=>{await gn(localStorage.token,te),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),await Sl.set(await Vl(localStorage.token,"pinned"))},D=async te=>{te.focus()};function T(te){b=te,t(4,b)}function E(){y=this.value,t(6,y)}const A=()=>{f("select"),o&&il.set(!1)},B=()=>{t(6,y=m.title),t(5,w=!0)},H=te=>{t(3,_=!0)},Z=te=>{t(3,_=!1)},N=()=>{k(m.id,y),t(5,w=!1),t(6,y="")},q=()=>{t(5,w=!1),t(6,y="")},j=()=>{I(m.id)},C=()=>{f("delete","shift")},L=()=>{f("select")},R=()=>{V(m.id)},P=()=>{t(4,b=!0)},F=()=>{I(m.id)},Y=()=>{t(6,y=m.title),t(5,w=!0)},$=()=>{f("delete")},W=()=>{f("unselect")},G=async()=>{await Sl.set(await Vl(localStorage.token,"pinned"))},X=()=>{f("delete")},K=te=>{t(3,_=!0)},re=te=>{t(3,_=!1)};return s.$$set=te=>{"chat"in te&&t(0,m=te.chat),"selected"in te&&t(1,g=te.selected),"shiftKey"in te&&t(2,p=te.shiftKey)},[m,g,p,_,b,w,y,a,r,o,i,f,k,V,I,D,T,E,A,B,H,Z,N,q,j,C,L,R,P,F,Y,$,W,G,X,K,re]}class Sn extends ut{constructor(e){super(),ft(this,e,$u,Uu,ct,{chat:0,selected:1,shiftKey:2},null,[-1,-1])}}function xr(s,e,t){const l=s.slice();return l[52]=e[t],l[54]=t,l}function Or(s,e,t){const l=s.slice();return l[52]=e[t],l[54]=t,l}function Hr(s,e,t){const l=s.slice();return l[56]=e[t],l}function ju(s){let e,t=s[14].t("This will delete")+"",l,a,r,o=s[5].title+"",i,f;return{c(){e=d("div"),l=x(t),a=S(),r=d("span"),i=x(o),f=x("."),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=v(e);l=O(g,t),a=M(g),r=h(g,"SPAN",{class:!0});var p=v(r);i=O(p,o),p.forEach(u),f=O(g,"."),g.forEach(u),this.h()},h(){c(r,"class","font-semibold"),c(e,"class","text-sm text-gray-500 flex-1 line-clamp-3")},m(m,g){z(m,e,g),n(e,l),n(e,a),n(e,r),n(r,i),n(e,f)},p(m,g){g[0]&16384&&t!==(t=m[14].t("This will delete")+"")&&U(l,t),g[0]&32&&o!==(o=m[5].title+"")&&U(i,o)},d(m){m&&u(e)}}}function Ur(s){let e,t,l;return{c(){e=d("div"),this.h()},l(a){e=h(a,"DIV",{class:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(a,r){z(a,e,r),t||(l=Q(e,"mousedown",s[30]),t=!0)},p:Ue,d(a){a&&u(e),t=!1,l()}}}function Pr(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',r,o,i,f=s[14].t("Workspace")+"",m,g,p;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=a,r=S(),o=d("div"),i=d("div"),m=x(f),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"A",{class:!0,href:!0,draggable:!0});var w=v(t);l=h(w,"DIV",{class:!0,"data-svelte-h":!0}),He(l)!=="svelte-zod9jr"&&(l.innerHTML=a),r=M(w),o=h(w,"DIV",{class:!0});var y=v(o);i=h(y,"DIV",{class:!0});var k=v(i);m=O(k,f),k.forEach(u),y.forEach(u),w.forEach(u),b.forEach(u),this.h()},h(){c(l,"class","self-center"),c(i,"class","self-center font-medium text-sm font-primary"),c(o,"class","flex self-center"),c(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(t,"href","/workspace"),c(t,"draggable","false"),c(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(_,b){z(_,e,b),n(e,t),n(t,l),n(t,r),n(t,o),n(o,i),n(i,m),g||(p=Q(t,"click",s[33]),g=!0)},p(_,b){b[0]&16384&&f!==(f=_[14].t("Workspace")+"")&&U(m,f)},d(_){_&&u(e),g=!1,p()}}}function $r(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","absolute z-40 w-full h-full flex justify-center")},m(t,l){z(t,e,l)},d(t){t&&u(e)}}}function jr(s){let e,t,l=s[14].t("all")+"",a,r,o,i,f,m=nt(s[18].filter(Gr)),g=[];for(let p=0;p<m.length;p+=1)g[p]=zr(Hr(s,m,p));return{c(){e=d("div"),t=d("button"),a=x(l),o=S();for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var _=v(e);t=h(_,"BUTTON",{class:!0});var b=v(t);a=O(b,l),b.forEach(u),o=M(_);for(let w=0;w<g.length;w+=1)g[w].l(_);_.forEach(u),this.h()},h(){c(t,"class",r="px-2.5 py-[1px] text-xs transition "+(s[8]===null?"bg-gray-100 dark:bg-gray-900":" ")+" rounded-md font-medium"),c(e,"class","px-3.5 mb-1 flex gap-0.5 flex-wrap")},m(p,_){z(p,e,_),n(e,t),n(t,a),n(e,o);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(e,null);i||(f=Q(t,"click",s[36]),i=!0)},p(p,_){if(_[0]&16384&&l!==(l=p[14].t("all")+"")&&U(a,l),_[0]&256&&r!==(r="px-2.5 py-[1px] text-xs transition "+(p[8]===null?"bg-gray-100 dark:bg-gray-900":" ")+" rounded-md font-medium")&&c(t,"class",r),_[0]&4457728){m=nt(p[18].filter(Gr));let b;for(b=0;b<m.length;b+=1){const w=Hr(p,m,b);g[b]?g[b].p(w,_):(g[b]=zr(w),g[b].c(),g[b].m(e,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}},d(p){p&&u(e),Ht(g,p),i=!1,f()}}}function zr(s){let e,t=s[56].name+"",l,a,r,o,i;function f(){return s[37](s[56])}return{c(){e=d("button"),l=x(t),a=S(),this.h()},l(m){e=h(m,"BUTTON",{class:!0});var g=v(e);l=O(g,t),a=M(g),g.forEach(u),this.h()},h(){c(e,"class",r="px-2.5 py-[1px] text-xs transition "+(s[8]===s[56].name?"bg-gray-100 dark:bg-gray-900":"")+" rounded-md font-medium")},m(m,g){z(m,e,g),n(e,l),n(e,a),o||(i=Q(e,"click",f),o=!0)},p(m,g){s=m,g[0]&262144&&t!==(t=s[56].name+"")&&U(l,t),g[0]&262400&&r!==(r="px-2.5 py-[1px] text-xs transition "+(s[8]===s[56].name?"bg-gray-100 dark:bg-gray-900":"")+" rounded-md font-medium")&&c(e,"class",r)},d(m){m&&u(e),o=!1,i()}}}function Rr(s){let e,t,l,a=s[14].t("Pinned")+"",r,o,i,f=nt(s[19]),m=[];for(let p=0;p<f.length;p+=1)m[p]=Wr(Or(s,f,p));const g=p=>se(m[p],1,1,()=>{m[p]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S();for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0});var b=v(t);l=h(b,"DIV",{class:!0});var w=v(l);r=O(w,a),w.forEach(u),o=M(b);for(let y=0;y<m.length;y+=1)m[y].l(b);b.forEach(u),_.forEach(u),this.h()},h(){c(l,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium pb-1.5"),c(t,"class",""),c(e,"class","pl-2 py-2 flex flex-col space-y-1")},m(p,_){z(p,e,_),n(e,t),n(t,l),n(l,r),n(t,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(t,null);i=!0},p(p,_){if((!i||_[0]&16384)&&a!==(a=p[14].t("Pinned")+"")&&U(r,a),_[0]&34078840){f=nt(p[19]);let b;for(b=0;b<f.length;b+=1){const w=Or(p,f,b);m[b]?(m[b].p(w,_),J(m[b],1)):(m[b]=Wr(w),m[b].c(),J(m[b],1),m[b].m(t,null))}for(bt(),b=f.length;b<m.length;b+=1)g(b);wt()}},i(p){if(!i){for(let _=0;_<f.length;_+=1)J(m[_]);i=!0}},o(p){m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)se(m[_]);i=!1},d(p){p&&u(e),Ht(m,p)}}}function Wr(s){let e,t;function l(){return s[38](s[52])}function a(...r){return s[40](s[52],...r)}return e=new Sn({props:{chat:s[52],shiftKey:s[3],selected:s[4]===s[52].id}}),e.$on("select",l),e.$on("unselect",s[39]),e.$on("delete",a),{c(){me(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,o){pe(e,r,o),t=!0},p(r,o){s=r;const i={};o[0]&524288&&(i.chat=s[52]),o[0]&8&&(i.shiftKey=s[3]),o[0]&524304&&(i.selected=s[4]===s[52].id),e.$set(i)},i(r){t||(J(e.$$.fragment,r),t=!0)},o(r){se(e.$$.fragment,r),t=!1},d(r){ge(e,r)}}}function Zr(s){let e,t=s[14].t(s[52].time_range)+"",l;return{c(){e=d("div"),l=x(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);l=O(r,t),r.forEach(u),this.h()},h(){c(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[54]===0?"":"pt-5")+" pb-0.5")},m(a,r){z(a,e,r),n(e,l)},p(a,r){r[0]&16896&&t!==(t=a[14].t(a[52].time_range)+"")&&U(l,t)},d(a){a&&u(e)}}}function Fr(s){let e,t,l,a=(s[54]===0||s[54]>0&&s[52].time_range!==s[9][s[54]-1].time_range)&&Zr(s);function r(){return s[41](s[52])}function o(...i){return s[43](s[52],...i)}return t=new Sn({props:{chat:s[52],shiftKey:s[3],selected:s[4]===s[52].id}}),t.$on("select",r),t.$on("unselect",s[42]),t.$on("delete",o),{c(){a&&a.c(),e=S(),me(t.$$.fragment)},l(i){a&&a.l(i),e=M(i),_e(t.$$.fragment,i)},m(i,f){a&&a.m(i,f),z(i,e,f),pe(t,i,f),l=!0},p(i,f){s=i,s[54]===0||s[54]>0&&s[52].time_range!==s[9][s[54]-1].time_range?a?a.p(s,f):(a=Zr(s),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const m={};f[0]&512&&(m.chat=s[52]),f[0]&8&&(m.shiftKey=s[3]),f[0]&528&&(m.selected=s[4]===s[52].id),t.$set(m)},i(i){l||(J(t.$$.fragment,i),l=!0)},o(i){se(t.$$.fragment,i),l=!1},d(i){i&&u(e),a&&a.d(i),ge(t,i)}}}function Yr(s){let e,t;return e=new xo({props:{$$slots:{default:[zu]},$$scope:{ctx:s}}}),e.$on("visible",s[44]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a[1]&268435456&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function zu(s){let e,t,l,a,r="Loading...",o;return t=new No({props:{className:" size-4"}}),{c(){e=d("div"),me(t.$$.fragment),l=S(),a=d("div"),a.textContent=r,this.h()},l(i){e=h(i,"DIV",{class:!0});var f=v(e);_e(t.$$.fragment,f),l=M(f),a=h(f,"DIV",{class:!0,"data-svelte-h":!0}),He(a)!=="svelte-17uns3n"&&(a.textContent=r),f.forEach(u),this.h()},h(){c(a,"class",""),c(e,"class","w-full flex justify-center py-1 text-xs animate-pulse items-center gap-2")},m(i,f){z(i,e,f),pe(t,e,null),n(e,l),n(e,a),o=!0},p:Ue,i(i){o||(J(t.$$.fragment,i),o=!0)},o(i){se(t.$$.fragment,i),o=!1},d(i){i&&u(e),ge(t)}}}function qr(s){let e,t;return e=new To({props:{role:s[16].role,$$slots:{default:[Ru]},$$scope:{ctx:s}}}),e.$on("show",s[46]),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p(l,a){const r={};a[0]&65536&&(r.role=l[16].role),a[0]&65664|a[1]&268435456&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Ru(s){let e,t,l,a,r,o,i=s[16].name+"",f,m,g;return{c(){e=d("button"),t=d("div"),l=d("img"),r=S(),o=d("div"),f=x(i),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var _=v(e);t=h(_,"DIV",{class:!0});var b=v(t);l=h(b,"IMG",{src:!0,class:!0,alt:!0}),b.forEach(u),r=M(_),o=h(_,"DIV",{class:!0});var w=v(o);f=O(w,i),w.forEach(u),_.forEach(u),this.h()},h(){Ds(l.src,a=s[16].profile_image_url)||c(l,"src",a),c(l,"class","max-w-[30px] object-cover rounded-full"),c(l,"alt","User profile"),c(t,"class","self-center mr-3"),c(o,"class","self-center font-medium"),c(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(p,_){z(p,e,_),n(e,t),n(t,l),n(e,r),n(e,o),n(o,f),m||(g=Q(e,"click",s[45]),m=!0)},p(p,_){_[0]&65536&&!Ds(l.src,a=p[16].profile_image_url)&&c(l,"src",a),_[0]&65536&&i!==(i=p[16].name+"")&&U(f,i)},d(p){p&&u(e),m=!1,g()}}}function Wu(s){var Qe;let e,t,l,a,r,o,i,f,m,g,p,_,b=`<img crossorigin="anonymous" src="${Qn}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,w,y,k=s[14].t("New Chat")+"",V,I,D,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',E,A,B='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',H,Z,N,q,j,C,L,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',P,F,Y,$,W=s[18].filter(Kr).length>0,G,X,K,re,te,ue,Ee,be,Be,Pe,Le,de,ve;function xe(ee){s[26](ee)}let Se={};s[13]!==void 0&&(Se.show=s[13]),e=new su({props:Se}),mt.push(()=>Et(e,"show",xe)),e.$on("change",s[27]);function Ze(ee){s[28](ee)}let le={title:s[14].t("Delete chat?"),$$slots:{default:[ju]},$$scope:{ctx:s}};s[6]!==void 0&&(le.show=s[6]),a=new Bo({props:le}),mt.push(()=>Et(a,"show",Ze)),a.$on("confirm",s[29]);let fe=s[12]&&Ur(s),Ie=((Qe=s[16])==null?void 0:Qe.role)==="admin"&&Pr(s),oe=s[17]&&$r(),De=W&&jr(s),we=!s[0]&&s[19].length>0&&Rr(s),Re=nt(s[9]),ae=[];for(let ee=0;ee<Re.length;ee+=1)ae[ee]=Fr(xr(s,Re,ee));const Ve=ee=>se(ae[ee],1,1,()=>{ae[ee]=null});let ce=s[20]&&!s[11]&&Yr(s),Te=s[16]!==void 0&&qr(s);return{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),fe&&fe.c(),i=S(),f=d("div"),m=d("div"),g=d("div"),p=d("a"),_=d("div"),_.innerHTML=b,w=S(),y=d("div"),V=x(k),I=S(),D=d("div"),D.innerHTML=T,E=S(),A=d("button"),A.innerHTML=B,H=S(),Ie&&Ie.c(),Z=S(),N=d("div"),oe&&oe.c(),q=S(),j=d("div"),C=d("div"),L=d("div"),L.innerHTML=R,P=S(),F=d("input"),$=S(),De&&De.c(),G=S(),we&&we.c(),X=S(),K=d("div");for(let ee=0;ee<ae.length;ee+=1)ae[ee].c();re=S(),ce&&ce.c(),ue=S(),Ee=d("div"),be=d("div"),Te&&Te.c(),this.h()},l(ee){_e(e.$$.fragment,ee),l=M(ee),_e(a.$$.fragment,ee),o=M(ee),fe&&fe.l(ee),i=M(ee),f=h(ee,"DIV",{id:!0,class:!0,"data-state":!0});var ie=v(f);m=h(ie,"DIV",{class:!0});var ke=v(m);g=h(ke,"DIV",{class:!0});var Oe=v(g);p=h(Oe,"A",{id:!0,class:!0,href:!0,draggable:!0});var et=v(p);_=h(et,"DIV",{class:!0,"data-svelte-h":!0}),He(_)!=="svelte-r2hfwb"&&(_.innerHTML=b),w=M(et),y=h(et,"DIV",{class:!0});var ze=v(y);V=O(ze,k),ze.forEach(u),I=M(et),D=h(et,"DIV",{class:!0,"data-svelte-h":!0}),He(D)!=="svelte-aq723q"&&(D.innerHTML=T),et.forEach(u),E=M(Oe),A=h(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),He(A)!=="svelte-d56ezf"&&(A.innerHTML=B),Oe.forEach(u),H=M(ke),Ie&&Ie.l(ke),Z=M(ke),N=h(ke,"DIV",{class:!0});var We=v(N);oe&&oe.l(We),q=M(We),j=h(We,"DIV",{class:!0});var Ke=v(j);C=h(Ke,"DIV",{class:!0,id:!0});var tt=v(C);L=h(tt,"DIV",{class:!0,"data-svelte-h":!0}),He(L)!=="svelte-1yg7etj"&&(L.innerHTML=R),P=M(tt),F=h(tt,"INPUT",{class:!0,placeholder:!0}),tt.forEach(u),Ke.forEach(u),$=M(We),De&&De.l(We),G=M(We),we&&we.l(We),X=M(We),K=h(We,"DIV",{class:!0});var lt=v(K);for(let qe=0;qe<ae.length;qe+=1)ae[qe].l(lt);re=M(lt),ce&&ce.l(lt),lt.forEach(u),We.forEach(u),ue=M(ke),Ee=h(ke,"DIV",{class:!0});var Fe=v(Ee);be=h(Fe,"DIV",{class:!0});var st=v(be);Te&&Te.l(st),st.forEach(u),Fe.forEach(u),ke.forEach(u),ie.forEach(u),this.h()},h(){c(_,"class","self-center mx-1.5"),c(y,"class","self-center font-medium text-sm text-gray-850 dark:text-white font-primary"),c(D,"class","self-center ml-auto"),c(p,"id","sidebar-new-chat-button"),c(p,"class","flex flex-1 justify-between rounded-xl px-2 h-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(p,"href","/"),c(p,"draggable","false"),c(A,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-900 transition"),c(g,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),c(L,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),c(F,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),c(F,"placeholder",Y=s[14].t("Search")),c(C,"class","flex w-full rounded-xl"),c(C,"id","chat-search"),c(j,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),c(K,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),c(N,"class",te="relative flex flex-col flex-1 overflow-y-auto "+(s[17]?"opacity-20":"")),c(be,"class","flex flex-col font-primary"),c(Ee,"class","px-2.5 pb-safe-bottom"),c(m,"class",Be="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[12]?"":"invisible")),c(f,"id","sidebar"),c(f,"class",Pe="h-screen max-h-[100dvh] min-h-screen select-none "+(s[12]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0"),c(f,"data-state",s[12])},m(ee,ie){pe(e,ee,ie),z(ee,l,ie),pe(a,ee,ie),z(ee,o,ie),fe&&fe.m(ee,ie),z(ee,i,ie),z(ee,f,ie),n(f,m),n(m,g),n(g,p),n(p,_),n(p,w),n(p,y),n(y,V),n(p,I),n(p,D),n(g,E),n(g,A),n(m,H),Ie&&Ie.m(m,null),n(m,Z),n(m,N),oe&&oe.m(N,null),n(N,q),n(N,j),n(j,C),n(C,L),n(C,P),n(C,F),je(F,s[0]),n(N,$),De&&De.m(N,null),n(N,G),we&&we.m(N,null),n(N,X),n(N,K);for(let ke=0;ke<ae.length;ke+=1)ae[ke]&&ae[ke].m(K,null);n(K,re),ce&&ce.m(K,null),n(m,ue),n(m,Ee),n(Ee,be),Te&&Te.m(be,null),s[47](f),Le=!0,de||(ve=[Q(p,"click",s[31]),Q(A,"click",s[32]),Q(F,"input",s[34]),Q(F,"focus",s[35])],de=!0)},p(ee,ie){var et;const ke={};!t&&ie[0]&8192&&(t=!0,ke.show=ee[13],yt(()=>t=!1)),e.$set(ke);const Oe={};if(ie[0]&16384&&(Oe.title=ee[14].t("Delete chat?")),ie[0]&16416|ie[1]&268435456&&(Oe.$$scope={dirty:ie,ctx:ee}),!r&&ie[0]&64&&(r=!0,Oe.show=ee[6],yt(()=>r=!1)),a.$set(Oe),ee[12]?fe?fe.p(ee,ie):(fe=Ur(ee),fe.c(),fe.m(i.parentNode,i)):fe&&(fe.d(1),fe=null),(!Le||ie[0]&16384)&&k!==(k=ee[14].t("New Chat")+"")&&U(V,k),((et=ee[16])==null?void 0:et.role)==="admin"?Ie?Ie.p(ee,ie):(Ie=Pr(ee),Ie.c(),Ie.m(m,Z)):Ie&&(Ie.d(1),Ie=null),ee[17]?oe||(oe=$r(),oe.c(),oe.m(N,q)):oe&&(oe.d(1),oe=null),(!Le||ie[0]&16384&&Y!==(Y=ee[14].t("Search")))&&c(F,"placeholder",Y),ie[0]&1&&F.value!==ee[0]&&je(F,ee[0]),ie[0]&262144&&(W=ee[18].filter(Kr).length>0),W?De?De.p(ee,ie):(De=jr(ee),De.c(),De.m(N,G)):De&&(De.d(1),De=null),!ee[0]&&ee[19].length>0?we?(we.p(ee,ie),ie[0]&524289&&J(we,1)):(we=Rr(ee),we.c(),J(we,1),we.m(N,X)):we&&(bt(),se(we,1,1,()=>{we=null}),wt()),ie[0]&33571448){Re=nt(ee[9]);let ze;for(ze=0;ze<Re.length;ze+=1){const We=xr(ee,Re,ze);ae[ze]?(ae[ze].p(We,ie),J(ae[ze],1)):(ae[ze]=Fr(We),ae[ze].c(),J(ae[ze],1),ae[ze].m(K,re))}for(bt(),ze=Re.length;ze<ae.length;ze+=1)Ve(ze);wt()}ee[20]&&!ee[11]?ce?(ce.p(ee,ie),ie[0]&1050624&&J(ce,1)):(ce=Yr(ee),ce.c(),J(ce,1),ce.m(K,null)):ce&&(bt(),se(ce,1,1,()=>{ce=null}),wt()),(!Le||ie[0]&131072&&te!==(te="relative flex flex-col flex-1 overflow-y-auto "+(ee[17]?"opacity-20":"")))&&c(N,"class",te),ee[16]!==void 0?Te?(Te.p(ee,ie),ie[0]&65536&&J(Te,1)):(Te=qr(ee),Te.c(),J(Te,1),Te.m(be,null)):Te&&(bt(),se(Te,1,1,()=>{Te=null}),wt()),(!Le||ie[0]&4096&&Be!==(Be="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(ee[12]?"":"invisible")))&&c(m,"class",Be),(!Le||ie[0]&4096&&Pe!==(Pe="h-screen max-h-[100dvh] min-h-screen select-none "+(ee[12]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0"))&&c(f,"class",Pe),(!Le||ie[0]&4096)&&c(f,"data-state",ee[12])},i(ee){if(!Le){J(e.$$.fragment,ee),J(a.$$.fragment,ee),J(we);for(let ie=0;ie<Re.length;ie+=1)J(ae[ie]);J(ce),J(Te),Le=!0}},o(ee){se(e.$$.fragment,ee),se(a.$$.fragment,ee),se(we),ae=ae.filter(Boolean);for(let ie=0;ie<ae.length;ie+=1)se(ae[ie]);se(ce),se(Te),Le=!1},d(ee){ee&&(u(l),u(o),u(i),u(f)),ge(e,ee),ge(a,ee),fe&&fe.d(ee),Ie&&Ie.d(),oe&&oe.d(),De&&De.d(),we&&we.d(),Ht(ae,ee),ce&&ce.d(),Te&&Te.d(),s[47](null),de=!1,ht(ve)}}}const Zu=768,Kr=s=>s.name!=="pinned",Gr=s=>s.name!=="pinned";function Fu(s,e,t){let l,a,r,o,i,f,m,g,p,_,b,w;Ae(s,Zt,le=>t(48,l=le)),Ae(s,Is,le=>t(49,a=le)),Ae(s,bl,le=>t(50,le)),Ae(s,il,le=>t(12,r=le)),Ae(s,Ot,le=>t(1,o=le)),Ae(s,Hs,le=>t(13,i=le)),Ae(s,zs,le=>t(15,m=le)),Ae(s,jl,le=>t(16,g=le)),Ae(s,En,le=>t(17,p=le)),Ae(s,Rs,le=>t(18,_=le)),Ae(s,Sl,le=>t(19,b=le)),Ae(s,Cl,le=>t(20,w=le));const y=gt("i18n");Ae(s,y,le=>t(14,f=le));let k,V="",I=!1,D=null,T=null,E=!1,A=!1,B=null,H=[],Z=!1,N=!1;const q=async()=>{Zt.set(1),t(11,N=!1),await Ot.set(await cl(localStorage.token,l)),Cl.set(!0)},j=async()=>{t(10,Z=!0),Zt.set(l+1);const le=await cl(localStorage.token,l);t(11,N=le.length===0),await Ot.set([...o,...le]),t(10,Z=!1)};ul(async()=>{zs.subscribe(ce=>{r&&ce&&il.set(!1),!r&&!ce&&il.set(!0)}),il.set(window.innerWidth>Zu),await Sl.set(await Vl(localStorage.token,"pinned")),await q();let le,fe;function Ie(){const ce=window.innerWidth,Te=Math.abs(fe.screenX-le.screenX);le.clientX<40&&Te>=ce/8&&(fe.screenX<le.screenX&&il.set(!1),fe.screenX>le.screenX&&il.set(!0))}const oe=ce=>{le=ce.changedTouches[0],console.log(le.clientX)},De=ce=>{fe=ce.changedTouches[0],Ie()},we=ce=>{ce.key==="Shift"&&t(3,I=!0)},Re=ce=>{ce.key==="Shift"&&t(3,I=!1)},ae=()=>{},Ve=()=>{t(3,I=!1),t(4,D=null)};return window.addEventListener("keydown",we),window.addEventListener("keyup",Re),window.addEventListener("touchstart",oe),window.addEventListener("touchend",De),window.addEventListener("focus",ae),window.addEventListener("blur",Ve),()=>{window.removeEventListener("keydown",we),window.removeEventListener("keyup",Re),window.removeEventListener("touchstart",oe),window.removeEventListener("touchend",De),window.removeEventListener("focus",ae),window.removeEventListener("blur",Ve)}});const C=async le=>{const fe=await Promise.all(le.map(async Ie=>{const oe=await Wn(localStorage.token,Ie.id).catch(De=>null);return oe&&(Ie.chat=oe.chat),Ie}));await Ot.set(fe)},L=async le=>{await bn(localStorage.token,le).catch(Ie=>(Je.error(Ie),null))&&(a===le&&(await Is.set(""),await Ts(),Al("/")),t(11,N=!1),Zt.set(1),await Ot.set(await cl(localStorage.token,l)),await Sl.set(await Vl(localStorage.token,"pinned")))};function R(le){i=le,Hs.set(i)}const P=async()=>{await Ot.set(await cl(localStorage.token))};function F(le){E=le,t(6,E)}const Y=()=>{L(T.id)},$=()=>{il.set(!r)},W=async()=>{t(4,D=null),await Al("/");const le=document.getElementById("new-chat-button");setTimeout(()=>{le==null||le.click(),m&&il.set(!1)},0)},G=()=>{il.set(!r)},X=()=>{t(4,D=null),Is.set(""),m&&il.set(!1)};function K(){V=this.value,t(0,V)}const re=async()=>{Cl.set(!1),await Ot.set(await cl(localStorage.token)),C(o)},te=async()=>{t(8,B=null),await q()},ue=async le=>{t(8,B=le.name),Cl.set(!1);let fe=await Vl(localStorage.token,le.name);fe.length===0&&(await Rs.set(await wn(localStorage.token)),await q()),await Ot.set(fe),t(10,Z=!1)},Ee=le=>{t(4,D=le.id)},be=()=>{t(4,D=null)},Be=(le,fe)=>{((fe==null?void 0:fe.detail)??"")==="shift"?L(le.id):(t(5,T=le),t(6,E=!0))},Pe=le=>{t(4,D=le.id)},Le=()=>{t(4,D=null)},de=(le,fe)=>{((fe==null?void 0:fe.detail)??"")==="shift"?L(le.id):(t(5,T=le),t(6,E=!0))},ve=le=>{Z||j()},xe=()=>{t(7,A=!A)},Se=le=>{le.detail==="archived-chat"&&Hs.set(!0)};function Ze(le){mt[le?"unshift":"push"](()=>{k=le,t(2,k)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(9,H=o.filter(le=>{if(V==="")return!0;{let fe=le.title.toLowerCase();const Ie=V.toLowerCase();let oe=!1;return le.chat&&le.chat.messages&&Array.isArray(le.chat.messages)&&(oe=le.chat.messages.some(De=>De.content&&De.content.toLowerCase().includes(Ie))),fe.includes(Ie)||oe}}))},[V,o,k,I,D,T,E,A,B,H,Z,N,r,i,f,m,g,p,_,b,w,y,q,j,C,L,R,P,F,Y,$,W,G,X,K,re,te,ue,Ee,be,Be,Pe,Le,de,ve,xe,Se,Ze]}class Yu extends ut{constructor(e){super(),ft(this,e,Fu,Wu,ct,{},null,[-1,-1])}}function Xr(s,e,t){const l=s.slice();return l[18]=e[t],l}function Jr(s){let e,t=nt({length:s[6]}),l=[];for(let a=0;a<t.length;a+=1)l[a]=Qr(Xr(s,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var r=v(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){c(e,"class","confetti-holder svelte-io58ff"),Hl(e,"rounded",s[9]),Hl(e,"cone",s[10]),Hl(e,"no-gravity",s[11])},m(a,r){z(a,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(a,r){if(r&20991){t=nt({length:a[6]});let o;for(o=0;o<t.length;o+=1){const i=Xr(a,t,o);l[o]?l[o].p(i,r):(l[o]=Qr(i),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}r&512&&Hl(e,"rounded",a[9]),r&1024&&Hl(e,"cone",a[10]),r&2048&&Hl(e,"no-gravity",a[11])},d(a){a&&u(e),Ht(l,a)}}}function Qr(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),v(e).forEach(u),this.h()},h(){c(e,"class","confetti svelte-io58ff"),pt(e,"--fall-distance",s[8]),pt(e,"--size",s[0]+"px"),pt(e,"--color",s[14]()),pt(e,"--skew",xt(-45,45)+"deg,"+xt(-45,45)+"deg"),pt(e,"--rotation-xyz",xt(-10,10)+", "+xt(-10,10)+", "+xt(-10,10)),pt(e,"--rotation-deg",xt(0,360)+"deg"),pt(e,"--translate-y-multiplier",xt(s[2][0],s[2][1])),pt(e,"--translate-x-multiplier",xt(s[1][0],s[1][1])),pt(e,"--scale",.1*xt(2,10)),pt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),pt(e,"--transition-delay",xt(s[5][0],s[5][1])+"ms"),pt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),pt(e,"--x-spread",1-s[12])},m(t,l){z(t,e,l)},p(t,l){l&256&&pt(e,"--fall-distance",t[8]),l&1&&pt(e,"--size",t[0]+"px"),l&4&&pt(e,"--translate-y-multiplier",xt(t[2][0],t[2][1])),l&2&&pt(e,"--translate-x-multiplier",xt(t[1][0],t[1][1])),l&24&&pt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&pt(e,"--transition-delay",xt(t[5][0],t[5][1])+"ms"),l&144&&pt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&pt(e,"--x-spread",1-t[12])},d(t){t&&u(e)}}}function qu(s){let e,t=!s[13]&&Jr(s);return{c(){t&&t.c(),e=$l()},l(l){t&&t.l(l),e=$l()},m(l,a){t&&t.m(l,a),z(l,e,a)},p(l,[a]){l[13]?t&&(t.d(1),t=null):t?t.p(l,a):(t=Jr(l),t.c(),t.m(e.parentNode,e))},i:Ue,o:Ue,d(l){l&&u(e),t&&t.d(l)}}}function xt(s,e){return Math.random()*(e-s)+s}function Ku(s,e,t){let{size:l=10}=e,{x:a=[-.5,.5]}=e,{y:r=[.25,1]}=e,{duration:o=2e3}=e,{infinite:i=!1}=e,{delay:f=[0,50]}=e,{colorRange:m=[0,360]}=e,{colorArray:g=[]}=e,{amount:p=50}=e,{iterationCount:_=1}=e,{fallDistance:b="100px"}=e,{rounded:w=!1}=e,{cone:y=!1}=e,{noGravity:k=!1}=e,{xSpread:V=.15}=e,{destroyOnComplete:I=!0}=e,D=!1;ul(()=>{!I||i||_=="infinite"||setTimeout(()=>t(13,D=!0),(o+f[1])*_)});function T(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(xt(m[0],m[1]))}, 75%, 50%)`}return s.$$set=E=>{"size"in E&&t(0,l=E.size),"x"in E&&t(1,a=E.x),"y"in E&&t(2,r=E.y),"duration"in E&&t(3,o=E.duration),"infinite"in E&&t(4,i=E.infinite),"delay"in E&&t(5,f=E.delay),"colorRange"in E&&t(15,m=E.colorRange),"colorArray"in E&&t(16,g=E.colorArray),"amount"in E&&t(6,p=E.amount),"iterationCount"in E&&t(7,_=E.iterationCount),"fallDistance"in E&&t(8,b=E.fallDistance),"rounded"in E&&t(9,w=E.rounded),"cone"in E&&t(10,y=E.cone),"noGravity"in E&&t(11,k=E.noGravity),"xSpread"in E&&t(12,V=E.xSpread),"destroyOnComplete"in E&&t(17,I=E.destroyOnComplete)},[l,a,r,o,i,f,p,_,b,w,y,k,V,D,T,m,g,I]}class Gu extends ut{constructor(e){super(),ft(this,e,Ku,qu,ct,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function en(s,e,t){const l=s.slice();return l[9]=e[t],l}function tn(s,e,t){const l=s.slice();return l[12]=e[t],l}function ln(s,e,t){const l=s.slice();return l[15]=e[t],l}function sn(s){let e,t=nt(Object.keys(s[1])),l=[];for(let a=0;a<t.length;a+=1)l[a]=nn(en(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=$l()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=$l()},m(a,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,r);z(a,e,r)},p(a,r){if(r&2){t=nt(Object.keys(a[1]));let o;for(o=0;o<t.length;o+=1){const i=en(a,t,o);l[o]?l[o].p(i,r):(l[o]=nn(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&u(e),Ht(l,a)}}}function an(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",a,r,o,i=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),a=x(l),r=S(),o=d("div"),f=x(i),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var p=v(t);a=O(p,l),p.forEach(u),r=M(g),o=h(g,"DIV",{class:!0});var _=v(o);f=O(_,i),_.forEach(u),g.forEach(u),this.h()},h(){c(t,"class","font-semibold uppercase"),c(o,"class","mb-2 mt-1"),c(e,"class","text-sm mb-2")},m(m,g){z(m,e,g),n(e,t),n(t,a),n(e,r),n(e,o),n(o,f)},p(m,g){g&2&&l!==(l=m[1][m[9]][m[12]][m[15]].title+"")&&U(a,l),g&2&&i!==(i=m[1][m[9]][m[12]][m[15]].content+"")&&U(f,i)},d(m){m&&u(e)}}}function rn(s){let e,t,l=s[12]+"",a,r,o,i,f=nt(Object.keys(s[1][s[9]][s[12]])),m=[];for(let g=0;g<f.length;g+=1)m[g]=an(ln(s,f,g));return{c(){e=d("div"),t=d("div"),a=x(l),o=S(),i=d("div");for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"DIV",{class:!0});var _=v(t);a=O(_,l),_.forEach(u),o=M(p),i=h(p,"DIV",{class:!0});var b=v(i);for(let w=0;w<m.length;w+=1)m[w].l(b);b.forEach(u),p.forEach(u),this.h()},h(){c(t,"class",r="font-semibold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),c(i,"class","my-2.5 px-1.5"),c(e,"class","")},m(g,p){z(g,e,p),n(e,t),n(t,a),n(e,o),n(e,i);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(i,null)},p(g,p){if(p&2&&l!==(l=g[12]+"")&&U(a,l),p&2&&r!==(r="font-semibold uppercase text-xs "+(g[12]==="added"?"text-white bg-blue-600":g[12]==="fixed"?"text-white bg-green-600":g[12]==="changed"?"text-white bg-yellow-600":g[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&c(t,"class",r),p&2){f=nt(Object.keys(g[1][g[9]][g[12]]));let _;for(_=0;_<f.length;_+=1){const b=ln(g,f,_);m[_]?m[_].p(b,p):(m[_]=an(b),m[_].c(),m[_].m(i,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}},d(g){g&&u(e),Ht(m,g)}}}function nn(s){let e,t,l,a=s[9]+"",r,o,i=s[1][s[9]].date+"",f,m,g,p,_,b=nt(Object.keys(s[1][s[9]]).filter(on)),w=[];for(let y=0;y<b.length;y+=1)w[y]=rn(tn(s,b,y));return{c(){e=d("div"),t=d("div"),l=x("v"),r=x(a),o=x(" - "),f=x(i),m=S(),g=d("hr"),p=S();for(let y=0;y<w.length;y+=1)w[y].c();_=S(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var V=v(t);l=O(V,"v"),r=O(V,a),o=O(V," - "),f=O(V,i),V.forEach(u),m=M(k),g=h(k,"HR",{class:!0}),p=M(k);for(let I=0;I<w.length;I+=1)w[I].l(k);_=M(k),k.forEach(u),this.h()},h(){c(t,"class","font-semibold text-xl mb-1 dark:text-white"),c(g,"class","dark:border-gray-800 my-2"),c(e,"class","mb-3 pr-2")},m(y,k){z(y,e,k),n(e,t),n(t,l),n(t,r),n(t,o),n(t,f),n(e,m),n(e,g),n(e,p);for(let V=0;V<w.length;V+=1)w[V]&&w[V].m(e,null);n(e,_)},p(y,k){if(k&2&&a!==(a=y[9]+"")&&U(r,a),k&2&&i!==(i=y[1][y[9]].date+"")&&U(f,i),k&2){b=nt(Object.keys(y[1][y[9]]).filter(on));let V;for(V=0;V<b.length;V+=1){const I=tn(y,b,V);w[V]?w[V].p(I,k):(w[V]=rn(I),w[V].c(),w[V].m(e,_))}for(;V<w.length;V+=1)w[V].d(1);w.length=b.length}},d(y){y&&u(e),Ht(w,y)}}}function Xu(s){let e,t,l,a=s[2].t("What’s New in")+"",r,o,i,f,m,g,p,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,w,y,k=s[2].t("Release Notes")+"",V,I,D,T,E,A,B,H,Z,N,q,j,C,L,R,P=s[2].t("Okay, Let's Go!")+"",F,Y,$,W;m=new Gu({props:{x:[-1,-.25],y:[0,.5]}});let G=s[1]&&sn(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=x(a),o=S(),i=x(s[3]),f=S(),me(m.$$.fragment),g=S(),p=d("button"),p.innerHTML=_,b=S(),w=d("div"),y=d("div"),V=x(k),I=S(),D=d("div"),T=S(),E=d("div"),A=x("v"),B=x(dl),H=S(),Z=d("div"),N=d("div"),q=d("div"),G&&G.c(),j=S(),C=d("div"),L=d("button"),R=d("span"),F=x(P),this.h()},l(X){e=h(X,"DIV",{class:!0});var K=v(e);t=h(K,"DIV",{class:!0});var re=v(t);l=h(re,"DIV",{class:!0});var te=v(l);r=O(te,a),o=M(te),i=O(te,s[3]),f=M(te),_e(m.$$.fragment,te),te.forEach(u),g=M(re),p=h(re,"BUTTON",{class:!0,"data-svelte-h":!0}),He(p)!=="svelte-14wj4tl"&&(p.innerHTML=_),re.forEach(u),b=M(K),w=h(K,"DIV",{class:!0});var ue=v(w);y=h(ue,"DIV",{class:!0});var Ee=v(y);V=O(Ee,k),Ee.forEach(u),I=M(ue),D=h(ue,"DIV",{class:!0}),v(D).forEach(u),T=M(ue),E=h(ue,"DIV",{class:!0});var be=v(E);A=O(be,"v"),B=O(be,dl),be.forEach(u),ue.forEach(u),K.forEach(u),H=M(X),Z=h(X,"DIV",{class:!0});var Be=v(Z);N=h(Be,"DIV",{class:!0});var Pe=v(N);q=h(Pe,"DIV",{class:!0});var Le=v(q);G&&G.l(Le),Le.forEach(u),Pe.forEach(u),j=M(Be),C=h(Be,"DIV",{class:!0});var de=v(C);L=h(de,"BUTTON",{class:!0});var ve=v(L);R=h(ve,"SPAN",{class:!0});var xe=v(R);F=O(xe,P),xe.forEach(u),ve.forEach(u),de.forEach(u),Be.forEach(u),this.h()},h(){c(l,"class","text-xl font-semibold"),c(p,"class","self-center"),c(t,"class","flex justify-between items-start"),c(y,"class","text-sm dark:text-gray-200"),c(D,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),c(E,"class","text-sm dark:text-gray-200"),c(w,"class","flex items-center mt-1"),c(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),c(q,"class","mb-3"),c(N,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),c(R,"class","relative"),c(L,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),c(C,"class","flex justify-end pt-3 text-sm font-medium"),c(Z,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(X,K){z(X,e,K),n(e,t),n(t,l),n(l,r),n(l,o),n(l,i),n(l,f),pe(m,l,null),n(t,g),n(t,p),n(e,b),n(e,w),n(w,y),n(y,V),n(w,I),n(w,D),n(w,T),n(w,E),n(E,A),n(E,B),z(X,H,K),z(X,Z,K),n(Z,N),n(N,q),G&&G.m(q,null),n(Z,j),n(Z,C),n(C,L),n(L,R),n(R,F),Y=!0,$||(W=[Q(p,"click",s[6]),Q(L,"click",s[7])],$=!0)},p(X,K){(!Y||K&4)&&a!==(a=X[2].t("What’s New in")+"")&&U(r,a),(!Y||K&8)&&U(i,X[3]),(!Y||K&4)&&k!==(k=X[2].t("Release Notes")+"")&&U(V,k),X[1]?G?G.p(X,K):(G=sn(X),G.c(),G.m(q,null)):G&&(G.d(1),G=null),(!Y||K&4)&&P!==(P=X[2].t("Okay, Let's Go!")+"")&&U(F,P)},i(X){Y||(J(m.$$.fragment,X),Y=!0)},o(X){se(m.$$.fragment,X),Y=!1},d(X){X&&(u(e),u(H),u(Z)),ge(m),G&&G.d(),$=!1,ht(W)}}}function Ju(s){let e,t,l;function a(o){s[8](o)}let r={$$slots:{default:[Xu]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new Rl({props:r}),mt.push(()=>Et(e,"show",a)),{c(){me(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,i){pe(e,o,i),l=!0},p(o,[i]){const f={};i&262175&&(f.$$scope={dirty:i,ctx:o}),!t&&i&1&&(t=!0,f.show=o[0],yt(()=>t=!1)),e.$set(f)},i(o){l||(J(e.$$.fragment,o),l=!0)},o(o){se(e.$$.fragment,o),l=!1},d(o){ge(e,o)}}}const on=s=>s!=="date";function Qu(s,e,t){let l,a,r;Ae(s,yn,_=>t(3,a=_)),Ae(s,Cs,_=>t(4,r=_));const o=gt("i18n");Ae(s,o,_=>t(2,l=_));let{show:i=!1}=e,f=null;ul(async()=>{const _=await Ln();t(1,f=_)});const m=()=>{localStorage.version=r.version,t(0,i=!1)},g=()=>{localStorage.version=r.version,t(0,i=!1)};function p(_){i=_,t(0,i)}return s.$$set=_=>{"show"in _&&t(0,i=_.show)},[i,f,l,a,r,o,m,g,p]}class ef extends ut{constructor(e){super(),ft(this,e,Qu,Ju,ct,{show:0})}}function cn(s){let e,t,l=s[1].t("Admin")+"",a,r,o=s[0].name+"",i,f,m=s[0].email+"",g,p;return{c(){e=d("div"),t=d("div"),a=x(l),r=x(": "),i=x(o),f=x(" ("),g=x(m),p=x(")"),this.h()},l(_){e=h(_,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{});var w=v(t);a=O(w,l),r=O(w,": "),i=O(w,o),f=O(w," ("),g=O(w,m),p=O(w,")"),w.forEach(u),b.forEach(u),this.h()},h(){c(e,"class","mt-4 text-sm font-medium text-center")},m(_,b){z(_,e,b),n(e,t),n(t,a),n(t,r),n(t,i),n(t,f),n(t,g),n(t,p)},p(_,b){b&2&&l!==(l=_[1].t("Admin")+"")&&U(a,l),b&1&&o!==(o=_[0].name+"")&&U(i,o),b&1&&m!==(m=_[0].email+"")&&U(g,m)},d(_){_&&u(e)}}}function tf(s){let e,t,l,a,r,o=s[1].t("Account Activation Pending")+"",i,f,m,g=s[1].t("Contact Admin for WebUI Access")+"",p,_,b,w=s[1].t("Your account status is currently pending activation.")+"",y,k,V,I=s[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"",D,T,E,A,B,H=s[1].t("Check Again")+"",Z,N,q,j=s[1].t("Sign Out")+"",C,L,R,P=s[0]&&cn(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),i=x(o),f=d("br"),m=S(),p=x(g),_=S(),b=d("div"),y=x(w),k=d("br"),V=S(),D=x(I),T=S(),P&&P.c(),E=S(),A=d("div"),B=d("button"),Z=x(H),N=S(),q=d("button"),C=x(j),this.h()},l(F){e=h(F,"DIV",{class:!0});var Y=v(e);t=h(Y,"DIV",{class:!0});var $=v(t);l=h($,"DIV",{class:!0});var W=v(l);a=h(W,"DIV",{class:!0});var G=v(a);r=h(G,"DIV",{class:!0});var X=v(r);i=O(X,o),f=h(X,"BR",{}),m=M(X),p=O(X,g),X.forEach(u),_=M(G),b=h(G,"DIV",{class:!0});var K=v(b);y=O(K,w),k=h(K,"BR",{}),V=M(K),D=O(K,I),K.forEach(u),T=M(G),P&&P.l(G),E=M(G),A=h(G,"DIV",{class:!0});var re=v(A);B=h(re,"BUTTON",{class:!0});var te=v(B);Z=O(te,H),te.forEach(u),N=M(re),q=h(re,"BUTTON",{class:!0});var ue=v(q);C=O(ue,j),ue.forEach(u),re.forEach(u),G.forEach(u),W.forEach(u),$.forEach(u),Y.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(b,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(B,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),c(q,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(A,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-10 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-[999]")},m(F,Y){z(F,e,Y),n(e,t),n(t,l),n(l,a),n(a,r),n(r,i),n(r,f),n(r,m),n(r,p),n(a,_),n(a,b),n(b,y),n(b,k),n(b,V),n(b,D),n(a,T),P&&P.m(a,null),n(a,E),n(a,A),n(A,B),n(B,Z),n(A,N),n(A,q),n(q,C),L||(R=[Q(B,"click",s[3]),Q(q,"click",s[4])],L=!0)},p(F,[Y]){Y&2&&o!==(o=F[1].t("Account Activation Pending")+"")&&U(i,o),Y&2&&g!==(g=F[1].t("Contact Admin for WebUI Access")+"")&&U(p,g),Y&2&&w!==(w=F[1].t("Your account status is currently pending activation.")+"")&&U(y,w),Y&2&&I!==(I=F[1].t("To access the WebUI, please reach out to the administrator. Admins can manage user statuses from the Admin Panel.")+"")&&U(D,I),F[0]?P?P.p(F,Y):(P=cn(F),P.c(),P.m(a,E)):P&&(P.d(1),P=null),Y&2&&H!==(H=F[1].t("Check Again")+"")&&U(Z,H),Y&2&&j!==(j=F[1].t("Sign Out")+"")&&U(C,j)},i:Ue,o:Ue,d(F){F&&u(e),P&&P.d(),L=!1,ht(R)}}}function lf(s,e,t){let l;const a=gt("i18n");Ae(s,a,f=>t(1,l=f));let r=null;return ul(async()=>{t(0,r=await co(localStorage.token).catch(f=>(console.error(f),null)))}),[r,l,a,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class sf extends ut{constructor(e){super(),ft(this,e,lf,tf,ct,{})}}function af(s){let e,t,l=s[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:s[0].latest})+"",a,r,o,i=s[1].t("Update for the latest features and improvements.")+"",f,m,g,p,_,b,w,y,k;return b=new Vo({}),{c(){e=d("div"),t=d("div"),a=x(l),r=S(),o=d("a"),f=x(i),g=S(),p=d("div"),_=d("button"),me(b.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var D=v(t);a=O(D,l),r=M(D),o=h(D,"A",{href:!0,target:!0,class:!0});var T=v(o);f=O(T,i),T.forEach(u),D.forEach(u),g=M(I),p=h(I,"DIV",{class:!0});var E=v(p);_=h(E,"BUTTON",{class:!0});var A=v(_);_e(b.$$.fragment,A),A.forEach(u),E.forEach(u),I.forEach(u),this.h()},h(){c(o,"href",m="https://github.com/open-webui/open-webui/releases/tag/v"+s[0].latest),c(o,"target","_blank"),c(o,"class","underline"),c(t,"class","flex-1 font-medium"),c(_,"class","hover:text-blue-900 dark:hover:text-blue-300 transition"),c(p,"class","flex-shrink-0 pl-2"),c(e,"class","flex items-start bg-[#F1F8FE] dark:bg-[#020C1D] border border-[3371D5] dark:border-[#03113B] text-[#3371D5] dark:text-[#6795EC] rounded-lg px-3.5 py-3 text-xs max-w-80 pr-2 w-full shadow-lg")},m(V,I){z(V,e,I),n(e,t),n(t,a),n(t,r),n(t,o),n(o,f),n(e,g),n(e,p),n(p,_),pe(b,_,null),w=!0,y||(k=Q(_,"click",s[4]),y=!0)},p(V,[I]){(!w||I&3)&&l!==(l=V[1].t("A new version (v{{LATEST_VERSION}}) is now available.",{LATEST_VERSION:V[0].latest})+"")&&U(a,l),(!w||I&2)&&i!==(i=V[1].t("Update for the latest features and improvements.")+"")&&U(f,i),(!w||I&1&&m!==(m="https://github.com/open-webui/open-webui/releases/tag/v"+V[0].latest))&&c(o,"href",m)},i(V){w||(J(b.$$.fragment,V),w=!0)},o(V){se(b.$$.fragment,V),w=!1},d(V){V&&u(e),ge(b),y=!1,k()}}}function rf(s,e,t){let l;const a=fl(),r=gt("i18n");Ae(s,r,f=>t(1,l=f));let{version:o={current:dl,latest:dl}}=e;const i=()=>{console.log("closeToast"),localStorage.setItem("dismissedUpdateToast",Date.now().toString()),a("closeToast")};return s.$$set=f=>{"version"in f&&t(0,o=f.version)},[o,l,a,r,i]}class nf extends ut{constructor(e){super(),ft(this,e,rf,af,ct,{version:0})}}function un(s){let e,t,l,a;return t=new nf({props:{version:s[3]}}),{c(){e=d("div"),me(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(u),this.h()},h(){c(e,"class","absolute bottom-8 right-8 z-50")},m(r,o){z(r,e,o),pe(t,e,null),a=!0},p(r,o){const i={};o&8&&(i.version=r[3]),t.$set(i)},i(r){a||(J(t.$$.fragment,r),r&&(l||Ml(()=>{l=An(e,Uo,{duration:100}),l.start()})),a=!0)},o(r){se(t.$$.fragment,r),a=!1},d(r){r&&u(e),ge(t)}}}function fn(s){let e,t,l,a,r,o,i;const f=[cf,of],m=[];function g(b,w){return w&16&&(e=null),e==null&&(e=!["user","admin"].includes(b[4].role)),e?0:b[2].length>0?1:-1}~(t=g(s,-1))&&(l=m[t]=f[t](s)),r=new Yu({});const p=s[11].default,_=dn(p,s,s[10],null);return{c(){l&&l.c(),a=S(),me(r.$$.fragment),o=S(),_&&_.c()},l(b){l&&l.l(b),a=M(b),_e(r.$$.fragment,b),o=M(b),_&&_.l(b)},m(b,w){~t&&m[t].m(b,w),z(b,a,w),pe(r,b,w),z(b,o,w),_&&_.m(b,w),i=!0},p(b,w){let y=t;t=g(b,w),t===y?~t&&m[t].p(b,w):(l&&(bt(),se(m[y],1,1,()=>{m[y]=null}),wt()),~t?(l=m[t],l?l.p(b,w):(l=m[t]=f[t](b),l.c()),J(l,1),l.m(a.parentNode,a)):l=null),_&&_.p&&(!i||w&1024)&&hn(_,p,b,b[10],i?mn(p,b[10],w,null):vn(b[10]),null)},i(b){i||(J(l),J(r.$$.fragment,b),J(_,b),i=!0)},o(b){se(l),se(r.$$.fragment,b),se(_,b),i=!1},d(b){b&&(u(a),u(o)),~t&&m[t].d(b),ge(r,b),_&&_.d(b)}}}function of(s){let e,t,l,a,r,o="Important Update<br/> Action Required for Chat Log Storage",i,f,m=s[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",g,p,_,b=s[7].t("Settings")+"",w,y,k=s[7].t("Chats")+"",V,I,D=s[7].t("Import Chats")+"",T,E,A=s[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",B,H,Z,N,q="Download & Delete",j,C,L=s[7].t("Close")+"",R,P,F;return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=d("div"),r.innerHTML=o,i=S(),f=d("div"),g=x(m),p=S(),_=d("span"),w=x(b),y=x(" > "),V=x(k),I=x(" > "),T=x(D),E=x(". "),B=x(A),H=S(),Z=d("div"),N=d("button"),N.textContent=q,j=S(),C=d("button"),R=x(L),this.h()},l(Y){e=h(Y,"DIV",{class:!0});var $=v(e);t=h($,"DIV",{class:!0});var W=v(t);l=h(W,"DIV",{class:!0});var G=v(l);a=h(G,"DIV",{class:!0});var X=v(a);r=h(X,"DIV",{class:!0,"data-svelte-h":!0}),He(r)!=="svelte-mnqwc6"&&(r.innerHTML=o),i=M(X),f=h(X,"DIV",{class:!0});var K=v(f);g=O(K,m),p=M(K),_=h(K,"SPAN",{class:!0});var re=v(_);w=O(re,b),y=O(re," > "),V=O(re,k),I=O(re," > "),T=O(re,D),re.forEach(u),E=O(K,". "),B=O(K,A),K.forEach(u),H=M(X),Z=h(X,"DIV",{class:!0});var te=v(Z);N=h(te,"BUTTON",{class:!0,"data-svelte-h":!0}),He(N)!=="svelte-1ia8i9q"&&(N.textContent=q),j=M(te),C=h(te,"BUTTON",{class:!0});var ue=v(C);R=O(ue,L),ue.forEach(u),te.forEach(u),X.forEach(u),G.forEach(u),W.forEach(u),$.forEach(u),this.h()},h(){c(r,"class","text-center dark:text-white text-2xl font-medium z-50"),c(_,"class","font-semibold dark:text-white"),c(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),c(N,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),c(C,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),c(Z,"class","mt-6 mx-auto relative group w-fit"),c(a,"class","max-w-md"),c(l,"class","m-auto pb-44 flex flex-col justify-center"),c(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),c(e,"class","fixed w-full h-full flex z-50")},m(Y,$){z(Y,e,$),n(e,t),n(t,l),n(l,a),n(a,r),n(a,i),n(a,f),n(f,g),n(f,p),n(f,_),n(_,w),n(_,y),n(_,V),n(_,I),n(_,T),n(f,E),n(f,B),n(a,H),n(a,Z),n(Z,N),n(Z,j),n(Z,C),n(C,R),P||(F=[Q(N,"click",s[14]),Q(C,"click",s[15])],P=!0)},p(Y,$){$&128&&m!==(m=Y[7].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&U(g,m),$&128&&b!==(b=Y[7].t("Settings")+"")&&U(w,b),$&128&&k!==(k=Y[7].t("Chats")+"")&&U(V,k),$&128&&D!==(D=Y[7].t("Import Chats")+"")&&U(T,D),$&128&&A!==(A=Y[7].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&U(B,A),$&128&&L!==(L=Y[7].t("Close")+"")&&U(R,L)},i:Ue,o:Ue,d(Y){Y&&u(e),P=!1,ht(F)}}}function cf(s){let e,t;return e=new sf({}),{c(){me(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){pe(e,l,a),t=!0},p:Ue,i(l){t||(J(e.$$.fragment,l),t=!0)},o(l){se(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function uf(s){let e,t,l,a,r,o,i=s[3]&&Ws(s[3].latest,s[3].current),f,m,g,p;function _(I){s[12](I)}let b={};s[5]!==void 0&&(b.show=s[5]),e=new Kc({props:b}),mt.push(()=>Et(e,"show",_));function w(I){s[13](I)}let y={};s[6]!==void 0&&(y.show=s[6]),a=new ef({props:y}),mt.push(()=>Et(a,"show",w));let k=i&&un(s),V=s[0]&&fn(s);return{c(){me(e.$$.fragment),l=S(),me(a.$$.fragment),o=S(),k&&k.c(),f=S(),m=d("div"),g=d("div"),V&&V.c(),this.h()},l(I){_e(e.$$.fragment,I),l=M(I),_e(a.$$.fragment,I),o=M(I),k&&k.l(I),f=M(I),m=h(I,"DIV",{class:!0});var D=v(m);g=h(D,"DIV",{class:!0});var T=v(g);V&&V.l(T),T.forEach(u),D.forEach(u),this.h()},h(){c(g,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),c(m,"class","app relative")},m(I,D){pe(e,I,D),z(I,l,D),pe(a,I,D),z(I,o,D),k&&k.m(I,D),z(I,f,D),z(I,m,D),n(m,g),V&&V.m(g,null),p=!0},p(I,[D]){const T={};!t&&D&32&&(t=!0,T.show=I[5],yt(()=>t=!1)),e.$set(T);const E={};!r&&D&64&&(r=!0,E.show=I[6],yt(()=>r=!1)),a.$set(E),D&8&&(i=I[3]&&Ws(I[3].latest,I[3].current)),i?k?(k.p(I,D),D&8&&J(k,1)):(k=un(I),k.c(),J(k,1),k.m(f.parentNode,f)):k&&(bt(),se(k,1,1,()=>{k=null}),wt()),I[0]?V?(V.p(I,D),D&1&&J(V,1)):(V=fn(I),V.c(),J(V,1),V.m(g,null)):V&&(bt(),se(V,1,1,()=>{V=null}),wt())},i(I){p||(J(e.$$.fragment,I),J(a.$$.fragment,I),J(k),J(V),p=!0)},o(I){se(e.$$.fragment,I),se(a.$$.fragment,I),se(k),se(V),p=!1},d(I){I&&(u(l),u(o),u(f),u(m)),ge(e,I),ge(a,I),k&&k.d(I),V&&V.d()}}}function ff(s,e,t){let l,a,r,o,i,f;Ae(s,jl,B=>t(4,l=B)),Ae(s,Ho,B=>t(16,a=B)),Ae(s,Cs,B=>t(17,r=B)),Ae(s,Us,B=>t(5,o=B)),Ae(s,Es,B=>t(6,i=B));let{$$slots:m={},$$scope:g}=e;const{saveAs:p}=Ys,_=gt("i18n");Ae(s,_,B=>t(7,f=B));let b=!1,w=null,y=[],k;const V=async()=>pn(localStorage.token);ul(async()=>{if(l===void 0)await Al("/auth");else if(["user","admin"].includes(l.role)){try{if(t(1,w=await Yo("Chats",1)),w){const H=await w.getAllFromIndex("chats","timestamp");t(2,y=H.map((Z,N)=>H[H.length-1-N])),y.length===0&&await rr("Chats")}console.log(w)}catch{}const B=await Zn(localStorage.token).catch(H=>(console.error(H),null));if(B)bl.set(B.ui);else{let H={};try{H=JSON.parse(localStorage.getItem("settings")??"{}")}catch(Z){console.error("Failed to parse settings from localStorage",Z)}bl.set(H)}if(await Promise.all([(async()=>{qs.set(await V())})(),(async()=>{eo.set(await Fn(localStorage.token))})(),(async()=>{to.set(await Yn(localStorage.token))})(),(async()=>{lo.set(await qn(localStorage.token))})(),(async()=>{so.set(await Oo(localStorage.token))})(),(async()=>{ao.set(await Kn(localStorage.token))})(),(async()=>{Rs.set(await wn(localStorage.token))})()]),document.addEventListener("keydown",function(H){var q,j,C,L,R;const Z=H.ctrlKey||H.metaKey,N=H.shiftKey;if(Z&&N&&H.key.toLowerCase()==="o"&&(H.preventDefault(),console.log("newChat"),(q=document.getElementById("sidebar-new-chat-button"))==null||q.click()),N&&H.key==="Escape"&&(H.preventDefault(),console.log("focusInput"),(j=document.getElementById("chat-textarea"))==null||j.focus()),Z&&N&&H.key===";"){H.preventDefault(),console.log("copyLastCodeBlock");const P=[...document.getElementsByClassName("copy-code-button")].at(-1);P==null||P.click()}if(Z&&N&&H.key.toLowerCase()==="c"){H.preventDefault(),console.log("copyLastResponse");const P=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(P),P==null||P.click()}Z&&N&&H.key.toLowerCase()==="s"&&(H.preventDefault(),console.log("toggleSidebar"),(C=document.getElementById("sidebar-toggle-button"))==null||C.click()),Z&&N&&H.key==="Backspace"&&(H.preventDefault(),console.log("deleteChat"),(L=document.getElementById("delete-chat-button"))==null||L.click()),Z&&H.key==="."&&(H.preventDefault(),console.log("openSettings"),Us.set(!o)),Z&&H.key==="/"&&(H.preventDefault(),console.log("showShortcuts"),(R=document.getElementById("show-shortcuts-button"))==null||R.click())}),l.role==="admin"&&Es.set(localStorage.version!==r.version),a.url.searchParams.get("temporary-chat")==="true"&&En.set(!0),l.role==="admin")if(localStorage.dismissedUpdateToast){const H=new Date(Number(localStorage.dismissedUpdateToast));new Date-H>24*60*60*1e3&&await I()}else await I();await Ts()}t(0,b=!0)});const I=async()=>{t(3,k=await _n().catch(B=>({current:dl,latest:dl})))};function D(B){o=B,Us.set(o)}function T(B){i=B,Es.set(i)}const E=async()=>{let B=new Blob([JSON.stringify(y)],{type:"application/json"});p(B,`chat-export-${Date.now()}.json`);const H=w.transaction("chats","readwrite");await Promise.all([H.store.clear(),H.done]),await rr("Chats"),t(2,y=[])},A=async()=>{t(2,y=[])};return s.$$set=B=>{"$$scope"in B&&t(10,g=B.$$scope)},[b,w,y,k,l,o,i,f,p,_,g,m,D,T,E,A]}class Kf extends ut{constructor(e){super(),ft(this,e,ff,uf,ct,{})}}export{Kf as component};
//# sourceMappingURL=2.Cui4Feff.js.map
