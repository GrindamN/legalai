import{s as hl,e as d,t as L,k as D,c as h,a as _,b as U,d as u,o as A,A as ft,f as n,i as N,g as r,u as te,D as Ml,h as R,n as _t,F as Kt,j as Ft,p as El,q as kl,B as Lt,C as Q,I as Yt,J as pt,E as Rt,K as qt,H as Zt,y as bt,z as Et,N as Ss,l as Gt,G as Ms,M as xt,Z as Sl}from"../chunks/scheduler.zIJcXxfw.js";import{S as _l,i as vl,t as le,g as wt,a as ne,c as yt,f as Ht,b as et,d as tt,m as lt,e as st}from"../chunks/index.AJ44Rmxa.js";import{t as Ae}from"../chunks/Toaster.svelte_svelte_type_style_lang.DWI_AZqd.js";import{f as Ti}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as Di,a as Ai}from"../chunks/index.q9kuhcWv.js";import{d as Ul,m as nl,u as Ma,z as Vi,M as gs,n as Si}from"../chunks/index.C8DUQZ9Q.js";import{k as Mi,l as Oi,m as Pi}from"../chunks/index.D1Ov4Voh.js";import{i as Ni,e as Li,s as Ui,S as pl,g as Ci,a as Ri,b as Hi}from"../chunks/SensitiveInput.CvXfgwDf.js";import{b as Bi,u as $i,c as ji,d as Zi,a as es,e as Gi,f as Ki,g as ms,h as Wi,i as Fi,j as zi,k as qi,l as Yi,m as Ji,n as Qi,o as Xi}from"../chunks/index.UUypGmcO.js";import{b as xi,c as eo}from"../chunks/index.CIngsOIv.js";import{S as Vl}from"../chunks/Switch.Bz8CV0ru.js";import{e as ot}from"../chunks/each.HbMn3P7n.js";import{S as bs}from"../chunks/Spinner.CZs3vQQE.js";import{g as to,a as lo,b as so,u as ao}from"../chunks/index.C9NY1j8N.js";import{T as ca,v as ro,s as Vs}from"../chunks/index.BwyCz78k.js";import{g as no,a as io,b as oo,u as Er,c as uo,v as kr}from"../chunks/index.BD2Ojqba.js";import{T as ul}from"../chunks/create.BkENi-Q3.js";import{a as bi,b as Ei,g as Va,p as wr,d as yr,c as Ir,u as co,e as fo,f as Tr,h as Dr}from"../chunks/index.B0IuOHt9.js";import{C as Sa}from"../chunks/ConfirmDialog.DCTASMsl.js";import{a as ho,b as _o,c as Ar,d as vo,u as Vr,e as Sr,f as po}from"../chunks/index.A1WtNpiI.js";import{g as go}from"../chunks/index.DHX0A6qv.js";import{g as mo,a as ki,s as bo,b as Eo,c as wi,d as Mr,e as ko,f as wo,h as yo,r as Io,i as To}from"../chunks/index.DqmcPISR.js";function Or(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',o,i,f=s[1].t("Download Database")+"",c,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,y,k=s[1].t("Export All Chats (All Users)")+"",w,E,I;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,o=D(),i=d("div"),c=L(f),v=D(),b=d("button"),p=d("div"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"BUTTON",{class:!0,type:!0});var S=_(t);l=h(S,"DIV",{class:!0,"data-svelte-h":!0}),ft(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),o=A(S),i=h(S,"DIV",{class:!0});var H=_(i);c=U(H,f),H.forEach(u),S.forEach(u),V.forEach(u),v=A(T),b=h(T,"BUTTON",{class:!0});var M=_(b);p=h(M,"DIV",{class:!0,"data-svelte-h":!0}),ft(p)!=="svelte-1l0oz0g"&&(p.innerHTML=m),g=A(M),y=h(M,"DIV",{class:!0});var W=_(y);w=U(W,k),W.forEach(u),M.forEach(u),this.h()},h(){n(l,"class","self-center mr-3"),n(i,"class","self-center text-sm font-medium"),n(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"type","button"),n(e,"class","flex w-full justify-between"),n(p,"class","self-center mr-3"),n(y,"class","self-center text-sm font-medium"),n(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,V){N(T,e,V),r(e,t),r(t,l),r(t,o),r(t,i),r(i,c),N(T,v,V),N(T,b,V),r(b,p),r(b,g),r(b,y),r(y,w),E||(I=[te(t,"click",s[9]),te(b,"click",s[10])],E=!0)},p(T,V){V&2&&f!==(f=T[1].t("Download Database")+"")&&R(c,f),V&2&&k!==(k=T[1].t("Export All Chats (All Users)")+"")&&R(w,k)},d(T){T&&(u(e),u(v),u(b)),E=!1,Kt(I)}}}function Do(s){var ie;let e,t,l,a,o=s[1].t("Database")+"",i,f,c,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,y,k=s[1].t("Import Config from JSON File")+"",w,E,I,T,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',S,H,M=s[1].t("Export Config to JSON File")+"",W,X,z,Y,O,B,G,P,C,K='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',J,x,Z=s[1].t("Export LiteLLM config.yaml")+"",$,q,F,re=(((ie=s[2])==null?void 0:ie.features.enable_admin_export)??!0)&&Or(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=L(o),f=D(),c=d("input"),v=D(),b=d("button"),p=d("div"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),E=D(),I=d("button"),T=d("div"),T.innerHTML=V,S=D(),H=d("div"),W=L(M),X=D(),z=d("hr"),Y=D(),re&&re.c(),O=D(),B=d("hr"),G=D(),P=d("button"),C=d("div"),C.innerHTML=K,J=D(),x=d("div"),$=L(Z),this.h()},l(fe){e=h(fe,"FORM",{class:!0});var he=_(e);t=h(he,"DIV",{class:!0});var Se=_(t);l=h(Se,"DIV",{});var Pe=_(l);a=h(Pe,"DIV",{class:!0});var Te=_(a);i=U(Te,o),Te.forEach(u),f=A(Pe),c=h(Pe,"INPUT",{id:!0,type:!0,accept:!0}),v=A(Pe),b=h(Pe,"BUTTON",{type:!0,class:!0});var Ie=_(b);p=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),ft(p)!=="svelte-uk5zsu"&&(p.innerHTML=m),g=A(Ie),y=h(Ie,"DIV",{class:!0});var Re=_(y);w=U(Re,k),Re.forEach(u),Ie.forEach(u),E=A(Pe),I=h(Pe,"BUTTON",{type:!0,class:!0});var be=_(I);T=h(be,"DIV",{class:!0,"data-svelte-h":!0}),ft(T)!=="svelte-uk5zsu"&&(T.innerHTML=V),S=A(be),H=h(be,"DIV",{class:!0});var Me=_(H);W=U(Me,M),Me.forEach(u),be.forEach(u),X=A(Pe),z=h(Pe,"HR",{class:!0}),Y=A(Pe),re&&re.l(Pe),O=A(Pe),B=h(Pe,"HR",{class:!0}),G=A(Pe),P=h(Pe,"BUTTON",{type:!0,class:!0});var ue=_(P);C=h(ue,"DIV",{class:!0,"data-svelte-h":!0}),ft(C)!=="svelte-uk5zsu"&&(C.innerHTML=K),J=A(ue),x=h(ue,"DIV",{class:!0});var ye=_(x);$=U(ye,Z),ye.forEach(u),ue.forEach(u),Pe.forEach(u),Se.forEach(u),he.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(c,"id","config-json-input"),c.hidden=!0,n(c,"type","file"),n(c,"accept",".json"),n(p,"class","self-center mr-3"),n(y,"class","self-center text-sm font-medium"),n(b,"type","button"),n(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(T,"class","self-center mr-3"),n(H,"class","self-center text-sm font-medium"),n(I,"type","button"),n(I,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(z,"class","dark:border-gray-850 my-1"),n(B,"class","dark:border-gray-850 my-1"),n(C,"class","self-center mr-3"),n(x,"class","self-center text-sm font-medium"),n(P,"type","button"),n(P,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(fe,he){N(fe,e,he),r(e,t),r(t,l),r(l,a),r(a,i),r(l,f),r(l,c),r(l,v),r(l,b),r(b,p),r(b,g),r(b,y),r(y,w),r(l,E),r(l,I),r(I,T),r(I,S),r(I,H),r(H,W),r(l,X),r(l,z),r(l,Y),re&&re.m(l,null),r(l,O),r(l,B),r(l,G),r(l,P),r(P,C),r(P,J),r(P,x),r(x,$),q||(F=[te(c,"change",s[6]),te(b,"click",s[7]),te(I,"click",s[8]),te(P,"click",s[11]),te(e,"submit",Ml(s[12]))],q=!0)},p(fe,[he]){var Se;he&2&&o!==(o=fe[1].t("Database")+"")&&R(i,o),he&2&&k!==(k=fe[1].t("Import Config from JSON File")+"")&&R(w,k),he&2&&M!==(M=fe[1].t("Export Config to JSON File")+"")&&R(W,M),((Se=fe[2])==null?void 0:Se.features.enable_admin_export)??!0?re?re.p(fe,he):(re=Or(fe),re.c(),re.m(l,O)):re&&(re.d(1),re=null),he&2&&Z!==(Z=fe[1].t("Export LiteLLM config.yaml")+"")&&R($,Z)},i:_t,o:_t,d(fe){fe&&u(e),re&&re.d(),q=!1,Kt(F)}}}function Ao(s,e,t){let l,a;Ft(s,Ul,w=>t(2,a=w));const{saveAs:o}=Ti,i=El("i18n");Ft(s,i,w=>t(1,l=w));let{saveHandler:f}=e;const c=async()=>{let w=new Blob([JSON.stringify(await Mi(localStorage.token))],{type:"application/json"});o(w,`all-chats-export-${Date.now()}.json`)};kl(async()=>{});const v=w=>{const E=w.target.files[0],I=new FileReader;I.onload=async T=>{await Ni(localStorage.token,JSON.parse(T.target.result)).catch(S=>{Ae.error(S)})&&Ae.success("Config imported successfully"),T.target.value=null},I.readAsText(E)},b=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await Li(localStorage.token),E=new Blob([JSON.stringify(w)],{type:"application/json"});o(E,`config-${Date.now()}.json`)},m=()=>{Di(localStorage.token).catch(w=>{Ae.error(w)})},g=()=>{c()},y=()=>{Ai(localStorage.token).catch(w=>{Ae.error(w)})},k=async()=>{f()};return s.$$set=w=>{"saveHandler"in w&&t(0,f=w.saveHandler)},[f,l,a,o,i,c,v,b,p,m,g,y,k]}class Vo extends _l{constructor(e){super(),vl(this,e,Ao,Do,hl,{saveHandler:0})}}function Pr(s){let e,t,l=s[2].t("General Settings")+"",a,o,i,f,c=s[2].t("Enable New Sign Ups")+"",v,b,p,m,g,y,k,w=s[2].t("Default User Role")+"",E,I,T,V,S,H=s[2].t("pending")+"",M,W,X=s[2].t("user")+"",z,Y,O=s[2].t("admin")+"",B,G,P,C,K,J,x=s[2].t("Show Admin Details in Account Pending Overlay")+"",Z,$,q,F,re,ie,fe,he=s[2].t("Enable Community Sharing")+"",Se,Pe,Te,Ie,Re,be,Me,ue=s[2].t("Enable Message Rating")+"",ye,Ge,He,Ne,at,Ue,$e,Xe,_e,Oe,ge=s[2].t("JWT Expiration")+"",ce,Ee,ae,ke,ze,Ve,ve=s[2].t("Valid time units:")+"",de,Ce,Fe,qe=s[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",We,ut,nt,it,Qe,Ye,we,ct=s[2].t("Webhook URL")+"",xe,je,oe,ee,j,se,pe;function Ke(Le){s[6](Le)}let gt={};s[0].ENABLE_SIGNUP!==void 0&&(gt.state=s[0].ENABLE_SIGNUP),p=new Vl({props:gt}),Lt.push(()=>Ht(p,"state",Ke));function Tt(Le){s[8](Le)}let Dt={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(Dt.state=s[0].SHOW_ADMIN_DETAILS),q=new Vl({props:Dt}),Lt.push(()=>Ht(q,"state",Tt));function St(Le){s[9](Le)}let Pt={};s[0].ENABLE_COMMUNITY_SHARING!==void 0&&(Pt.state=s[0].ENABLE_COMMUNITY_SHARING),Te=new Vl({props:Pt}),Lt.push(()=>Ht(Te,"state",St));function Bt(Le){s[10](Le)}let Mt={};return s[0].ENABLE_MESSAGE_RATING!==void 0&&(Mt.state=s[0].ENABLE_MESSAGE_RATING),He=new Vl({props:Mt}),Lt.push(()=>Ht(He,"state",Bt)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),v=L(c),b=D(),et(p.$$.fragment),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("div"),V=d("select"),S=d("option"),M=L(H),W=d("option"),z=L(X),Y=d("option"),B=L(O),G=D(),P=d("hr"),C=D(),K=d("div"),J=d("div"),Z=L(x),$=D(),et(q.$$.fragment),re=D(),ie=d("div"),fe=d("div"),Se=L(he),Pe=D(),et(Te.$$.fragment),Re=D(),be=d("div"),Me=d("div"),ye=L(ue),Ge=D(),et(He.$$.fragment),at=D(),Ue=d("hr"),$e=D(),Xe=d("div"),_e=d("div"),Oe=d("div"),ce=L(ge),Ee=D(),ae=d("div"),ke=d("input"),ze=D(),Ve=d("div"),de=L(ve),Ce=D(),Fe=d("span"),We=L(qe),ut=D(),nt=d("hr"),it=D(),Qe=d("div"),Ye=d("div"),we=d("div"),xe=L(ct),je=D(),oe=d("div"),ee=d("input"),this.h()},l(Le){e=h(Le,"DIV",{});var De=_(e);t=h(De,"DIV",{class:!0});var It=_(t);a=U(It,l),It.forEach(u),o=A(De),i=h(De,"DIV",{class:!0});var At=_(i);f=h(At,"DIV",{class:!0});var $t=_(f);v=U($t,c),$t.forEach(u),b=A(At),tt(p.$$.fragment,At),At.forEach(u),g=A(De),y=h(De,"DIV",{class:!0});var vt=_(y);k=h(vt,"DIV",{class:!0});var ht=_(k);E=U(ht,w),ht.forEach(u),I=A(vt),T=h(vt,"DIV",{class:!0});var mt=_(T);V=h(mt,"SELECT",{class:!0,placeholder:!0});var rt=_(V);S=h(rt,"OPTION",{});var Ut=_(S);M=U(Ut,H),Ut.forEach(u),W=h(rt,"OPTION",{});var Ct=_(W);z=U(Ct,X),Ct.forEach(u),Y=h(rt,"OPTION",{});var Wt=_(Y);B=U(Wt,O),Wt.forEach(u),rt.forEach(u),mt.forEach(u),vt.forEach(u),G=A(De),P=h(De,"HR",{class:!0}),C=A(De),K=h(De,"DIV",{class:!0});var Ot=_(K);J=h(Ot,"DIV",{class:!0});var Nt=_(J);Z=U(Nt,x),Nt.forEach(u),$=A(Ot),tt(q.$$.fragment,Ot),Ot.forEach(u),re=A(De),ie=h(De,"DIV",{class:!0});var Be=_(ie);fe=h(Be,"DIV",{class:!0});var Je=_(fe);Se=U(Je,he),Je.forEach(u),Pe=A(Be),tt(Te.$$.fragment,Be),Be.forEach(u),Re=A(De),be=h(De,"DIV",{class:!0});var dt=_(be);Me=h(dt,"DIV",{class:!0});var Jt=_(Me);ye=U(Jt,ue),Jt.forEach(u),Ge=A(dt),tt(He.$$.fragment,dt),dt.forEach(u),at=A(De),Ue=h(De,"HR",{class:!0}),$e=A(De),Xe=h(De,"DIV",{class:!0});var jt=_(Xe);_e=h(jt,"DIV",{class:!0});var Qt=_(_e);Oe=h(Qt,"DIV",{class:!0});var wl=_(Oe);ce=U(wl,ge),wl.forEach(u),Qt.forEach(u),Ee=A(jt),ae=h(jt,"DIV",{class:!0});var gl=_(ae);ke=h(gl,"INPUT",{class:!0,type:!0,placeholder:!0}),gl.forEach(u),ze=A(jt),Ve=h(jt,"DIV",{class:!0});var yl=_(Ve);de=U(yl,ve),Ce=A(yl),Fe=h(yl,"SPAN",{class:!0});var Xt=_(Fe);We=U(Xt,qe),Xt.forEach(u),yl.forEach(u),jt.forEach(u),ut=A(De),nt=h(De,"HR",{class:!0}),it=A(De),Qe=h(De,"DIV",{class:!0});var el=_(Qe);Ye=h(el,"DIV",{class:!0});var ol=_(Ye);we=h(ol,"DIV",{class:!0});var Il=_(we);xe=U(Il,ct),Il.forEach(u),ol.forEach(u),je=A(el),oe=h(el,"DIV",{class:!0});var ml=_(oe);ee=h(ml,"INPUT",{class:!0,type:!0,placeholder:!0}),ml.forEach(u),el.forEach(u),De.forEach(u),this.h()},h(){n(t,"class","mb-3 text-sm font-medium"),n(f,"class","self-center text-xs font-medium"),n(i,"class","flex w-full justify-between pr-2"),n(k,"class","self-center text-xs font-medium"),S.__value="pending",Q(S,S.__value),W.__value="user",Q(W,W.__value),Y.__value="admin",Q(Y,Y.__value),n(V,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),n(V,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&Yt(()=>s[7].call(V)),n(T,"class","flex items-center relative"),n(y,"class","my-3 flex w-full justify-between"),n(P,"class","dark:border-gray-850 my-2"),n(J,"class","self-center text-xs font-medium"),n(K,"class","my-3 flex w-full items-center justify-between pr-2"),n(fe,"class","self-center text-xs font-medium"),n(ie,"class","my-3 flex w-full items-center justify-between pr-2"),n(Me,"class","self-center text-xs font-medium"),n(be,"class","my-3 flex w-full items-center justify-between pr-2"),n(Ue,"class","dark:border-gray-850 my-2"),n(Oe,"class","self-center text-xs font-medium"),n(_e,"class","flex w-full justify-between"),n(ke,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ke,"type","text"),n(ke,"placeholder",'e.g.) "30m","1h", "10d". '),n(ae,"class","flex mt-2 space-x-2"),n(Fe,"class","text-gray-300 font-medium"),n(Ve,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(Xe,"class","w-full justify-between"),n(nt,"class","dark:border-gray-850 my-2"),n(we,"class","self-center text-xs font-medium"),n(Ye,"class","flex w-full justify-between"),n(ee,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ee,"type","text"),n(ee,"placeholder","https://example.com/webhook"),n(oe,"class","flex mt-2 space-x-2"),n(Qe,"class","w-full justify-between")},m(Le,De){N(Le,e,De),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,v),r(i,b),lt(p,i,null),r(e,g),r(e,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,S),r(S,M),r(V,W),r(W,z),r(V,Y),r(Y,B),pt(V,s[0].DEFAULT_USER_ROLE,!0),r(e,G),r(e,P),r(e,C),r(e,K),r(K,J),r(J,Z),r(K,$),lt(q,K,null),r(e,re),r(e,ie),r(ie,fe),r(fe,Se),r(ie,Pe),lt(Te,ie,null),r(e,Re),r(e,be),r(be,Me),r(Me,ye),r(be,Ge),lt(He,be,null),r(e,at),r(e,Ue),r(e,$e),r(e,Xe),r(Xe,_e),r(_e,Oe),r(Oe,ce),r(Xe,Ee),r(Xe,ae),r(ae,ke),Q(ke,s[0].JWT_EXPIRES_IN),r(Xe,ze),r(Xe,Ve),r(Ve,de),r(Ve,Ce),r(Ve,Fe),r(Fe,We),r(e,ut),r(e,nt),r(e,it),r(e,Qe),r(Qe,Ye),r(Ye,we),r(we,xe),r(Qe,je),r(Qe,oe),r(oe,ee),Q(ee,s[1]),j=!0,se||(pe=[te(V,"change",s[7]),te(ke,"input",s[11]),te(ee,"input",s[12])],se=!0)},p(Le,De){(!j||De&4)&&l!==(l=Le[2].t("General Settings")+"")&&R(a,l),(!j||De&4)&&c!==(c=Le[2].t("Enable New Sign Ups")+"")&&R(v,c);const It={};!m&&De&1&&(m=!0,It.state=Le[0].ENABLE_SIGNUP,Rt(()=>m=!1)),p.$set(It),(!j||De&4)&&w!==(w=Le[2].t("Default User Role")+"")&&R(E,w),(!j||De&4)&&H!==(H=Le[2].t("pending")+"")&&R(M,H),(!j||De&4)&&X!==(X=Le[2].t("user")+"")&&R(z,X),(!j||De&4)&&O!==(O=Le[2].t("admin")+"")&&R(B,O),De&1&&pt(V,Le[0].DEFAULT_USER_ROLE),(!j||De&4)&&x!==(x=Le[2].t("Show Admin Details in Account Pending Overlay")+"")&&R(Z,x);const At={};!F&&De&1&&(F=!0,At.state=Le[0].SHOW_ADMIN_DETAILS,Rt(()=>F=!1)),q.$set(At),(!j||De&4)&&he!==(he=Le[2].t("Enable Community Sharing")+"")&&R(Se,he);const $t={};!Ie&&De&1&&(Ie=!0,$t.state=Le[0].ENABLE_COMMUNITY_SHARING,Rt(()=>Ie=!1)),Te.$set($t),(!j||De&4)&&ue!==(ue=Le[2].t("Enable Message Rating")+"")&&R(ye,ue);const vt={};!Ne&&De&1&&(Ne=!0,vt.state=Le[0].ENABLE_MESSAGE_RATING,Rt(()=>Ne=!1)),He.$set(vt),(!j||De&4)&&ge!==(ge=Le[2].t("JWT Expiration")+"")&&R(ce,ge),De&1&&ke.value!==Le[0].JWT_EXPIRES_IN&&Q(ke,Le[0].JWT_EXPIRES_IN),(!j||De&4)&&ve!==(ve=Le[2].t("Valid time units:")+"")&&R(de,ve),(!j||De&4)&&qe!==(qe=Le[2].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&R(We,qe),(!j||De&4)&&ct!==(ct=Le[2].t("Webhook URL")+"")&&R(xe,ct),De&2&&ee.value!==Le[1]&&Q(ee,Le[1])},i(Le){j||(le(p.$$.fragment,Le),le(q.$$.fragment,Le),le(Te.$$.fragment,Le),le(He.$$.fragment,Le),j=!0)},o(Le){ne(p.$$.fragment,Le),ne(q.$$.fragment,Le),ne(Te.$$.fragment,Le),ne(He.$$.fragment,Le),j=!1},d(Le){Le&&u(e),st(p),st(q),st(Te),st(He),se=!1,Kt(pe)}}}function So(s){let e,t,l,a,o,i=s[2].t("Save")+"",f,c,v,b,p=s[0]!==null&&Pr(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),o=d("button"),f=L(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);p&&p.l(y),y.forEach(u),l=A(g),a=h(g,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);f=U(w,i),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){N(m,e,g),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,o),r(o,f),c=!0,v||(b=te(e,"submit",Ml(s[13])),v=!0)},p(m,[g]){m[0]!==null?p?(p.p(m,g),g&1&&le(p,1)):(p=Pr(m),p.c(),le(p,1),p.m(t,null)):p&&(wt(),ne(p,1,1,()=>{p=null}),yt()),(!c||g&4)&&i!==(i=m[2].t("Save")+"")&&R(f,i)},i(m){c||(le(p),c=!0)},o(m){ne(p),c=!1},d(m){m&&u(e),p&&p.d(),v=!1,b()}}}function Mo(s,e,t){let l;const a=El("i18n");Ft(s,a,E=>t(2,l=E));let{saveHandler:o}=e,i=null,f="";const c=async()=>{t(1,f=await $i(localStorage.token,f)),await eo(localStorage.token,i)?o():Ae.error(a.t("Failed to update settings"))};kl(async()=>{await Promise.all([(async()=>{t(0,i=await xi(localStorage.token))})(),(async()=>{t(1,f=await Bi(localStorage.token))})()])});function v(E){s.$$.not_equal(i.ENABLE_SIGNUP,E)&&(i.ENABLE_SIGNUP=E,t(0,i))}function b(){i.DEFAULT_USER_ROLE=qt(this),t(0,i)}function p(E){s.$$.not_equal(i.SHOW_ADMIN_DETAILS,E)&&(i.SHOW_ADMIN_DETAILS=E,t(0,i))}function m(E){s.$$.not_equal(i.ENABLE_COMMUNITY_SHARING,E)&&(i.ENABLE_COMMUNITY_SHARING=E,t(0,i))}function g(E){s.$$.not_equal(i.ENABLE_MESSAGE_RATING,E)&&(i.ENABLE_MESSAGE_RATING=E,t(0,i))}function y(){i.JWT_EXPIRES_IN=this.value,t(0,i)}function k(){f=this.value,t(1,f)}const w=async()=>{c()};return s.$$set=E=>{"saveHandler"in E&&t(5,o=E.saveHandler)},[i,f,l,a,c,o,v,b,p,m,g,y,k,w]}class Oo extends _l{constructor(e){super(),vl(this,e,Mo,So,hl,{saveHandler:5})}}function Nr(s,e,t){const l=s.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Lr(s,e,t){const l=s.slice();return l[21]=e[t],l}function Ur(s,e,t){const l=s.slice();return l[21]=e[t],l}function Po(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Don't Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function No(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{d:!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function Lo(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Don't Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function Uo(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{d:!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function Co(s){let e,t,l,a,o=s[5].t("Don't Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Don't Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function Ro(s){let e,t,l,a,o=s[5].t("Allow")+"",i;return{c(){e=bt("svg"),t=bt("path"),l=D(),a=d("span"),i=L(o),this.h()},l(f){e=Et(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var c=_(e);t=Et(c,"path",{d:!0}),_(t).forEach(u),c.forEach(u),l=A(f),a=h(f,"SPAN",{class:!0});var v=_(a);i=U(v,o),v.forEach(u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(a,"class","ml-2 self-center")},m(f,c){N(f,e,c),r(e,t),N(f,l,c),N(f,a,c),r(a,i)},p(f,c){c&32&&o!==(o=f[5].t("Allow")+"")&&R(i,o)},d(f){f&&(u(e),u(l),u(a))}}}function Cr(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){N(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Rr(s){let e,t,l,a,o,i=s[3].length+"",f,c,v=s[5].t("Model(s) Whitelisted")+"",b,p=ot(s[3]),m=[];for(let g=0;g<p.length;g+=1)m[g]=Br(Nr(s,p,g));return{c(){e=d("div"),t=d("div");for(let g=0;g<m.length;g+=1)m[g].c();l=D(),a=d("div"),o=d("div"),f=L(i),c=D(),b=L(v),this.h()},l(g){e=h(g,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);for(let I=0;I<m.length;I+=1)m[I].l(k);k.forEach(u),l=A(y),a=h(y,"DIV",{class:!0});var w=_(a);o=h(w,"DIV",{class:!0});var E=_(o);f=U(E,i),c=A(E),b=U(E,v),E.forEach(u),w.forEach(u),y.forEach(u),this.h()},h(){n(t,"class","space-y-1.5"),n(o,"class","text-xs font-medium"),n(a,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(g,y){N(g,e,y),r(e,t);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(t,null);r(e,l),r(e,a),r(a,o),r(o,f),r(o,c),r(o,b)},p(g,y){if(y&104){p=ot(g[3]);let k;for(k=0;k<p.length;k+=1){const w=Nr(g,p,k);m[k]?m[k].p(w,y):(m[k]=Br(w),m[k].c(),m[k].m(t,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=p.length}y&8&&i!==(i=g[3].length+"")&&R(f,i),y&32&&v!==(v=g[5].t("Model(s) Whitelisted")+"")&&R(b,v)},d(g){g&&u(e),Zt(m,g)}}}function Hr(s){let e,t=s[21].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[21].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){N(o,e,i),r(e,l)},p(o,i){i&64&&t!==(t=o[21].name+"")&&R(l,t),i&64&&a!==(a=o[21].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Ho(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[15](s[20])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function Bo(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(o,i){N(o,e,i),l||(a=te(e,"click",s[14]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function Br(s){let e,t,l,a,o=s[5].t("Select a model")+"",i,f,c,v,b,p=ot(s[6].filter(jr)),m=[];for(let E=0;E<p.length;E+=1)m[E]=Hr(Lr(s,p,E));function g(){s[13].call(l,s[19],s[20])}function y(E,I){return E[20]===0?Bo:Ho}let w=y(s)(s);return{c(){e=d("div"),t=d("div"),l=d("select"),a=d("option"),i=L(o);for(let E=0;E<m.length;E+=1)m[E].c();f=D(),w.c(),c=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);a=h(V,"OPTION",{});var S=_(a);i=U(S,o),S.forEach(u);for(let H=0;H<m.length;H+=1)m[H].l(V);V.forEach(u),T.forEach(u),f=A(I),w.l(I),c=A(I),I.forEach(u),this.h()},h(){a.__value="",Q(a,a.__value),a.disabled=!0,a.selected=!0,n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","Select a model"),s[18]===void 0&&Yt(g),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(E,I){N(E,e,I),r(e,t),r(t,l),r(l,a),r(a,i);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(l,null);pt(l,s[18],!0),r(e,f),w.m(e,null),r(e,c),v||(b=te(l,"change",g),v=!0)},p(E,I){if(s=E,I&32&&o!==(o=s[5].t("Select a model")+"")&&R(i,o),I&64){p=ot(s[6].filter(jr));let T;for(T=0;T<p.length;T+=1){const V=Lr(s,p,T);m[T]?m[T].p(V,I):(m[T]=Hr(V),m[T].c(),m[T].m(l,null))}for(;T<m.length;T+=1)m[T].d(1);m.length=p.length}I&72&&pt(l,s[18]),w.p(s,I)},d(E){E&&u(e),Zt(m,E),w.d(),v=!1,b()}}}function $o(s){let e,t,l,a,o=s[5].t("User Permissions")+"",i,f,c,v,b=s[5].t("Allow Chat Deletion")+"",p,m,g,y,k,w,E=s[5].t("Allow Chat Editing")+"",I,T,V,S,H,M,W=s[5].t("Allow Temporary Chat")+"",X,z,Y,O,B,G,P,C,K,J,x,Z=s[5].t("Manage Models")+"",$,q,F,re,ie,fe,he=s[5].t("Default Model")+"",Se,Pe,Te,Ie,Re,be=s[5].t("Select a model")+"",Me,ue,ye,Ge,He,Ne,at=s[5].t("Model Whitelisting")+"",Ue,$e,Xe,_e,Oe,ge,ce,Ee,ae=s[5].t("Save")+"",ke,ze,Ve,ve;function de(oe,ee){var j,se;return((se=(j=oe[4])==null?void 0:j.chat)==null?void 0:se.deletion)??!0?No:Po}let Ce=de(s),Fe=Ce(s);function qe(oe,ee){var j,se;return((se=(j=oe[4])==null?void 0:j.chat)==null?void 0:se.editing)??!0?Uo:Lo}let We=qe(s),ut=We(s);function nt(oe,ee){var j,se;return((se=(j=oe[4])==null?void 0:j.chat)==null?void 0:se.temporary)??!0?Ro:Co}let it=nt(s),Qe=it(s),Ye=ot(s[6].filter($r)),we=[];for(let oe=0;oe<Ye.length;oe+=1)we[oe]=Cr(Ur(s,Ye,oe));function ct(oe){s[12](oe)}let xe={};s[2]!==void 0&&(xe.state=s[2]),Xe=new Vl({props:xe}),Lt.push(()=>Ht(Xe,"state",ct));let je=s[2]&&Rr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=L(o),f=D(),c=d("div"),v=d("div"),p=L(b),m=D(),g=d("button"),Fe.c(),y=D(),k=d("div"),w=d("div"),I=L(E),T=D(),V=d("button"),ut.c(),S=D(),H=d("div"),M=d("div"),X=L(W),z=D(),Y=d("button"),Qe.c(),O=D(),B=d("hr"),G=D(),P=d("div"),C=d("div"),K=d("div"),J=d("div"),x=d("div"),$=L(Z),q=D(),F=d("div"),re=d("div"),ie=d("div"),fe=d("div"),Se=L(he),Pe=D(),Te=d("div"),Ie=d("select"),Re=d("option"),Me=L(be);for(let oe=0;oe<we.length;oe+=1)we[oe].c();ue=D(),ye=d("div"),Ge=d("div"),He=d("div"),Ne=d("div"),Ue=L(at),$e=D(),et(Xe.$$.fragment),Oe=D(),je&&je.c(),ge=D(),ce=d("div"),Ee=d("button"),ke=L(ae),this.h()},l(oe){e=h(oe,"FORM",{class:!0});var ee=_(e);t=h(ee,"DIV",{class:!0});var j=_(t);l=h(j,"DIV",{});var se=_(l);a=h(se,"DIV",{class:!0});var pe=_(a);i=U(pe,o),pe.forEach(u),f=A(se),c=h(se,"DIV",{class:!0});var Ke=_(c);v=h(Ke,"DIV",{class:!0});var gt=_(v);p=U(gt,b),gt.forEach(u),m=A(Ke),g=h(Ke,"BUTTON",{class:!0,type:!0});var Tt=_(g);Fe.l(Tt),Tt.forEach(u),Ke.forEach(u),y=A(se),k=h(se,"DIV",{class:!0});var Dt=_(k);w=h(Dt,"DIV",{class:!0});var St=_(w);I=U(St,E),St.forEach(u),T=A(Dt),V=h(Dt,"BUTTON",{class:!0,type:!0});var Pt=_(V);ut.l(Pt),Pt.forEach(u),Dt.forEach(u),S=A(se),H=h(se,"DIV",{class:!0});var Bt=_(H);M=h(Bt,"DIV",{class:!0});var Mt=_(M);X=U(Mt,W),Mt.forEach(u),z=A(Bt),Y=h(Bt,"BUTTON",{class:!0,type:!0});var Le=_(Y);Qe.l(Le),Le.forEach(u),Bt.forEach(u),se.forEach(u),O=A(j),B=h(j,"HR",{class:!0}),G=A(j),P=h(j,"DIV",{class:!0});var De=_(P);C=h(De,"DIV",{});var It=_(C);K=h(It,"DIV",{class:!0});var At=_(K);J=h(At,"DIV",{class:!0});var $t=_(J);x=h($t,"DIV",{class:!0});var vt=_(x);$=U(vt,Z),vt.forEach(u),$t.forEach(u),At.forEach(u),q=A(It),F=h(It,"DIV",{class:!0});var ht=_(F);re=h(ht,"DIV",{class:!0});var mt=_(re);ie=h(mt,"DIV",{class:!0});var rt=_(ie);fe=h(rt,"DIV",{class:!0});var Ut=_(fe);Se=U(Ut,he),Ut.forEach(u),rt.forEach(u),mt.forEach(u),Pe=A(ht),Te=h(ht,"DIV",{class:!0});var Ct=_(Te);Ie=h(Ct,"SELECT",{class:!0,placeholder:!0});var Wt=_(Ie);Re=h(Wt,"OPTION",{});var Ot=_(Re);Me=U(Ot,be),Ot.forEach(u);for(let Qt=0;Qt<we.length;Qt+=1)we[Qt].l(Wt);Wt.forEach(u),Ct.forEach(u),ht.forEach(u),ue=A(It),ye=h(It,"DIV",{class:!0});var Nt=_(ye);Ge=h(Nt,"DIV",{class:!0});var Be=_(Ge);He=h(Be,"DIV",{class:!0});var Je=_(He);Ne=h(Je,"DIV",{class:!0});var dt=_(Ne);Ue=U(dt,at),dt.forEach(u),$e=A(Je),tt(Xe.$$.fragment,Je),Je.forEach(u),Be.forEach(u),Oe=A(Nt),je&&je.l(Nt),Nt.forEach(u),It.forEach(u),De.forEach(u),j.forEach(u),ge=A(ee),ce=h(ee,"DIV",{class:!0});var Jt=_(ce);Ee=h(Jt,"BUTTON",{class:!0,type:!0});var jt=_(Ee);ke=U(jt,ae),jt.forEach(u),Jt.forEach(u),ee.forEach(u),this.h()},h(){n(a,"class","mb-2 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(g,"class","p-1 px-3 text-xs flex rounded transition"),n(g,"type","button"),n(c,"class","flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),n(V,"class","p-1 px-3 text-xs flex rounded transition"),n(V,"type","button"),n(k,"class","flex w-full justify-between"),n(M,"class","self-center text-xs font-medium"),n(Y,"class","p-1 px-3 text-xs flex rounded transition"),n(Y,"type","button"),n(H,"class","flex w-full justify-between"),n(B,"class","dark:border-gray-850 my-2"),n(x,"class","text-sm font-medium"),n(J,"class","flex justify-between items-center text-xs"),n(K,"class","mb-2"),n(fe,"class","text-xs font-medium"),n(ie,"class","flex justify-between items-center text-xs"),n(re,"class","mb-2"),Re.__value="",Q(Re,Re.__value),Re.disabled=!0,Re.selected=!0,n(Ie,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Ie,"placeholder","Select a model"),s[1]===void 0&&Yt(()=>s[11].call(Ie)),n(Te,"class","flex-1 mr-2"),n(F,"class","space-y-1 mb-3"),n(Ne,"class","text-xs font-medium"),n(He,"class","flex justify-between items-center text-xs"),n(Ge,"class","mb-2"),n(ye,"class","space-y-1"),n(P,"class","mt-2 space-y-3"),n(t,"class","space-y-3 overflow-y-scroll max-h-full"),n(Ee,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ee,"type","submit"),n(ce,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(oe,ee){N(oe,e,ee),r(e,t),r(t,l),r(l,a),r(a,i),r(l,f),r(l,c),r(c,v),r(v,p),r(c,m),r(c,g),Fe.m(g,null),r(l,y),r(l,k),r(k,w),r(w,I),r(k,T),r(k,V),ut.m(V,null),r(l,S),r(l,H),r(H,M),r(M,X),r(H,z),r(H,Y),Qe.m(Y,null),r(t,O),r(t,B),r(t,G),r(t,P),r(P,C),r(C,K),r(K,J),r(J,x),r(x,$),r(C,q),r(C,F),r(F,re),r(re,ie),r(ie,fe),r(fe,Se),r(F,Pe),r(F,Te),r(Te,Ie),r(Ie,Re),r(Re,Me);for(let j=0;j<we.length;j+=1)we[j]&&we[j].m(Ie,null);pt(Ie,s[1],!0),r(C,ue),r(C,ye),r(ye,Ge),r(Ge,He),r(He,Ne),r(Ne,Ue),r(He,$e),lt(Xe,He,null),r(ye,Oe),je&&je.m(ye,null),r(e,ge),r(e,ce),r(ce,Ee),r(Ee,ke),ze=!0,Ve||(ve=[te(g,"click",s[8]),te(V,"click",s[9]),te(Y,"click",s[10]),te(Ie,"change",s[11]),te(e,"submit",Ml(s[16]))],Ve=!0)},p(oe,[ee]){if((!ze||ee&32)&&o!==(o=oe[5].t("User Permissions")+"")&&R(i,o),(!ze||ee&32)&&b!==(b=oe[5].t("Allow Chat Deletion")+"")&&R(p,b),Ce===(Ce=de(oe))&&Fe?Fe.p(oe,ee):(Fe.d(1),Fe=Ce(oe),Fe&&(Fe.c(),Fe.m(g,null))),(!ze||ee&32)&&E!==(E=oe[5].t("Allow Chat Editing")+"")&&R(I,E),We===(We=qe(oe))&&ut?ut.p(oe,ee):(ut.d(1),ut=We(oe),ut&&(ut.c(),ut.m(V,null))),(!ze||ee&32)&&W!==(W=oe[5].t("Allow Temporary Chat")+"")&&R(X,W),it===(it=nt(oe))&&Qe?Qe.p(oe,ee):(Qe.d(1),Qe=it(oe),Qe&&(Qe.c(),Qe.m(Y,null))),(!ze||ee&32)&&Z!==(Z=oe[5].t("Manage Models")+"")&&R($,Z),(!ze||ee&32)&&he!==(he=oe[5].t("Default Model")+"")&&R(Se,he),(!ze||ee&32)&&be!==(be=oe[5].t("Select a model")+"")&&R(Me,be),ee&64){Ye=ot(oe[6].filter($r));let se;for(se=0;se<Ye.length;se+=1){const pe=Ur(oe,Ye,se);we[se]?we[se].p(pe,ee):(we[se]=Cr(pe),we[se].c(),we[se].m(Ie,null))}for(;se<we.length;se+=1)we[se].d(1);we.length=Ye.length}ee&66&&pt(Ie,oe[1]),(!ze||ee&32)&&at!==(at=oe[5].t("Model Whitelisting")+"")&&R(Ue,at);const j={};!_e&&ee&4&&(_e=!0,j.state=oe[2],Rt(()=>_e=!1)),Xe.$set(j),oe[2]?je?je.p(oe,ee):(je=Rr(oe),je.c(),je.m(ye,null)):je&&(je.d(1),je=null),(!ze||ee&32)&&ae!==(ae=oe[5].t("Save")+"")&&R(ke,ae)},i(oe){ze||(le(Xe.$$.fragment,oe),ze=!0)},o(oe){ne(Xe.$$.fragment,oe),ze=!1},d(oe){oe&&u(e),Fe.d(),ut.d(),Qe.d(),Zt(we,oe),st(Xe),je&&je.d(),Ve=!1,Kt(ve)}}}const $r=s=>s.id,jr=s=>s.id;function jo(s,e,t){let l,a,o;Ft(s,Ul,S=>t(17,l=S)),Ft(s,nl,S=>t(6,o=S));const i=El("i18n");Ft(s,i,S=>t(5,a=S));let{saveHandler:f}=e,c="",v=!1,b=[""],p={chat:{deletion:!0,edit:!0,temporary:!0}};kl(async()=>{t(4,p=await Oi(localStorage.token));const S=await ji(localStorage.token);S&&(t(2,v=S.enabled),t(3,b=S.models.length>0?S.models:[""])),t(1,c=l.default_models?l==null?void 0:l.default_models.split(",")[0]:"")});const m=()=>{var S;t(4,p.chat.deletion=!(((S=p==null?void 0:p.chat)==null?void 0:S.deletion)??!0),p)},g=()=>{var S;t(4,p.chat.editing=!(((S=p==null?void 0:p.chat)==null?void 0:S.editing)??!0),p)},y=()=>{var S;t(4,p.chat.temporary=!(((S=p==null?void 0:p.chat)==null?void 0:S.temporary)??!0),p)};function k(){c=qt(this),t(1,c)}function w(S){v=S,t(2,v)}function E(S,H){S[H]=qt(this),t(3,b)}const I=()=>{b.at(-1)!==""&&t(3,b=[...b,""])},T=S=>{b.splice(S,1),t(3,b)},V=async()=>{await Ui(localStorage.token,c),await Pi(localStorage.token,p),await Zi(localStorage.token,v,b),f(),await Ul.set(await es())};return s.$$set=S=>{"saveHandler"in S&&t(0,f=S.saveHandler)},[f,c,v,b,p,a,o,i,m,g,y,k,w,E,I,T,V]}class Zo extends _l{constructor(e){super(),vl(this,e,jo,$o,hl,{saveHandler:0})}}function Zr(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function Gr(s,e,t){const l=s.slice();return l[37]=e[t],l}function Kr(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function Wr(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function Go(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var f=_(t);tt(l.$$.fragment,f),f.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center h-full")},m(o,i){N(o,e,i),r(e,t),lt(l,t,null),a=!0},p:_t,i(o){a||(le(l.$$.fragment,o),a=!0)},o(o){ne(l.$$.fragment,o),a=!1},d(o){o&&u(e),st(l)}}}function Ko(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,o,i,f,c,v;const b=[Fo,Wo],p=[];function m(g,y){return g[3].length>0?0:1}return i=m(s),f=p[i]=b[i](s),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),f.c(),c=Gt(),this.h()},l(g){e=h(g,"DIV",{class:!0});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);a=U(k,l),k.forEach(u),y.forEach(u),o=A(g),f.l(g),c=Gt(),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2")},m(g,y){N(g,e,y),r(e,t),r(t,a),N(g,o,y),p[i].m(g,y),N(g,c,y),v=!0},p(g,y){(!v||y[0]&512)&&l!==(l=g[9].t("Manage Pipelines")+"")&&R(a,l);let k=i;i=m(g),i===k?p[i].p(g,y):(wt(),ne(p[k],1,1,()=>{p[k]=null}),yt(),f=p[i],f?f.p(g,y):(f=p[i]=b[i](g),f.c()),le(f,1),f.m(c.parentNode,c))},i(g){v||(le(f),v=!0)},o(g){ne(f),v=!1},d(g){g&&(u(e),u(o),u(c)),p[i].d(g)}}}function Wo(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=U(o,t),o.forEach(u)},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&R(l,t)},i:_t,o:_t,d(a){a&&u(e)}}}function Fo(s){let e,t,l,a,o,i=s[9].t("Select a pipeline url")+"",f,c,v,b,p,m=s[9].t("Upload Pipeline")+"",g,y,k,w,E,I,T,V,S,H,M,W,X=s[9].t("Install from Github URL")+"",z,Y,O,B,G,P,C,K,J,x,Z=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution â€”
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,$,q,F,re,ie,fe,he,Se,Pe,Te=ot(s[3]),Ie=[];for(let _e=0;_e<Te.length;_e+=1)Ie[_e]=Fr(Wr(s,Te,_e));function Re(_e,Oe){return _e[2]?qo:zo}let be=Re(s),Me=be(s);function ue(_e,Oe){return _e[1]?Jo:Yo}let ye=ue(s),Ge=ye(s);function He(_e,Oe){return _e[0]?Xo:Qo}let Ne=He(s),at=Ne(s);const Ue=[eu,xo],$e=[];function Xe(_e,Oe){return _e[10]!==null?0:1}return re=Xe(s),ie=$e[re]=Ue[re](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),o=d("option"),f=L(i);for(let _e=0;_e<Ie.length;_e+=1)Ie[_e].c();v=D(),b=d("div"),p=d("div"),g=L(m),y=D(),k=d("div"),w=d("div"),E=d("input"),I=D(),T=d("button"),Me.c(),V=D(),S=d("button"),Ge.c(),H=D(),M=d("div"),W=d("div"),z=L(X),Y=D(),O=d("div"),B=d("div"),G=d("input"),C=D(),K=d("button"),at.c(),J=D(),x=d("div"),x.innerHTML=Z,$=D(),q=d("hr"),F=D(),ie.c(),fe=Gt(),this.h()},l(_e){e=h(_e,"DIV",{class:!0});var Oe=_(e);t=h(Oe,"DIV",{class:!0});var ge=_(t);l=h(ge,"DIV",{class:!0});var ce=_(l);a=h(ce,"SELECT",{class:!0,placeholder:!0});var Ee=_(a);o=h(Ee,"OPTION",{class:!0});var ae=_(o);f=U(ae,i),ae.forEach(u);for(let it=0;it<Ie.length;it+=1)Ie[it].l(Ee);Ee.forEach(u),ce.forEach(u),ge.forEach(u),Oe.forEach(u),v=A(_e),b=h(_e,"DIV",{class:!0});var ke=_(b);p=h(ke,"DIV",{class:!0});var ze=_(p);g=U(ze,m),ze.forEach(u),y=A(ke),k=h(ke,"DIV",{class:!0});var Ve=_(k);w=h(Ve,"DIV",{class:!0});var ve=_(w);E=h(ve,"INPUT",{id:!0,type:!0,accept:!0}),I=A(ve),T=h(ve,"BUTTON",{class:!0,type:!0});var de=_(T);Me.l(de),de.forEach(u),ve.forEach(u),V=A(Ve),S=h(Ve,"BUTTON",{class:!0,type:!0});var Ce=_(S);Ge.l(Ce),Ce.forEach(u),Ve.forEach(u),ke.forEach(u),H=A(_e),M=h(_e,"DIV",{class:!0});var Fe=_(M);W=h(Fe,"DIV",{class:!0});var qe=_(W);z=U(qe,X),qe.forEach(u),Y=A(Fe),O=h(Fe,"DIV",{class:!0});var We=_(O);B=h(We,"DIV",{class:!0});var ut=_(B);G=h(ut,"INPUT",{class:!0,placeholder:!0}),ut.forEach(u),C=A(We),K=h(We,"BUTTON",{class:!0,type:!0});var nt=_(K);at.l(nt),nt.forEach(u),We.forEach(u),J=A(Fe),x=h(Fe,"DIV",{class:!0,"data-svelte-h":!0}),ft(x)!=="svelte-ob7r3n"&&(x.innerHTML=Z),Fe.forEach(u),$=A(_e),q=h(_e,"HR",{class:!0}),F=A(_e),ie.l(_e),fe=Gt(),this.h()},h(){o.__value="",Q(o,o.__value),o.selected=!0,o.disabled=!0,n(o,"class","bg-gray-100 dark:bg-gray-700"),n(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(a,"placeholder",c=s[9].t("Select a pipeline url")),s[4]===void 0&&Yt(()=>s[19].call(a)),n(l,"class","flex-1"),n(t,"class","flex gap-2"),n(e,"class","space-y-1"),n(p,"class","mb-2 text-sm font-medium"),n(E,"id","pipelines-upload-input"),n(E,"type","file"),n(E,"accept",".py"),E.hidden=!0,n(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(T,"type","button"),n(w,"class","flex-1 mr-2"),n(S,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),S.disabled=s[1],n(S,"type","button"),n(k,"class","flex w-full"),n(b,"class","my-2"),n(W,"class","mb-2 text-sm font-medium"),n(G,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(G,"placeholder",P=s[9].t("Enter Github Raw URL")),n(B,"class","flex-1 mr-2"),n(K,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),K.disabled=s[0],n(K,"type","button"),n(O,"class","flex w-full"),n(x,"class","mt-2 text-xs text-gray-500"),n(M,"class","my-2"),n(q,"class","dark:border-gray-800 my-3 w-full")},m(_e,Oe){N(_e,e,Oe),r(e,t),r(t,l),r(l,a),r(a,o),r(o,f);for(let ge=0;ge<Ie.length;ge+=1)Ie[ge]&&Ie[ge].m(a,null);pt(a,s[4],!0),N(_e,v,Oe),N(_e,b,Oe),r(b,p),r(p,g),r(b,y),r(b,k),r(k,w),r(w,E),r(w,I),r(w,T),Me.m(T,null),r(k,V),r(k,S),Ge.m(S,null),N(_e,H,Oe),N(_e,M,Oe),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,B),r(B,G),Q(G,s[8]),r(O,C),r(O,K),at.m(K,null),r(M,J),r(M,x),N(_e,$,Oe),N(_e,q,Oe),N(_e,F,Oe),$e[re].m(_e,Oe),N(_e,fe,Oe),he=!0,Se||(Pe=[te(a,"change",s[19]),te(a,"change",s[20]),te(E,"change",s[21]),te(T,"click",s[22]),te(S,"click",s[23]),te(G,"input",s[24]),te(K,"click",s[25])],Se=!0)},p(_e,Oe){if((!he||Oe[0]&512)&&i!==(i=_e[9].t("Select a pipeline url")+"")&&R(f,i),Oe[0]&8){Te=ot(_e[3]);let ce;for(ce=0;ce<Te.length;ce+=1){const Ee=Wr(_e,Te,ce);Ie[ce]?Ie[ce].p(Ee,Oe):(Ie[ce]=Fr(Ee),Ie[ce].c(),Ie[ce].m(a,null))}for(;ce<Ie.length;ce+=1)Ie[ce].d(1);Ie.length=Te.length}(!he||Oe[0]&512&&c!==(c=_e[9].t("Select a pipeline url")))&&n(a,"placeholder",c),Oe[0]&24&&pt(a,_e[4]),(!he||Oe[0]&512)&&m!==(m=_e[9].t("Upload Pipeline")+"")&&R(g,m),be===(be=Re(_e))&&Me?Me.p(_e,Oe):(Me.d(1),Me=be(_e),Me&&(Me.c(),Me.m(T,null))),ye!==(ye=ue(_e))&&(Ge.d(1),Ge=ye(_e),Ge&&(Ge.c(),Ge.m(S,null))),(!he||Oe[0]&2)&&(S.disabled=_e[1]),(!he||Oe[0]&512)&&X!==(X=_e[9].t("Install from Github URL")+"")&&R(z,X),(!he||Oe[0]&512&&P!==(P=_e[9].t("Enter Github Raw URL")))&&n(G,"placeholder",P),Oe[0]&256&&G.value!==_e[8]&&Q(G,_e[8]),Ne!==(Ne=He(_e))&&(at.d(1),at=Ne(_e),at&&(at.c(),at.m(K,null))),(!he||Oe[0]&1)&&(K.disabled=_e[0]);let ge=re;re=Xe(_e),re===ge?$e[re].p(_e,Oe):(wt(),ne($e[ge],1,1,()=>{$e[ge]=null}),yt(),ie=$e[re],ie?ie.p(_e,Oe):(ie=$e[re]=Ue[re](_e),ie.c()),le(ie,1),ie.m(fe.parentNode,fe))},i(_e){he||(le(ie),he=!0)},o(_e){ne(ie),he=!1},d(_e){_e&&(u(e),u(v),u(b),u(H),u(M),u($),u(q),u(F),u(fe)),Zt(Ie,_e),Me.d(),Ge.d(),at.d(),$e[re].d(_e),Se=!1,Kt(Pe)}}}function Fr(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[10].idx.toString(),Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[10].url+"")&&R(l,t),i[0]&8&&a!==(a=o[10].idx.toString())&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function zo(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){N(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&R(t,e)},d(l){l&&u(t)}}}function qo(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=L(e),l=L(" pipeline(s) selected.")},l(a){t=U(a,e),l=U(a," pipeline(s) selected.")},m(a,o){N(a,t,o),N(a,l,o)},p(a,o){o[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&R(t,e)},d(a){a&&(u(t),u(l))}}}function Yo(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Jo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function Qo(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Xo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function xo(s){let e,t,l,a;return l=new bs({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var f=_(t);tt(l.$$.fragment,f),f.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex justify-center")},m(o,i){N(o,e,i),r(e,t),lt(l,t,null),a=!0},p:_t,i(o){a||(le(l.$$.fragment,o),a=!0)},o(o){ne(l.$$.fragment,o),a=!1},d(o){o&&u(e),st(l)}}}function eu(s){let e,t,l,a;const o=[lu,tu],i=[];function f(c,v){return c[10].length>0?0:c[10].length===0?1:-1}return~(e=f(s))&&(t=i[e]=o[e](s)),{c(){t&&t.c(),l=Gt()},l(c){t&&t.l(c),l=Gt()},m(c,v){~e&&i[e].m(c,v),N(c,l,v),a=!0},p(c,v){let b=e;e=f(c),e===b?~e&&i[e].p(c,v):(t&&(wt(),ne(i[b],1,1,()=>{i[b]=null}),yt()),~e?(t=i[e],t?t.p(c,v):(t=i[e]=o[e](c),t.c()),le(t,1),t.m(l.parentNode,l)):t=null)},i(c){a||(le(t),a=!0)},o(c){ne(t),a=!1},d(c){c&&u(l),~e&&i[e].d(c)}}}function tu(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ft(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){N(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function lu(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,o,i,f,c,v,b,p,m=s[10].length>0&&zr(s);const g=[au,su],y=[];function k(w,E){return w[10][w[7]].valves?0:1}return v=k(s),b=y[v]=g[v](s),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),m&&m.c(),f=D(),c=d("div"),b.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a=U(I,l),I.forEach(u),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var T=_(i);m&&m.l(T),f=A(T),c=h(T,"DIV",{class:!0});var V=_(c);b.l(V),V.forEach(u),T.forEach(u),this.h()},h(){n(t,"class","self-center text-sm font-semibold"),n(e,"class","flex w-full justify-between mb-2"),n(c,"class","space-y-1"),n(i,"class","space-y-1")},m(w,E){N(w,e,E),r(e,t),r(t,a),N(w,o,E),N(w,i,E),m&&m.m(i,null),r(i,f),r(i,c),y[v].m(c,null),p=!0},p(w,E){(!p||E[0]&512)&&l!==(l=w[9].t("Pipelines Valves")+"")&&R(a,l),w[10].length>0?m?m.p(w,E):(m=zr(w),m.c(),m.m(i,f)):m&&(m.d(1),m=null);let I=v;v=k(w),v===I?y[v].p(w,E):(wt(),ne(y[I],1,1,()=>{y[I]=null}),yt(),b=y[v],b?b.p(w,E):(b=y[v]=g[v](w),b.c()),le(b,1),b.m(c,null))},i(w){p||(le(b),p=!0)},o(w){ne(b),p=!1},d(w){w&&(u(e),u(o),u(i)),m&&m.d(),y[v].d()}}}function zr(s){let e,t,l,a,o,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',c,v,b=ot(s[10]),p=[];for(let m=0;m<b.length;m+=1)p[m]=qr(Kr(s,b,m));return{c(){e=d("div"),t=d("div"),l=d("select");for(let m=0;m<p.length;m+=1)p[m].c();o=D(),i=d("button"),i.innerHTML=f,this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);l=h(y,"SELECT",{class:!0,placeholder:!0});var k=_(l);for(let w=0;w<p.length;w+=1)p[w].l(k);k.forEach(u),y.forEach(u),o=A(g),i=h(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(i)!=="svelte-121ij38"&&(i.innerHTML=f),g.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Yt(()=>s[26].call(l)),n(t,"class","flex-1"),n(i,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(i,"type","button"),n(e,"class","flex gap-2")},m(m,g){N(m,e,g),r(e,t),r(t,l);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(l,null);pt(l,s[7],!0),r(e,o),r(e,i),c||(v=[te(l,"change",s[26]),te(l,"change",s[27]),te(i,"click",s[28])],c=!0)},p(m,g){if(g[0]&1024){b=ot(m[10]);let y;for(y=0;y<b.length;y+=1){const k=Kr(m,b,y);p[y]?p[y].p(k,g):(p[y]=qr(k),p[y].c(),p[y].m(l,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=b.length}g[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&n(l,"placeholder",a),g[0]&128&&pt(l,m[7])},d(m){m&&u(e),Zt(p,m),c=!1,Kt(v)}}}function qr(s){let e,t=s[40].name+"",l,a,o=(s[40].type??"pipe")+"",i,f;return{c(){e=d("option"),l=L(t),a=L(" ("),i=L(o),f=L(")"),this.h()},l(c){e=h(c,"OPTION",{class:!0});var v=_(e);l=U(v,t),a=U(v," ("),i=U(v,o),f=U(v,")"),v.forEach(u),this.h()},h(){e.__value=s[36],Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(c,v){N(c,e,v),r(e,l),r(e,a),r(e,i),r(e,f)},p(c,v){v[0]&1024&&t!==(t=c[40].name+"")&&R(l,t),v[0]&1024&&o!==(o=(c[40].type??"pipe")+"")&&R(i,o)},d(c){c&&u(e)}}}function su(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ft(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){N(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function au(s){let e,t,l,a;const o=[nu,ru],i=[];function f(c,v){return c[5]?0:1}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=Gt()},l(c){t.l(c),l=Gt()},m(c,v){i[e].m(c,v),N(c,l,v),a=!0},p(c,v){let b=e;e=f(c),e===b?i[e].p(c,v):(wt(),ne(i[b],1,1,()=>{i[b]=null}),yt(),t=i[e],t?t.p(c,v):(t=i[e]=o[e](c),t.c()),le(t,1),t.m(l.parentNode,l))},i(c){a||(le(t),a=!0)},o(c){ne(t),a=!1},d(c){c&&u(l),i[e].d(c)}}}function ru(s){let e,t;return e=new bs({props:{className:"size-5"}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function nu(s){let e,t,l=ot(Object.keys(s[6].properties)),a=[];for(let i=0;i<l.length;i+=1)a[i]=Qr(Zr(s,l,i));const o=i=>ne(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Gt()},l(i){for(let f=0;f<a.length;f+=1)a[f].l(i);e=Gt()},m(i,f){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,f);N(i,e,f),t=!0},p(i,f){if(f[0]&608){l=ot(Object.keys(i[6].properties));let c;for(c=0;c<l.length;c+=1){const v=Zr(i,l,c);a[c]?(a[c].p(v,f),le(a[c],1)):(a[c]=Qr(v),a[c].c(),le(a[c],1),a[c].m(e.parentNode,e))}for(wt(),c=l.length;c<a.length;c+=1)o(c);yt()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)le(a[f]);t=!0}},o(i){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ne(a[f]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function iu(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("Custom")+"")&&R(l,t)},d(a){a&&u(e)}}}function ou(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&512&&t!==(t=a[9].t("None")+"")&&R(l,t)},d(a){a&&u(e)}}}function Yr(s){let e,t,l,a,o;const i=[fu,cu,uu],f=[];function c(v,b){var p,m;return((p=v[6].properties[v[34]])==null?void 0:p.enum)??null?0:(((m=v[6].properties[v[34]])==null?void 0:m.type)??null)==="boolean"?1:2}return l=c(s),a=f[l]=i[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var p=_(t);a.l(p),p.forEach(u),b.forEach(u),this.h()},h(){n(t,"class","flex-1"),n(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(v,b){N(v,e,b),r(e,t),f[l].m(t,null),o=!0},p(v,b){let p=l;l=c(v),l===p?f[l].p(v,b):(wt(),ne(f[p],1,1,()=>{f[p]=null}),yt(),a=f[l],a?a.p(v,b):(a=f[l]=i[l](v),a.c()),le(a,1),a.m(t,null))},i(v){o||(le(a),o=!0)},o(v){ne(a),o=!1},d(v){v&&u(e),f[l].d()}}}function uu(s){let e,t,l,a;function o(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","text"),n(e,"placeholder",t=s[6].properties[s[34]].title),n(e,"autocomplete","off"),e.required=!0},m(i,f){N(i,e,f),Q(e,s[5][s[34]]),l||(a=te(e,"input",o),l=!0)},p(i,f){s=i,f[0]&64&&t!==(t=s[6].properties[s[34]].title)&&n(e,"placeholder",t),f[0]&96&&e.value!==s[5][s[34]]&&Q(e,s[5][s[34]])},i:_t,o:_t,d(i){i&&u(e),l=!1,a()}}}function cu(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,o,i,f,c,v;function b(m){s[31](m,s[34])}let p={};return s[5][s[34]]!==void 0&&(p.state=s[5][s[34]]),f=new Vl({props:p}),Lt.push(()=>Ht(f,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),et(f.$$.fragment),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);tt(f.$$.fragment,k),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","text-xs text-gray-500"),n(i,"class","pr-2"),n(e,"class","flex justify-between items-center")},m(m,g){N(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),lt(f,i,null),v=!0},p(m,g){s=m,(!v||g[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&R(a,l);const y={};!c&&g[0]&96&&(c=!0,y.state=s[5][s[34]],Rt(()=>c=!1)),f.$set(y)},i(m){v||(le(f.$$.fragment,m),v=!0)},o(m){ne(f.$$.fragment,m),v=!1},d(m){m&&u(e),st(f)}}}function fu(s){let e,t,l,a=ot(s[6].properties[s[34]].enum),o=[];for(let f=0;f<a.length;f+=1)o[f]=Jr(Gr(s,a,f));function i(){s[30].call(e,s[34])}return{c(){e=d("select");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=h(f,"SELECT",{class:!0});var c=_(e);for(let v=0;v<o.length;v+=1)o[v].l(c);c.forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Yt(i)},m(f,c){N(f,e,c);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(e,null);pt(e,s[5][s[34]],!0),t||(l=te(e,"change",i),t=!0)},p(f,c){if(s=f,c[0]&96){a=ot(s[6].properties[s[34]].enum);let v;for(v=0;v<a.length;v+=1){const b=Gr(s,a,v);o[v]?o[v].p(b,c):(o[v]=Jr(b),o[v].c(),o[v].m(e,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=a.length}c[0]&96&&pt(e,s[5][s[34]])},i:_t,o:_t,d(f){f&&u(e),Zt(o,f),t=!1,l()}}}function Jr(s){let e,t=s[37]+"",l,a,o,i;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(f){e=h(f,"OPTION",{});var c=_(e);l=U(c,t),a=A(c),c.forEach(u),this.h()},h(){e.__value=o=s[37],Q(e,e.__value),e.selected=i=s[37]===s[5][s[34]]},m(f,c){N(f,e,c),r(e,l),r(e,a)},p(f,c){c[0]&64&&t!==(t=f[37]+"")&&R(l,t),c[0]&64&&o!==(o=f[37])&&(e.__value=o,Q(e,e.__value)),c[0]&96&&i!==(i=f[37]===f[5][f[34]])&&(e.selected=i)},d(f){f&&u(e)}}}function Qr(s){let e,t,l,a=s[6].properties[s[34]].title+"",o,i,f,c,v,b,p,m;function g(I,T){return(I[5][I[34]]??null)===null?ou:iu}let y=g(s),k=y(s);function w(){return s[29](s[34])}let E=(s[5][s[34]]??null)!==null&&Yr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("button"),k.c(),c=D(),E&&E.c(),v=D(),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=_(e);t=h(T,"DIV",{class:!0});var V=_(t);l=h(V,"DIV",{class:!0});var S=_(l);o=U(S,a),S.forEach(u),i=A(V),f=h(V,"BUTTON",{class:!0,type:!0});var H=_(f);k.l(H),H.forEach(u),V.forEach(u),c=A(T),E&&E.l(T),v=A(T),T.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium"),n(f,"class","p-1 px-3 text-xs flex rounded transition"),n(f,"type","button"),n(t,"class","flex w-full justify-between"),n(e,"class","py-0.5 w-full justify-between")},m(I,T){N(I,e,T),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),k.m(f,null),r(e,c),E&&E.m(e,null),r(e,v),b=!0,p||(m=te(f,"click",w),p=!0)},p(I,T){s=I,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&R(o,a),y===(y=g(s))&&k?k.p(s,T):(k.d(1),k=y(s),k&&(k.c(),k.m(f,null))),(s[5][s[34]]??null)!==null?E?(E.p(s,T),T[0]&96&&le(E,1)):(E=Yr(s),E.c(),le(E,1),E.m(e,v)):E&&(wt(),ne(E,1,1,()=>{E=null}),yt())},i(I){b||(le(E),b=!0)},o(I){ne(E),b=!1},d(I){I&&u(e),k.d(),E&&E.d(),p=!1,m()}}}function du(s){let e,t,l,a,o,i,f,c=s[9].t("Save")+"",v,b,p,m;const g=[Ko,Go],y=[];function k(w,E){return w[3]!==null?0:1}return l=k(s),a=y[l]=g[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),f=d("button"),v=L(c),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);f=h(T,"BUTTON",{class:!0,type:!0});var V=_(f);v=U(V,c),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","overflow-y-scroll scrollbar-hidden h-full"),n(f,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(f,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,E){N(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,f),r(f,v),b=!0,p||(m=te(e,"submit",Ml(s[33])),p=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(wt(),ne(y[I],1,1,()=>{y[I]=null}),yt(),a=y[l],a?a.p(w,E):(a=y[l]=g[l](w),a.c()),le(a,1),a.m(t,null)),(!b||E[0]&512)&&c!==(c=w[9].t("Save")+"")&&R(v,c)},i(w){b||(le(a),b=!0)},o(w){ne(a),b=!1},d(w){w&&u(e),y[l].d(),p=!1,m()}}}function hu(s,e,t){let l;const a=El("i18n");Ft(s,a,$=>t(9,l=$));let{saveHandler:o}=e,i=!1,f=!1,c,v=null,b="",p=null,m=null,g=null,y=null,k="";const w=async()=>{var q;const $=p[y];if($&&(($==null?void 0:$.valves)??!1)){for(const re in g.properties)((q=g.properties[re])==null?void 0:q.type)==="array"&&t(5,m[re]=m[re].split(",").map(ie=>ie.trim()),m);await Ki(localStorage.token,$.id,m,b).catch(re=>{Ae.error(re)})&&(Ae.success(l.t("Valves updated successfully")),I(),nl.set(await ms(localStorage.token)),o())}else Ae.error(l.t("No valves to update"))},E=async $=>{var q;t(5,m=null),t(6,g=null),t(6,g=await Wi(localStorage.token,p[$].id,b)),t(5,m=await Fi(localStorage.token,p[$].id,b));for(const F in g.properties)((q=g.properties[F])==null?void 0:q.type)==="array"&&t(5,m[F]=m[F].join(","),m)},I=async()=>{t(10,p=null),t(5,m=null),t(6,g=null),v.length>0?(console.log(b),t(10,p=await zi(localStorage.token,b)),p.length>0&&(t(7,y=0),await E(y))):t(10,p=[])},T=async()=>{t(0,i=!0),await qi(localStorage.token,k,b).catch(q=>(Ae.error(q),null))&&(Ae.success(l.t("Pipeline downloaded successfully")),I(),nl.set(await ms(localStorage.token))),t(0,i=!1)},V=async()=>{if(t(1,f=!0),c&&c.length!==0){const q=c[0];console.log(q),await Ji(localStorage.token,q,b).catch(re=>(console.log(re),Ae.error("Something went wrong :/"),null))&&(Ae.success(l.t("Pipeline downloaded successfully")),I(),nl.set(await ms(localStorage.token)))}else Ae.error(l.t("No file selected"));t(2,c=null);const $=document.getElementById("pipeline-upload-input");$&&($.value=null),t(1,f=!1)},S=async()=>{await Yi(localStorage.token,p[y].id,b).catch(q=>(Ae.error(q),null))&&(Ae.success(l.t("Pipeline deleted successfully")),I(),nl.set(await ms(localStorage.token)))};kl(async()=>{t(3,v=await Gi(localStorage.token)),console.log(v),v.length>0&&t(4,b=v[0].idx.toString()),await I()});function H(){b=qt(this),t(4,b),t(3,v)}const M=async()=>{await Ss(),await I()};function W(){c=this.files,t(2,c)}const X=()=>{var $;($=document.getElementById("pipelines-upload-input"))==null||$.click()},z=()=>{V()};function Y(){k=this.value,t(8,k)}const O=()=>{T()};function B(){y=qt(this),t(7,y)}const G=async()=>{await Ss(),await E(y)},P=()=>{S()},C=$=>{t(5,m[$]=(m[$]??null)===null?"":null,m)};function K($){m[$]=qt(this),t(5,m),t(6,g)}function J($,q){s.$$.not_equal(m[q],$)&&(m[q]=$,t(5,m))}function x($){m[$]=this.value,t(5,m),t(6,g)}const Z=async()=>{w()};return s.$$set=$=>{"saveHandler"in $&&t(18,o=$.saveHandler)},[i,f,c,v,b,m,g,y,k,l,p,a,w,E,I,T,V,S,o,H,M,W,X,z,Y,O,B,G,P,C,K,J,x,Z]}class _u extends _l{constructor(e){super(),vl(this,e,hu,du,hl,{saveHandler:18},null,[-1,-1])}}function Xr(s,e,t){const l=s.slice();return l[36]=e[t],l}function xr(s,e,t){const l=s.slice();return l[42]=e[t],l}function en(s,e,t){const l=s.slice();return l[39]=e[t],l}function tn(s,e,t){const l=s.slice();return l[42]=e[t],l}function ln(s,e,t){const l=s.slice();return l[39]=e[t],l}function sn(s,e,t){const l=s.slice();return l[39]=e[t],l}function an(s){let e,t,l,a,o,i,f,c,v,b,p,m,g=s[13].t("STT Model")+"",y,k,w,E,I,T,V,S,H,M,W;function X(Y){s[22](Y)}let z={placeholder:s[13].t("API Key")};return s[8]!==void 0&&(z.value=s[8]),i=new pl({props:z}),Lt.push(()=>Ht(i,"value",X)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),et(i.$$.fragment),c=D(),v=d("hr"),b=D(),p=d("div"),m=d("div"),y=L(g),k=D(),w=d("div"),E=d("div"),I=d("input"),T=D(),V=d("datalist"),S=d("option"),this.h()},l(Y){e=h(Y,"DIV",{});var O=_(e);t=h(O,"DIV",{class:!0});var B=_(t);l=h(B,"INPUT",{class:!0,placeholder:!0}),o=A(B),tt(i.$$.fragment,B),B.forEach(u),O.forEach(u),c=A(Y),v=h(Y,"HR",{class:!0}),b=A(Y),p=h(Y,"DIV",{});var G=_(p);m=h(G,"DIV",{class:!0});var P=_(m);y=U(P,g),P.forEach(u),k=A(G),w=h(G,"DIV",{class:!0});var C=_(w);E=h(C,"DIV",{class:!0});var K=_(E);I=h(K,"INPUT",{list:!0,class:!0,placeholder:!0}),T=A(K),V=h(K,"DATALIST",{id:!0});var J=_(V);S=h(J,"OPTION",{}),_(S).forEach(u),J.forEach(u),K.forEach(u),C.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1"),n(v,"class","dark:border-gray-850 my-2"),n(m,"class","mb-1.5 text-sm font-medium"),n(I,"list","model-list"),n(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(I,"placeholder","Select a model"),S.__value="whisper-1",Q(S,S.__value),n(V,"id","model-list"),n(E,"class","flex-1"),n(w,"class","flex w-full")},m(Y,O){N(Y,e,O),r(e,t),r(t,l),Q(l,s[7]),r(t,o),lt(i,t,null),N(Y,c,O),N(Y,v,O),N(Y,b,O),N(Y,p,O),r(p,m),r(m,y),r(p,k),r(p,w),r(w,E),r(E,I),Q(I,s[10]),r(E,T),r(E,V),r(V,S),H=!0,M||(W=[te(l,"input",s[21]),te(I,"input",s[23])],M=!0)},p(Y,O){(!H||O[0]&8192&&a!==(a=Y[13].t("API Base URL")))&&n(l,"placeholder",a),O[0]&128&&l.value!==Y[7]&&Q(l,Y[7]);const B={};O[0]&8192&&(B.placeholder=Y[13].t("API Key")),!f&&O[0]&256&&(f=!0,B.value=Y[8],Rt(()=>f=!1)),i.$set(B),(!H||O[0]&8192)&&g!==(g=Y[13].t("STT Model")+"")&&R(y,g),O[0]&1024&&I.value!==Y[10]&&Q(I,Y[10])},i(Y){H||(le(i.$$.fragment,Y),H=!0)},o(Y){ne(i.$$.fragment,Y),H=!1},d(Y){Y&&(u(e),u(c),u(v),u(b),u(p)),st(i),M=!1,Kt(W)}}}function vu(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=h(f,"DIV",{});var c=_(e);t=h(c,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),c.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Key")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(f,c){N(f,e,c),r(e,t),r(t,l),Q(l,s[2]),o||(i=te(l,"input",s[28]),o=!0)},p(f,c){c[0]&8192&&a!==(a=f[13].t("API Key"))&&n(l,"placeholder",a),c[0]&4&&l.value!==f[2]&&Q(l,f[2])},i:_t,o:_t,d(f){f&&u(e),o=!1,i()}}}function pu(s){let e,t,l,a,o,i,f,c,v,b;function p(g){s[27](g)}let m={placeholder:s[13].t("API Key")};return s[1]!==void 0&&(m.value=s[1]),i=new pl({props:m}),Lt.push(()=>Ht(i,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),et(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{});var y=_(e);t=h(y,"DIV",{class:!0});var k=_(t);l=h(k,"INPUT",{class:!0,placeholder:!0}),o=A(k),tt(i.$$.fragment,k),k.forEach(u),y.forEach(u),this.h()},h(){n(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[13].t("API Base URL")),l.required=!0,n(t,"class","mt-1 flex gap-2 mb-1")},m(g,y){N(g,e,y),r(e,t),r(t,l),Q(l,s[0]),r(t,o),lt(i,t,null),c=!0,v||(b=te(l,"input",s[26]),v=!0)},p(g,y){(!c||y[0]&8192&&a!==(a=g[13].t("API Base URL")))&&n(l,"placeholder",a),y[0]&1&&l.value!==g[0]&&Q(l,g[0]);const k={};y[0]&8192&&(k.placeholder=g[13].t("API Key")),!f&&y[0]&2&&(f=!0,k.value=g[1],Rt(()=>f=!1)),i.$set(k)},i(g){c||(le(i.$$.fragment,g),c=!0)},o(g){ne(i.$$.fragment,g),c=!1},d(g){g&&u(e),st(i),v=!1,b()}}}function gu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,f,c,v,b,p,m,g,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,H,M,W,X=ot(s[11]),z=[];for(let B=0;B<X.length;B+=1)z[B]=rn(en(s,X,B));let Y=ot(s[12]),O=[];for(let B=0;B<Y.length;B+=1)O[B]=nn(xr(s,Y,B));return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("div"),c=d("div"),v=d("input"),b=D(),p=d("datalist");for(let B=0;B<z.length;B+=1)z[B].c();m=D(),g=d("div"),y=d("div"),w=L(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),H=d("datalist");for(let B=0;B<O.length;B+=1)O[B].c();this.h()},l(B){e=h(B,"DIV",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var P=_(t);l=h(P,"DIV",{class:!0});var C=_(l);o=U(C,a),C.forEach(u),i=A(P),f=h(P,"DIV",{class:!0});var K=_(f);c=h(K,"DIV",{class:!0});var J=_(c);v=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(J),p=h(J,"DATALIST",{id:!0});var x=_(p);for(let ie=0;ie<z.length;ie+=1)z[ie].l(x);x.forEach(u),J.forEach(u),K.forEach(u),P.forEach(u),m=A(G),g=h(G,"DIV",{class:!0});var Z=_(g);y=h(Z,"DIV",{class:!0});var $=_(y);w=U($,k),$.forEach(u),E=A(Z),I=h(Z,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var F=_(T);V=h(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(F),H=h(F,"DATALIST",{id:!0});var re=_(H);for(let ie=0;ie<O.length;ie+=1)O[ie].l(re);re.forEach(u),F.forEach(u),q.forEach(u),Z.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(c,"class","flex-1"),n(f,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(H,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(g,"class","w-full"),n(e,"class","flex gap-2")},m(B,G){N(B,e,G),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),r(f,c),r(c,v),Q(v,s[5]),r(c,b),r(c,p);for(let P=0;P<z.length;P+=1)z[P]&&z[P].m(p,null);r(e,m),r(e,g),r(g,y),r(y,w),r(g,E),r(g,I),r(I,T),r(T,V),Q(V,s[4]),r(T,S),r(T,H);for(let P=0;P<O.length;P+=1)O[P]&&O[P].m(H,null);M||(W=[te(v,"input",s[32]),te(V,"input",s[33])],M=!0)},p(B,G){if(G[0]&8192&&a!==(a=B[13].t("TTS Voice")+"")&&R(o,a),G[0]&2080&&v.value!==B[5]&&Q(v,B[5]),G[0]&2048){X=ot(B[11]);let P;for(P=0;P<X.length;P+=1){const C=en(B,X,P);z[P]?z[P].p(C,G):(z[P]=rn(C),z[P].c(),z[P].m(p,null))}for(;P<z.length;P+=1)z[P].d(1);z.length=X.length}if(G[0]&8192&&k!==(k=B[13].t("TTS Model")+"")&&R(w,k),G[0]&16&&V.value!==B[4]&&Q(V,B[4]),G[0]&4096){Y=ot(B[12]);let P;for(P=0;P<Y.length;P+=1){const C=xr(B,Y,P);O[P]?O[P].p(C,G):(O[P]=nn(C),O[P].c(),O[P].m(H,null))}for(;P<O.length;P+=1)O[P].d(1);O.length=Y.length}},d(B){B&&u(e),Zt(z,B),Zt(O,B),M=!1,Kt(W)}}}function mu(s){let e,t,l,a=s[13].t("TTS Voice")+"",o,i,f,c,v,b,p,m,g,y,k=s[13].t("TTS Model")+"",w,E,I,T,V,S,H,M,W,X=ot(s[11]),z=[];for(let B=0;B<X.length;B+=1)z[B]=on(ln(s,X,B));let Y=ot(s[12]),O=[];for(let B=0;B<Y.length;B+=1)O[B]=un(tn(s,Y,B));return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("div"),c=d("div"),v=d("input"),b=D(),p=d("datalist");for(let B=0;B<z.length;B+=1)z[B].c();m=D(),g=d("div"),y=d("div"),w=L(k),E=D(),I=d("div"),T=d("div"),V=d("input"),S=D(),H=d("datalist");for(let B=0;B<O.length;B+=1)O[B].c();this.h()},l(B){e=h(B,"DIV",{class:!0});var G=_(e);t=h(G,"DIV",{class:!0});var P=_(t);l=h(P,"DIV",{class:!0});var C=_(l);o=U(C,a),C.forEach(u),i=A(P),f=h(P,"DIV",{class:!0});var K=_(f);c=h(K,"DIV",{class:!0});var J=_(c);v=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),b=A(J),p=h(J,"DATALIST",{id:!0});var x=_(p);for(let ie=0;ie<z.length;ie+=1)z[ie].l(x);x.forEach(u),J.forEach(u),K.forEach(u),P.forEach(u),m=A(G),g=h(G,"DIV",{class:!0});var Z=_(g);y=h(Z,"DIV",{class:!0});var $=_(y);w=U($,k),$.forEach(u),E=A(Z),I=h(Z,"DIV",{class:!0});var q=_(I);T=h(q,"DIV",{class:!0});var F=_(T);V=h(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=A(F),H=h(F,"DATALIST",{id:!0});var re=_(H);for(let ie=0;ie<O.length;ie+=1)O[ie].l(re);re.forEach(u),F.forEach(u),q.forEach(u),Z.forEach(u),G.forEach(u),this.h()},h(){n(l,"class","mb-1.5 text-sm font-medium"),n(v,"list","voice-list"),n(v,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(v,"placeholder","Select a voice"),n(p,"id","voice-list"),n(c,"class","flex-1"),n(f,"class","flex w-full"),n(t,"class","w-full"),n(y,"class","mb-1.5 text-sm font-medium"),n(V,"list","tts-model-list"),n(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(V,"placeholder","Select a model"),n(H,"id","tts-model-list"),n(T,"class","flex-1"),n(I,"class","flex w-full"),n(g,"class","w-full"),n(e,"class","flex gap-2")},m(B,G){N(B,e,G),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),r(f,c),r(c,v),Q(v,s[5]),r(c,b),r(c,p);for(let P=0;P<z.length;P+=1)z[P]&&z[P].m(p,null);r(e,m),r(e,g),r(g,y),r(y,w),r(g,E),r(g,I),r(I,T),r(T,V),Q(V,s[4]),r(T,S),r(T,H);for(let P=0;P<O.length;P+=1)O[P]&&O[P].m(H,null);M||(W=[te(v,"input",s[30]),te(V,"input",s[31])],M=!0)},p(B,G){if(G[0]&8192&&a!==(a=B[13].t("TTS Voice")+"")&&R(o,a),G[0]&2080&&v.value!==B[5]&&Q(v,B[5]),G[0]&2048){X=ot(B[11]);let P;for(P=0;P<X.length;P+=1){const C=ln(B,X,P);z[P]?z[P].p(C,G):(z[P]=on(C),z[P].c(),z[P].m(p,null))}for(;P<z.length;P+=1)z[P].d(1);z.length=X.length}if(G[0]&8192&&k!==(k=B[13].t("TTS Model")+"")&&R(w,k),G[0]&16&&V.value!==B[4]&&Q(V,B[4]),G[0]&4096){Y=ot(B[12]);let P;for(P=0;P<Y.length;P+=1){const C=tn(B,Y,P);O[P]?O[P].p(C,G):(O[P]=un(C),O[P].c(),O[P].m(H,null))}for(;P<O.length;P+=1)O[P].d(1);O.length=Y.length}},d(B){B&&u(e),Zt(z,B),Zt(O,B),M=!1,Kt(W)}}}function bu(s){let e,t,l=s[13].t("TTS Voice")+"",a,o,i,f,c,v,b=s[13].t("Default")+"",p,m,g,y,k=ot(s[11]),w=[];for(let E=0;E<k.length;E+=1)w[E]=cn(sn(s,k,E));return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("select"),v=d("option"),p=L(b);for(let E=0;E<w.length;E+=1)w[E].c();this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);f=h(V,"DIV",{class:!0});var S=_(f);c=h(S,"SELECT",{class:!0});var H=_(c);v=h(H,"OPTION",{});var M=_(v);p=U(M,b),M.forEach(u);for(let W=0;W<w.length;W+=1)w[W].l(H);H.forEach(u),S.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),v.__value="",Q(v,v.__value),v.selected=m=s[5]!=="",n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5]===void 0&&Yt(()=>s[29].call(c)),n(f,"class","flex-1"),n(i,"class","flex w-full")},m(E,I){N(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),r(c,v),r(v,p);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(c,null);pt(c,s[5],!0),g||(y=te(c,"change",s[29]),g=!0)},p(E,I){if(I[0]&8192&&l!==(l=E[13].t("TTS Voice")+"")&&R(a,l),I[0]&8192&&b!==(b=E[13].t("Default")+"")&&R(p,b),I[0]&2080&&m!==(m=E[5]!=="")&&(v.selected=m),I[0]&2080){k=ot(E[11]);let T;for(T=0;T<k.length;T+=1){const V=sn(E,k,T);w[T]?w[T].p(V,I):(w[T]=cn(V),w[T].c(),w[T].m(c,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=k.length}I[0]&2080&&pt(c,E[5])},d(E){E&&u(e),Zt(w,E),g=!1,y()}}}function rn(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,Q(e,e.__value)},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&R(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function nn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,Q(e,e.__value)},m(l,a){N(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,Q(e,e.__value))},d(l){l&&u(e)}}}function on(s){let e,t=s[39].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[39].id,Q(e,e.__value)},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&2048&&t!==(t=o[39].name+"")&&R(l,t),i[0]&2048&&a!==(a=o[39].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function un(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),_(e).forEach(u),this.h()},h(){e.__value=t=s[42].id,Q(e,e.__value)},m(l,a){N(l,e,a)},p(l,a){a[0]&4096&&t!==(t=l[42].id)&&(e.__value=t,Q(e,e.__value))},d(l){l&&u(e)}}}function cn(s){let e,t=s[39].name+"",l,a,o;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var f=_(e);l=U(f,t),f.forEach(u),this.h()},h(){e.__value=a=s[39].voiceURI,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=o=s[5]===s[39].voiceURI},m(i,f){N(i,e,f),r(e,l)},p(i,f){f[0]&2048&&t!==(t=i[39].name+"")&&R(l,t),f[0]&2048&&a!==(a=i[39].voiceURI)&&(e.__value=a,Q(e,e.__value)),f[0]&2080&&o!==(o=i[5]===i[39].voiceURI)&&(e.selected=o)},d(i){i&&u(e)}}}function fn(s){let e,t=s[13].t(s[36].charAt(0).toUpperCase()+s[36].slice(1))+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[36],Q(e,e.__value)},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&8192&&t!==(t=a[13].t(a[36].charAt(0).toUpperCase()+a[36].slice(1))+"")&&R(l,t)},d(a){a&&u(e)}}}function Eu(s){let e,t,l,a,o,i=s[13].t("STT Settings")+"",f,c,v,b,p=s[13].t("Speech-to-Text Engine")+"",m,g,y,k,w,E=s[13].t("Whisper (Local)")+"",I,T,V="OpenAI",S,H=s[13].t("Web API")+"",M,W,X,z,Y,O,B,G=s[13].t("TTS Settings")+"",P,C,K,J,x=s[13].t("Text-to-Speech Engine")+"",Z,$,q,F,re,ie=s[13].t("Web API")+"",fe,he,Se=s[13].t("OpenAI")+"",Pe,Te,Ie=s[13].t("ElevenLabs")+"",Re,be,Me,ue,ye,Ge,He,Ne,at,Ue,$e,Xe,_e=s[13].t("Response splitting")+"",Oe,ge,ce,Ee,ae,ke,ze=s[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",Ve,ve,de,Ce,Fe=s[13].t("Save")+"",qe,We,ut,nt,it=s[9]==="openai"&&an(s);const Qe=[pu,vu],Ye=[];function we(j,se){return j[3]==="openai"?0:j[3]==="elevenlabs"?1:-1}~(Me=we(s))&&(ue=Ye[Me]=Qe[Me](s));function ct(j,se){if(j[3]==="")return bu;if(j[3]==="openai")return mu;if(j[3]==="elevenlabs")return gu}let xe=ct(s),je=xe&&xe(s),oe=ot(Object.values(ca)),ee=[];for(let j=0;j<oe.length;j+=1)ee[j]=fn(Xr(s,oe,j));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),f=L(i),c=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("select"),w=d("option"),I=L(E),T=d("option"),T.textContent=V,S=d("option"),M=L(H),W=D(),it&&it.c(),X=D(),z=d("hr"),Y=D(),O=d("div"),B=d("div"),P=L(G),C=D(),K=d("div"),J=d("div"),Z=L(x),$=D(),q=d("div"),F=d("select"),re=d("option"),fe=L(ie),he=d("option"),Pe=L(Se),Te=d("option"),Re=L(Ie),be=D(),ue&&ue.c(),ye=D(),Ge=d("hr"),He=D(),je&&je.c(),Ne=D(),at=d("hr"),Ue=D(),$e=d("div"),Xe=d("div"),Oe=L(_e),ge=D(),ce=d("div"),Ee=d("select");for(let j=0;j<ee.length;j+=1)ee[j].c();ae=D(),ke=d("div"),Ve=L(ze),ve=D(),de=d("div"),Ce=d("button"),qe=L(Fe),this.h()},l(j){e=h(j,"FORM",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var pe=_(t);l=h(pe,"DIV",{class:!0});var Ke=_(l);a=h(Ke,"DIV",{});var gt=_(a);o=h(gt,"DIV",{class:!0});var Tt=_(o);f=U(Tt,i),Tt.forEach(u),c=A(gt),v=h(gt,"DIV",{class:!0});var Dt=_(v);b=h(Dt,"DIV",{class:!0});var St=_(b);m=U(St,p),St.forEach(u),g=A(Dt),y=h(Dt,"DIV",{class:!0});var Pt=_(y);k=h(Pt,"SELECT",{class:!0,placeholder:!0});var Bt=_(k);w=h(Bt,"OPTION",{});var Mt=_(w);I=U(Mt,E),Mt.forEach(u),T=h(Bt,"OPTION",{"data-svelte-h":!0}),ft(T)!=="svelte-bbvrw2"&&(T.textContent=V),S=h(Bt,"OPTION",{});var Le=_(S);M=U(Le,H),Le.forEach(u),Bt.forEach(u),Pt.forEach(u),Dt.forEach(u),W=A(gt),it&&it.l(gt),gt.forEach(u),X=A(Ke),z=h(Ke,"HR",{class:!0}),Y=A(Ke),O=h(Ke,"DIV",{});var De=_(O);B=h(De,"DIV",{class:!0});var It=_(B);P=U(It,G),It.forEach(u),C=A(De),K=h(De,"DIV",{class:!0});var At=_(K);J=h(At,"DIV",{class:!0});var $t=_(J);Z=U($t,x),$t.forEach(u),$=A(At),q=h(At,"DIV",{class:!0});var vt=_(q);F=h(vt,"SELECT",{class:!0,placeholder:!0});var ht=_(F);re=h(ht,"OPTION",{});var mt=_(re);fe=U(mt,ie),mt.forEach(u),he=h(ht,"OPTION",{});var rt=_(he);Pe=U(rt,Se),rt.forEach(u),Te=h(ht,"OPTION",{});var Ut=_(Te);Re=U(Ut,Ie),Ut.forEach(u),ht.forEach(u),vt.forEach(u),At.forEach(u),be=A(De),ue&&ue.l(De),ye=A(De),Ge=h(De,"HR",{class:!0}),He=A(De),je&&je.l(De),Ne=A(De),at=h(De,"HR",{class:!0}),Ue=A(De),$e=h(De,"DIV",{class:!0});var Ct=_($e);Xe=h(Ct,"DIV",{class:!0});var Wt=_(Xe);Oe=U(Wt,_e),Wt.forEach(u),ge=A(Ct),ce=h(Ct,"DIV",{class:!0});var Ot=_(ce);Ee=h(Ot,"SELECT",{class:!0,"aria-label":!0});var Nt=_(Ee);for(let Jt=0;Jt<ee.length;Jt+=1)ee[Jt].l(Nt);Nt.forEach(u),Ot.forEach(u),Ct.forEach(u),ae=A(De),ke=h(De,"DIV",{class:!0});var Be=_(ke);Ve=U(Be,ze),Be.forEach(u),De.forEach(u),Ke.forEach(u),pe.forEach(u),ve=A(se),de=h(se,"DIV",{class:!0});var Je=_(de);Ce=h(Je,"BUTTON",{class:!0,type:!0});var dt=_(Ce);qe=U(dt,Fe),dt.forEach(u),Je.forEach(u),se.forEach(u),this.h()},h(){n(o,"class","mb-1 text-sm font-medium"),n(b,"class","self-center text-xs font-medium"),w.__value="",Q(w,w.__value),T.__value="openai",Q(T,T.__value),S.__value="web",Q(S,S.__value),n(k,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(k,"placeholder","Select an engine"),s[9]===void 0&&Yt(()=>s[20].call(k)),n(y,"class","flex items-center relative"),n(v,"class","py-0.5 flex w-full justify-between"),n(z,"class","dark:border-gray-800"),n(B,"class","mb-1 text-sm font-medium"),n(J,"class","self-center text-xs font-medium"),re.__value="",Q(re,re.__value),he.__value="openai",Q(he,he.__value),Te.__value="elevenlabs",Q(Te,Te.__value),n(F,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(F,"placeholder","Select a mode"),s[3]===void 0&&Yt(()=>s[24].call(F)),n(q,"class","flex items-center relative"),n(K,"class","py-0.5 flex w-full justify-between"),n(Ge,"class","dark:border-gray-850 my-2"),n(at,"class","dark:border-gray-850 my-2"),n(Xe,"class","self-center text-xs font-medium"),n(Ee,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(Ee,"aria-label","Select how to split message text for TTS requests"),s[6]===void 0&&Yt(()=>s[34].call(Ee)),n(ce,"class","flex items-center relative"),n($e,"class","pt-0.5 flex w-full justify-between"),n(ke,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(l,"class","flex flex-col gap-3"),n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(Ce,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ce,"type","submit"),n(de,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(j,se){N(j,e,se),r(e,t),r(t,l),r(l,a),r(a,o),r(o,f),r(a,c),r(a,v),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),r(w,I),r(k,T),r(k,S),r(S,M),pt(k,s[9],!0),r(a,W),it&&it.m(a,null),r(l,X),r(l,z),r(l,Y),r(l,O),r(O,B),r(B,P),r(O,C),r(O,K),r(K,J),r(J,Z),r(K,$),r(K,q),r(q,F),r(F,re),r(re,fe),r(F,he),r(he,Pe),r(F,Te),r(Te,Re),pt(F,s[3],!0),r(O,be),~Me&&Ye[Me].m(O,null),r(O,ye),r(O,Ge),r(O,He),je&&je.m(O,null),r(O,Ne),r(O,at),r(O,Ue),r(O,$e),r($e,Xe),r(Xe,Oe),r($e,ge),r($e,ce),r(ce,Ee);for(let pe=0;pe<ee.length;pe+=1)ee[pe]&&ee[pe].m(Ee,null);pt(Ee,s[6],!0),r(O,ae),r(O,ke),r(ke,Ve),r(e,ve),r(e,de),r(de,Ce),r(Ce,qe),We=!0,ut||(nt=[te(k,"change",s[20]),te(F,"change",s[24]),te(F,"change",s[25]),te(Ee,"change",s[34]),te(e,"submit",Ml(s[35]))],ut=!0)},p(j,se){(!We||se[0]&8192)&&i!==(i=j[13].t("STT Settings")+"")&&R(f,i),(!We||se[0]&8192)&&p!==(p=j[13].t("Speech-to-Text Engine")+"")&&R(m,p),(!We||se[0]&8192)&&E!==(E=j[13].t("Whisper (Local)")+"")&&R(I,E),(!We||se[0]&8192)&&H!==(H=j[13].t("Web API")+"")&&R(M,H),se[0]&512&&pt(k,j[9]),j[9]==="openai"?it?(it.p(j,se),se[0]&512&&le(it,1)):(it=an(j),it.c(),le(it,1),it.m(a,null)):it&&(wt(),ne(it,1,1,()=>{it=null}),yt()),(!We||se[0]&8192)&&G!==(G=j[13].t("TTS Settings")+"")&&R(P,G),(!We||se[0]&8192)&&x!==(x=j[13].t("Text-to-Speech Engine")+"")&&R(Z,x),(!We||se[0]&8192)&&ie!==(ie=j[13].t("Web API")+"")&&R(fe,ie),(!We||se[0]&8192)&&Se!==(Se=j[13].t("OpenAI")+"")&&R(Pe,Se),(!We||se[0]&8192)&&Ie!==(Ie=j[13].t("ElevenLabs")+"")&&R(Re,Ie),se[0]&8&&pt(F,j[3]);let pe=Me;if(Me=we(j),Me===pe?~Me&&Ye[Me].p(j,se):(ue&&(wt(),ne(Ye[pe],1,1,()=>{Ye[pe]=null}),yt()),~Me?(ue=Ye[Me],ue?ue.p(j,se):(ue=Ye[Me]=Qe[Me](j),ue.c()),le(ue,1),ue.m(O,ye)):ue=null),xe===(xe=ct(j))&&je?je.p(j,se):(je&&je.d(1),je=xe&&xe(j),je&&(je.c(),je.m(O,Ne))),(!We||se[0]&8192)&&_e!==(_e=j[13].t("Response splitting")+"")&&R(Oe,_e),se[0]&8192){oe=ot(Object.values(ca));let Ke;for(Ke=0;Ke<oe.length;Ke+=1){const gt=Xr(j,oe,Ke);ee[Ke]?ee[Ke].p(gt,se):(ee[Ke]=fn(gt),ee[Ke].c(),ee[Ke].m(Ee,null))}for(;Ke<ee.length;Ke+=1)ee[Ke].d(1);ee.length=oe.length}se[0]&64&&pt(Ee,j[6]),(!We||se[0]&8192)&&ze!==(ze=j[13].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&R(Ve,ze),(!We||se[0]&8192)&&Fe!==(Fe=j[13].t("Save")+"")&&R(qe,Fe)},i(j){We||(le(it),le(ue),We=!0)},o(j){ne(it),ne(ue),We=!1},d(j){j&&u(e),it&&it.d(),~Me&&Ye[Me].d(),je&&je.d(),Zt(ee,j),ut=!1,Kt(nt)}}}function ku(s,e,t){let l;const a=Ms(),o=El("i18n");Ft(s,o,F=>t(13,l=F));let{saveHandler:i}=e,f="",c="",v="",b="",p="",m="",g=ca.PUNCTUATION,y="",k="",w="",E="",I=[],T=[];const V=async()=>{if(b==="")t(12,T=[]);else{const F=await lo(localStorage.token).catch(re=>{Ae.error(re)});F&&(console.log(F),t(12,T=F.models))}},S=async()=>{if(b===""){const F=setInterval(()=>{t(11,I=speechSynthesis.getVoices()),I.length>0&&clearInterval(F)},100)}else{const F=await so(localStorage.token).catch(re=>{Ae.error(re)});F&&(console.log(F),t(11,I=F.voices))}},H=async()=>{await ao(localStorage.token,{tts:{OPENAI_API_BASE_URL:f,OPENAI_API_KEY:c,API_KEY:v,ENGINE:b,MODEL:p,VOICE:m,SPLIT_ON:g},stt:{OPENAI_API_BASE_URL:y,OPENAI_API_KEY:k,ENGINE:w,MODEL:E}})&&(i(),es().then(Ul.set).catch(()=>{}))};kl(async()=>{const F=await to(localStorage.token);F&&(console.log(F),t(0,f=F.tts.OPENAI_API_BASE_URL),t(1,c=F.tts.OPENAI_API_KEY),t(2,v=F.tts.API_KEY),t(3,b=F.tts.ENGINE),t(4,p=F.tts.MODEL),t(5,m=F.tts.VOICE),t(6,g=F.tts.SPLIT_ON||ca.PUNCTUATION),t(7,y=F.stt.OPENAI_API_BASE_URL),t(8,k=F.stt.OPENAI_API_KEY),t(9,w=F.stt.ENGINE),t(10,E=F.stt.MODEL)),await S(),await V()});function M(){w=qt(this),t(9,w)}function W(){y=this.value,t(7,y)}function X(F){k=F,t(8,k)}function z(){E=this.value,t(10,E)}function Y(){b=qt(this),t(3,b)}const O=async F=>{var re;await H(),await S(),await V(),((re=F.target)==null?void 0:re.value)==="openai"?(t(5,m="alloy"),t(4,p="tts-1")):(t(5,m=""),t(4,p=""))};function B(){f=this.value,t(0,f)}function G(F){c=F,t(1,c)}function P(){v=this.value,t(2,v)}function C(){m=qt(this),t(5,m),t(11,I)}function K(){m=this.value,t(5,m),t(11,I)}function J(){p=this.value,t(4,p)}function x(){m=this.value,t(5,m),t(11,I)}function Z(){p=this.value,t(4,p)}function $(){g=qt(this),t(6,g)}const q=async()=>{await H(),a("save")};return s.$$set=F=>{"saveHandler"in F&&t(19,i=F.saveHandler)},[f,c,v,b,p,m,g,y,k,w,E,I,T,l,a,o,V,S,H,i,M,W,X,z,Y,O,B,G,P,C,K,J,x,Z,$,q]}class wu extends _l{constructor(e){super(),vl(this,e,ku,Eu,hl,{saveHandler:19},null,[-1,-1])}}function dn(s,e,t){const l=s.slice();return l[33]=e[t],l}function hn(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function _n(s){var Me;let e,t,l=s[5].t("Image Settings")+"",a,o,i,f,c,v=s[5].t("Image Generation (Experimental)")+"",b,p,m,g,y,k,w,E,I=s[5].t("Image Generation Engine")+"",T,V,S,H,M,W=s[5].t("Default (Open AI)")+"",X,z,Y=s[5].t("ComfyUI")+"",O,B,G=s[5].t("Automatic1111")+"",P,C,K,J,x,Z,$,q,F,re,ie,fe,he;function Se(ue){s[9](ue)}let Pe={};s[1].enabled!==void 0&&(Pe.state=s[1].enabled),g=new Vl({props:Pe}),Lt.push(()=>Ht(g,"state",Se)),g.$on("change",s[10]);const Te=[Tu,Iu,yu],Ie=[];function Re(ue,ye){var Ge,He,Ne;return(((Ge=ue[1])==null?void 0:Ge.engine)??"automatic1111")==="automatic1111"?0:((He=ue[1])==null?void 0:He.engine)==="comfyui"?1:((Ne=ue[1])==null?void 0:Ne.engine)==="openai"?2:-1}~($=Re(s))&&(q=Ie[$]=Te[$](s));let be=((Me=s[1])==null?void 0:Me.enabled)&&mn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("div"),b=L(v),p=D(),m=d("div"),et(g.$$.fragment),k=D(),w=d("div"),E=d("div"),T=L(I),V=D(),S=d("div"),H=d("select"),M=d("option"),X=L(W),z=d("option"),O=L(Y),B=d("option"),P=L(G),K=D(),J=d("hr"),x=D(),Z=d("div"),q&&q.c(),F=D(),be&&be.c(),re=Gt(),this.h()},l(ue){e=h(ue,"DIV",{});var ye=_(e);t=h(ye,"DIV",{class:!0});var Ge=_(t);a=U(Ge,l),Ge.forEach(u),o=A(ye),i=h(ye,"DIV",{});var He=_(i);f=h(He,"DIV",{class:!0});var Ne=_(f);c=h(Ne,"DIV",{class:!0});var at=_(c);b=U(at,v),at.forEach(u),p=A(Ne),m=h(Ne,"DIV",{class:!0});var Ue=_(m);tt(g.$$.fragment,Ue),Ue.forEach(u),Ne.forEach(u),He.forEach(u),k=A(ye),w=h(ye,"DIV",{class:!0});var $e=_(w);E=h($e,"DIV",{class:!0});var Xe=_(E);T=U(Xe,I),Xe.forEach(u),V=A($e),S=h($e,"DIV",{class:!0});var _e=_(S);H=h(_e,"SELECT",{class:!0,placeholder:!0});var Oe=_(H);M=h(Oe,"OPTION",{});var ge=_(M);X=U(ge,W),ge.forEach(u),z=h(Oe,"OPTION",{});var ce=_(z);O=U(ce,Y),ce.forEach(u),B=h(Oe,"OPTION",{});var Ee=_(B);P=U(Ee,G),Ee.forEach(u),Oe.forEach(u),_e.forEach(u),$e.forEach(u),ye.forEach(u),K=A(ue),J=h(ue,"HR",{class:!0}),x=A(ue),Z=h(ue,"DIV",{class:!0});var ae=_(Z);q&&q.l(ae),ae.forEach(u),F=A(ue),be&&be.l(ue),re=Gt(),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(m,"class","px-1"),n(f,"class","py-0.5 flex w-full justify-between"),n(E,"class","self-center text-xs font-medium"),M.__value="openai",Q(M,M.__value),z.__value="comfyui",Q(z,z.__value),B.__value="automatic1111",Q(B,B.__value),n(H,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(H,"placeholder",C=s[5].t("Select Engine")),s[1].engine===void 0&&Yt(()=>s[11].call(H)),n(S,"class","flex items-center relative"),n(w,"class","py-0.5 flex w-full justify-between"),n(J,"class","dark:border-gray-850"),n(Z,"class","flex flex-col gap-2")},m(ue,ye){N(ue,e,ye),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),r(c,b),r(f,p),r(f,m),lt(g,m,null),r(e,k),r(e,w),r(w,E),r(E,T),r(w,V),r(w,S),r(S,H),r(H,M),r(M,X),r(H,z),r(z,O),r(H,B),r(B,P),pt(H,s[1].engine,!0),N(ue,K,ye),N(ue,J,ye),N(ue,x,ye),N(ue,Z,ye),~$&&Ie[$].m(Z,null),N(ue,F,ye),be&&be.m(ue,ye),N(ue,re,ye),ie=!0,fe||(he=[te(H,"change",s[11]),te(H,"change",s[12])],fe=!0)},p(ue,ye){var Ne;(!ie||ye[0]&32)&&l!==(l=ue[5].t("Image Settings")+"")&&R(a,l),(!ie||ye[0]&32)&&v!==(v=ue[5].t("Image Generation (Experimental)")+"")&&R(b,v);const Ge={};!y&&ye[0]&2&&(y=!0,Ge.state=ue[1].enabled,Rt(()=>y=!1)),g.$set(Ge),(!ie||ye[0]&32)&&I!==(I=ue[5].t("Image Generation Engine")+"")&&R(T,I),(!ie||ye[0]&32)&&W!==(W=ue[5].t("Default (Open AI)")+"")&&R(X,W),(!ie||ye[0]&32)&&Y!==(Y=ue[5].t("ComfyUI")+"")&&R(O,Y),(!ie||ye[0]&32)&&G!==(G=ue[5].t("Automatic1111")+"")&&R(P,G),(!ie||ye[0]&32&&C!==(C=ue[5].t("Select Engine")))&&n(H,"placeholder",C),ye[0]&2&&pt(H,ue[1].engine);let He=$;$=Re(ue),$===He?~$&&Ie[$].p(ue,ye):(q&&(wt(),ne(Ie[He],1,1,()=>{Ie[He]=null}),yt()),~$?(q=Ie[$],q?q.p(ue,ye):(q=Ie[$]=Te[$](ue),q.c()),le(q,1),q.m(Z,null)):q=null),(Ne=ue[1])!=null&&Ne.enabled?be?(be.p(ue,ye),ye[0]&2&&le(be,1)):(be=mn(ue),be.c(),le(be,1),be.m(re.parentNode,re)):be&&(wt(),ne(be,1,1,()=>{be=null}),yt())},i(ue){ie||(le(g.$$.fragment,ue),le(q),le(be),ie=!0)},o(ue){ne(g.$$.fragment,ue),ne(q),ne(be),ie=!1},d(ue){ue&&(u(e),u(K),u(J),u(x),u(Z),u(F),u(re)),st(g),~$&&Ie[$].d(),be&&be.d(ue),fe=!1,Kt(he)}}}function yu(s){let e,t,l=s[5].t("OpenAI API Config")+"",a,o,i,f,c,v,b,p,m,g,y;function k(E){s[24](E)}let w={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(w.value=s[1].openai.OPENAI_API_KEY),b=new pl({props:w}),Lt.push(()=>Ht(b,"value",k)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("input"),v=D(),et(b.$$.fragment),this.h()},l(E){e=h(E,"DIV",{});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);f=h(V,"INPUT",{class:!0,placeholder:!0}),v=A(V),tt(b.$$.fragment,V),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),n(f,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",c=s[5].t("API Base URL")),f.required=!0,n(i,"class","flex gap-2 mb-1")},m(E,I){N(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),Q(f,s[1].openai.OPENAI_API_BASE_URL),r(i,v),lt(b,i,null),m=!0,g||(y=te(f,"input",s[23]),g=!0)},p(E,I){(!m||I[0]&32)&&l!==(l=E[5].t("OpenAI API Config")+"")&&R(a,l),(!m||I[0]&32&&c!==(c=E[5].t("API Base URL")))&&n(f,"placeholder",c),I[0]&2&&f.value!==E[1].openai.OPENAI_API_BASE_URL&&Q(f,E[1].openai.OPENAI_API_BASE_URL);const T={};I[0]&32&&(T.placeholder=E[5].t("API Key")),!p&&I[0]&2&&(p=!0,T.value=E[1].openai.OPENAI_API_KEY,Rt(()=>p=!1)),b.$set(T)},i(E){m||(le(b.$$.fragment,E),m=!0)},o(E){ne(b.$$.fragment,E),m=!1},d(E){E&&u(e),st(b),g=!1,y()}}}function Iu(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",a,o,i,f,c,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,y,k,w=s[5].t("ComfyUI Workflow")+"",E,I,T,V,S,H,M,W,X=s[5].t("Click here to upload a workflow.json file.")+"",z,Y,O,B=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",G,P,C,K,J,x,Z=s[1].comfyui.COMFYUI_WORKFLOW&&vn(s),$=s[1].comfyui.COMFYUI_WORKFLOW&&pn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("input"),b=D(),p=d("button"),p.innerHTML=m,g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),Z&&Z.c(),T=D(),V=d("div"),S=d("div"),H=d("input"),M=D(),W=d("button"),z=L(X),Y=D(),O=d("div"),G=L(B),P=D(),$&&$.c(),C=Gt(),this.h()},l(q){e=h(q,"DIV",{class:!0});var F=_(e);t=h(F,"DIV",{class:!0});var re=_(t);a=U(re,l),re.forEach(u),o=A(F),i=h(F,"DIV",{class:!0});var ie=_(i);f=h(ie,"DIV",{class:!0});var fe=_(f);c=h(fe,"INPUT",{class:!0,placeholder:!0}),fe.forEach(u),b=A(ie),p=h(ie,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(p)!=="svelte-3652k3"&&(p.innerHTML=m),ie.forEach(u),F.forEach(u),g=A(q),y=h(q,"DIV",{class:!0});var he=_(y);k=h(he,"DIV",{class:!0});var Se=_(k);E=U(Se,w),Se.forEach(u),I=A(he),Z&&Z.l(he),T=A(he),V=h(he,"DIV",{class:!0});var Pe=_(V);S=h(Pe,"DIV",{class:!0});var Te=_(S);H=h(Te,"INPUT",{id:!0,type:!0,accept:!0}),M=A(Te),W=h(Te,"BUTTON",{class:!0,type:!0});var Ie=_(W);z=U(Ie,X),Ie.forEach(u),Te.forEach(u),Pe.forEach(u),Y=A(he),O=h(he,"DIV",{class:!0});var Re=_(O);G=U(Re,B),Re.forEach(u),he.forEach(u),P=A(q),$&&$.l(q),C=Gt(),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(f,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(e,"class",""),n(k,"class","mb-2 text-sm font-medium"),n(H,"id","upload-comfyui-workflow-input"),H.hidden=!0,n(H,"type","file"),n(H,"accept",".json"),n(W,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),n(W,"type","button"),n(S,"class","flex-1"),n(V,"class","flex w-full"),n(O,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(y,"class","")},m(q,F){N(q,e,F),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),Q(c,s[1].comfyui.COMFYUI_BASE_URL),r(i,b),r(i,p),N(q,g,F),N(q,y,F),r(y,k),r(k,E),r(y,I),Z&&Z.m(y,null),r(y,T),r(y,V),r(V,S),r(S,H),r(S,M),r(S,W),r(W,z),r(y,Y),r(y,O),r(O,G),N(q,P,F),$&&$.m(q,F),N(q,C,F),K=!0,J||(x=[te(c,"input",s[16]),te(p,"click",s[17]),te(H,"change",s[19]),te(W,"click",s[20])],J=!0)},p(q,F){(!K||F[0]&32)&&l!==(l=q[5].t("ComfyUI Base URL")+"")&&R(a,l),(!K||F[0]&32&&v!==(v=q[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(c,"placeholder",v),F[0]&2&&c.value!==q[1].comfyui.COMFYUI_BASE_URL&&Q(c,q[1].comfyui.COMFYUI_BASE_URL),(!K||F[0]&32)&&w!==(w=q[5].t("ComfyUI Workflow")+"")&&R(E,w),q[1].comfyui.COMFYUI_WORKFLOW?Z?Z.p(q,F):(Z=vn(q),Z.c(),Z.m(y,T)):Z&&(Z.d(1),Z=null),(!K||F[0]&32)&&X!==(X=q[5].t("Click here to upload a workflow.json file.")+"")&&R(z,X),(!K||F[0]&32)&&B!==(B=q[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&R(G,B),q[1].comfyui.COMFYUI_WORKFLOW?$?($.p(q,F),F[0]&2&&le($,1)):($=pn(q),$.c(),le($,1),$.m(C.parentNode,C)):$&&(wt(),ne($,1,1,()=>{$=null}),yt())},i(q){K||(le($),K=!0)},o(q){ne($),K=!1},d(q){q&&(u(e),u(g),u(y),u(P),u(C)),Z&&Z.d(),$&&$.d(q),J=!1,Kt(x)}}}function Tu(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",a,o,i,f,c,v,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,y,k=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",w,E,I,T=s[5].t("(e.g. `sh webui.sh --api`)")+"",V,S,H,M,W=s[5].t("AUTOMATIC1111 Api Auth String")+"",X,z,Y,O,B,G,P=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",C,K,J,x=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",Z,$,q,F;function re(fe){s[15](fe)}let ie={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(ie.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),Y=new pl({props:ie}),Lt.push(()=>Ht(Y,"value",re)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("input"),b=D(),p=d("button"),p.innerHTML=m,g=D(),y=d("div"),w=L(k),E=D(),I=d("a"),V=L(T),S=D(),H=d("div"),M=d("div"),X=L(W),z=D(),et(Y.$$.fragment),B=D(),G=d("div"),C=L(P),K=D(),J=d("a"),Z=L(x),this.h()},l(fe){e=h(fe,"DIV",{});var he=_(e);t=h(he,"DIV",{class:!0});var Se=_(t);a=U(Se,l),Se.forEach(u),o=A(he),i=h(he,"DIV",{class:!0});var Pe=_(i);f=h(Pe,"DIV",{class:!0});var Te=_(f);c=h(Te,"INPUT",{class:!0,placeholder:!0}),Te.forEach(u),b=A(Pe),p=h(Pe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(p)!=="svelte-3652k3"&&(p.innerHTML=m),Pe.forEach(u),g=A(he),y=h(he,"DIV",{class:!0});var Ie=_(y);w=U(Ie,k),E=A(Ie),I=h(Ie,"A",{class:!0,href:!0,target:!0});var Re=_(I);V=U(Re,T),Re.forEach(u),Ie.forEach(u),he.forEach(u),S=A(fe),H=h(fe,"DIV",{});var be=_(H);M=h(be,"DIV",{class:!0});var Me=_(M);X=U(Me,W),Me.forEach(u),z=A(be),tt(Y.$$.fragment,be),B=A(be),G=h(be,"DIV",{class:!0});var ue=_(G);C=U(ue,P),K=A(ue),J=h(ue,"A",{class:!0,href:!0,target:!0});var ye=_(J);Z=U(ye,x),ye.forEach(u),ue.forEach(u),be.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",v=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),n(f,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(p,"type","button"),n(i,"class","flex w-full"),n(I,"class","text-gray-300 font-medium"),n(I,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),n(I,"target","_blank"),n(y,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(M,"class","mb-2 text-sm font-medium"),n(J,"class","text-gray-300 font-medium"),n(J,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),n(J,"target","_blank"),n(G,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(fe,he){N(fe,e,he),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),Q(c,s[1].automatic1111.AUTOMATIC1111_BASE_URL),r(i,b),r(i,p),r(e,g),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),N(fe,S,he),N(fe,H,he),r(H,M),r(M,X),r(H,z),lt(Y,H,null),r(H,B),r(H,G),r(G,C),r(G,K),r(G,J),r(J,Z),$=!0,q||(F=[te(c,"input",s[13]),te(p,"click",s[14])],q=!0)},p(fe,he){(!$||he[0]&32)&&l!==(l=fe[5].t("AUTOMATIC1111 Base URL")+"")&&R(a,l),(!$||he[0]&32&&v!==(v=fe[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&n(c,"placeholder",v),he[0]&2&&c.value!==fe[1].automatic1111.AUTOMATIC1111_BASE_URL&&Q(c,fe[1].automatic1111.AUTOMATIC1111_BASE_URL),(!$||he[0]&32)&&k!==(k=fe[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&R(w,k),(!$||he[0]&32)&&T!==(T=fe[5].t("(e.g. `sh webui.sh --api`)")+"")&&R(V,T),(!$||he[0]&32)&&W!==(W=fe[5].t("AUTOMATIC1111 Api Auth String")+"")&&R(X,W);const Se={};he[0]&32&&(Se.placeholder=fe[5].t("Enter api auth string (e.g. username:password)")),!O&&he[0]&2&&(O=!0,Se.value=fe[1].automatic1111.AUTOMATIC1111_API_AUTH,Rt(()=>O=!1)),Y.$set(Se),(!$||he[0]&32)&&P!==(P=fe[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&R(C,P),(!$||he[0]&32)&&x!==(x=fe[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&R(Z,x)},i(fe){$||(le(Y.$$.fragment,fe),$=!0)},o(fe){ne(Y.$$.fragment,fe),$=!1},d(fe){fe&&(u(e),u(S),u(H)),st(Y),q=!1,Kt(F)}}}function vn(s){let e,t,l;return{c(){e=d("textarea"),this.h()},l(a){e=h(a,"TEXTAREA",{class:!0,rows:!0}),_(e).forEach(u),this.h()},h(){n(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),n(e,"rows","10"),e.required=!0},m(a,o){N(a,e,o),Q(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=te(e,"input",s[18]),t=!0)},p(a,o){o[0]&2&&Q(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&u(e),t=!1,l()}}}function pn(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",a,o,i,f,c,v=s[5].t("*Prompt node ID(s) are required for image generation")+"",b,p,m=ot(s[4]),g=[];for(let k=0;k<m.length;k+=1)g[k]=gn(hn(s,m,k));const y=k=>ne(g[k],1,1,()=>{g[k]=null});return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div");for(let k=0;k<g.length;k+=1)g[k].c();f=D(),c=d("div"),b=L(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);a=U(E,l),E.forEach(u),o=A(w),i=h(w,"DIV",{class:!0});var I=_(i);for(let V=0;V<g.length;V+=1)g[V].l(I);I.forEach(u),f=A(w),c=h(w,"DIV",{class:!0});var T=_(c);b=U(T,v),T.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(i,"class","text-xs flex flex-col gap-1.5"),n(c,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),n(e,"class","")},m(k,w){N(k,e,w),r(e,t),r(t,a),r(e,o),r(e,i);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(i,null);r(e,f),r(e,c),r(c,b),p=!0},p(k,w){if((!p||w[0]&32)&&l!==(l=k[5].t("ComfyUI Workflow Nodes")+"")&&R(a,l),w[0]&16){m=ot(k[4]);let E;for(E=0;E<m.length;E+=1){const I=hn(k,m,E);g[E]?(g[E].p(I,w),le(g[E],1)):(g[E]=gn(I),g[E].c(),le(g[E],1),g[E].m(i,null))}for(wt(),E=m.length;E<g.length;E+=1)y(E);yt()}(!p||w[0]&32)&&v!==(v=k[5].t("*Prompt node ID(s) are required for image generation")+"")&&R(b,v)},i(k){if(!p){for(let w=0;w<m.length;w+=1)le(g[w]);p=!0}},o(k){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)ne(g[w]);p=!1},d(k){k&&u(e),Zt(g,k)}}}function Du(s){let e,t,l;function a(){s[21].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),n(e,"placeholder","Key"),e.required=!0},m(o,i){N(o,e,i),Q(e,s[36].key),t||(l=te(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].key&&Q(e,s[36].key)},d(o){o&&u(e),t=!1,l()}}}function Au(s){let e,t,l;function a(){s[22].call(e,s[37],s[38])}return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),n(e,"placeholder","Node Ids")},m(o,i){N(o,e,i),Q(e,s[36].node_ids),t||(l=te(e,"input",a),t=!0)},p(o,i){s=o,i[0]&16&&e.value!==s[36].node_ids&&Q(e,s[36].node_ids)},d(o){o&&u(e),t=!1,l()}}}function gn(s){let e,t,l,a=s[36].type+"",o,i=s[36].type==="prompt"?"*":"",f,c,v,b,p,m,g,y,k;return b=new ul({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Du]},$$scope:{ctx:s}}}),g=new ul({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Au]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),f=L(i),c=D(),v=d("div"),et(b.$$.fragment),p=D(),m=d("div"),et(g.$$.fragment),y=D(),this.h()},l(w){e=h(w,"DIV",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);l=h(I,"DIV",{class:!0});var T=_(l);o=U(T,a),f=U(T,i),T.forEach(u),I.forEach(u),c=A(E),v=h(E,"DIV",{class:!0});var V=_(v);tt(b.$$.fragment,V),V.forEach(u),p=A(E),m=h(E,"DIV",{class:!0});var S=_(m);tt(g.$$.fragment,S),S.forEach(u),y=A(E),E.forEach(u),this.h()},h(){n(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),n(t,"class","flex-shrink-0"),n(v,"class",""),n(m,"class","w-full"),n(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(w,E){N(w,e,E),r(e,t),r(t,l),r(l,o),r(l,f),r(e,c),r(e,v),lt(b,v,null),r(e,p),r(e,m),lt(g,m,null),r(e,y),k=!0},p(w,E){(!k||E[0]&16)&&a!==(a=w[36].type+"")&&R(o,a),(!k||E[0]&16)&&i!==(i=w[36].type==="prompt"?"*":"")&&R(f,i);const I={};E[0]&16|E[1]&256&&(I.$$scope={dirty:E,ctx:w}),b.$set(I);const T={};E[0]&16|E[1]&256&&(T.$$scope={dirty:E,ctx:w}),g.$set(T)},i(w){k||(le(b.$$.fragment,w),le(g.$$.fragment,w),k=!0)},o(w){ne(b.$$.fragment,w),ne(g.$$.fragment,w),k=!1},d(w){w&&u(e),st(b),st(g)}}}function mn(s){let e,t,l,a,o=s[5].t("Set Default Model")+"",i,f,c,v,b,p,m,g,y,k,w=s[5].t("Set Image Size")+"",E,I,T,V,S,H,M,W,X=s[5].t("Set Steps")+"",z,Y,O,B,G,P;return m=new ul({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[Vu]},$$scope:{ctx:s}}}),S=new ul({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[Su]},$$scope:{ctx:s}}}),G=new ul({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[Mu]},$$scope:{ctx:s}}}),{c(){e=d("hr"),t=D(),l=d("div"),a=d("div"),i=L(o),f=D(),c=d("div"),v=d("div"),b=d("div"),p=d("div"),et(m.$$.fragment),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("div"),V=d("div"),et(S.$$.fragment),H=D(),M=d("div"),W=d("div"),z=L(X),Y=D(),O=d("div"),B=d("div"),et(G.$$.fragment),this.h()},l(C){e=h(C,"HR",{class:!0}),t=A(C),l=h(C,"DIV",{});var K=_(l);a=h(K,"DIV",{class:!0});var J=_(a);i=U(J,o),J.forEach(u),f=A(K),c=h(K,"DIV",{class:!0});var x=_(c);v=h(x,"DIV",{class:!0});var Z=_(v);b=h(Z,"DIV",{class:!0});var $=_(b);p=h($,"DIV",{class:!0});var q=_(p);tt(m.$$.fragment,q),q.forEach(u),$.forEach(u),Z.forEach(u),x.forEach(u),K.forEach(u),g=A(C),y=h(C,"DIV",{});var F=_(y);k=h(F,"DIV",{class:!0});var re=_(k);E=U(re,w),re.forEach(u),I=A(F),T=h(F,"DIV",{class:!0});var ie=_(T);V=h(ie,"DIV",{class:!0});var fe=_(V);tt(S.$$.fragment,fe),fe.forEach(u),ie.forEach(u),F.forEach(u),H=A(C),M=h(C,"DIV",{});var he=_(M);W=h(he,"DIV",{class:!0});var Se=_(W);z=U(Se,X),Se.forEach(u),Y=A(he),O=h(he,"DIV",{class:!0});var Pe=_(O);B=h(Pe,"DIV",{class:!0});var Te=_(B);tt(G.$$.fragment,Te),Te.forEach(u),Pe.forEach(u),he.forEach(u),this.h()},h(){n(e,"class","dark:border-gray-850"),n(a,"class","mb-2.5 text-sm font-medium"),n(p,"class","flex-1"),n(b,"class","flex w-full"),n(v,"class","flex-1 mr-2"),n(c,"class","flex w-full"),n(k,"class","mb-2.5 text-sm font-medium"),n(V,"class","flex-1 mr-2"),n(T,"class","flex w-full"),n(W,"class","mb-2.5 text-sm font-medium"),n(B,"class","flex-1 mr-2"),n(O,"class","flex w-full")},m(C,K){N(C,e,K),N(C,t,K),N(C,l,K),r(l,a),r(a,i),r(l,f),r(l,c),r(c,v),r(v,b),r(b,p),lt(m,p,null),N(C,g,K),N(C,y,K),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),lt(S,V,null),N(C,H,K),N(C,M,K),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,B),lt(G,B,null),P=!0},p(C,K){(!P||K[0]&32)&&o!==(o=C[5].t("Set Default Model")+"")&&R(i,o);const J={};K[0]&32&&(J.content=C[5].t("Enter Model ID")),K[0]&12|K[1]&256&&(J.$$scope={dirty:K,ctx:C}),m.$set(J),(!P||K[0]&32)&&w!==(w=C[5].t("Set Image Size")+"")&&R(E,w);const x={};K[0]&32&&(x.content=C[5].t("Enter Image Size (e.g. 512x512)")),K[0]&36|K[1]&256&&(x.$$scope={dirty:K,ctx:C}),S.$set(x),(!P||K[0]&32)&&X!==(X=C[5].t("Set Steps")+"")&&R(z,X);const Z={};K[0]&32&&(Z.content=C[5].t("Enter Number of Steps (e.g. 50)")),K[0]&36|K[1]&256&&(Z.$$scope={dirty:K,ctx:C}),G.$set(Z)},i(C){P||(le(m.$$.fragment,C),le(S.$$.fragment,C),le(G.$$.fragment,C),P=!0)},o(C){ne(m.$$.fragment,C),ne(S.$$.fragment,C),ne(G.$$.fragment,C),P=!1},d(C){C&&(u(e),u(t),u(l),u(g),u(y),u(H),u(M)),st(m),st(S),st(G)}}}function bn(s){let e,t=s[33].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[33].id,Q(e,e.__value)},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&8&&t!==(t=o[33].name+"")&&R(l,t),i[0]&8&&a!==(a=o[33].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Vu(s){let e,t,l,a,o,i=ot(s[3]??[]),f=[];for(let c=0;c<i.length;c+=1)f[c]=bn(dn(s,i,c));return{c(){e=d("input"),t=D(),l=d("datalist");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=h(c,"INPUT",{list:!0,class:!0,placeholder:!0}),t=A(c),l=h(c,"DATALIST",{id:!0});var v=_(l);for(let b=0;b<f.length;b+=1)f[b].l(v);v.forEach(u),this.h()},h(){n(e,"list","model-list"),n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder","Select a model"),e.required=!0,n(l,"id","model-list")},m(c,v){N(c,e,v),Q(e,s[2].MODEL),N(c,t,v),N(c,l,v);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(l,null);a||(o=te(e,"input",s[25]),a=!0)},p(c,v){if(v[0]&4&&e.value!==c[2].MODEL&&Q(e,c[2].MODEL),v[0]&8){i=ot(c[3]??[]);let b;for(b=0;b<i.length;b+=1){const p=dn(c,i,b);f[b]?f[b].p(p,v):(f[b]=bn(p),f[b].c(),f[b].m(l,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=i.length}},d(c){c&&(u(e),u(t),u(l)),Zt(f,c),a=!1,o()}}}function Su(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(o,i){N(o,e,i),Q(e,s[2].IMAGE_SIZE),l||(a=te(e,"input",s[26]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Image Size (e.g. 512x512)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_SIZE&&Q(e,o[2].IMAGE_SIZE)},d(o){o&&u(e),l=!1,a()}}}function Mu(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(o,i){N(o,e,i),Q(e,s[2].IMAGE_STEPS),l||(a=te(e,"input",s[27]),l=!0)},p(o,i){i[0]&32&&t!==(t=o[5].t("Enter Number of Steps (e.g. 50)"))&&n(e,"placeholder",t),i[0]&4&&e.value!==o[2].IMAGE_STEPS&&Q(e,o[2].IMAGE_STEPS)},d(o){o&&u(e),l=!1,a()}}}function En(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function Ou(s){let e,t,l,a,o,i=s[5].t("Save")+"",f,c,v,b,p,m,g=s[1]&&s[2]&&_n(s),y=s[0]&&En();return{c(){e=d("form"),t=d("div"),g&&g.c(),l=D(),a=d("div"),o=d("button"),f=L(i),c=D(),y&&y.c(),this.h()},l(k){e=h(k,"FORM",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);g&&g.l(E),E.forEach(u),l=A(w),a=h(w,"DIV",{class:!0});var I=_(a);o=h(I,"BUTTON",{class:!0,type:!0});var T=_(o);f=U(T,i),c=A(T),y&&y.l(T),T.forEach(u),I.forEach(u),w.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),n(o,"class",v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(o,"type","submit"),o.disabled=s[0],n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(k,w){N(k,e,w),r(e,t),g&&g.m(t,null),r(e,l),r(e,a),r(a,o),r(o,f),r(o,c),y&&y.m(o,null),b=!0,p||(m=te(e,"submit",Ml(s[28])),p=!0)},p(k,w){k[1]&&k[2]?g?(g.p(k,w),w[0]&6&&le(g,1)):(g=_n(k),g.c(),le(g,1),g.m(t,null)):g&&(wt(),ne(g,1,1,()=>{g=null}),yt()),(!b||w[0]&32)&&i!==(i=k[5].t("Save")+"")&&R(f,i),k[0]?y||(y=En(),y.c(),y.m(o,null)):y&&(y.d(1),y=null),(!b||w[0]&1&&v!==(v="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(k[0]?" cursor-not-allowed":"")))&&n(o,"class",v),(!b||w[0]&1)&&(o.disabled=k[0])},i(k){b||(le(g),b=!0)},o(k){ne(g),b=!1},d(k){k&&u(e),g&&g.d(),y&&y.d(),p=!1,m()}}}function Pu(s,e,t){let l,a;Ft(s,Ma,Z=>t(29,l=Z));const o=Ms(),i=El("i18n");Ft(s,i,Z=>t(5,a=Z));let f=!1,c=null,v=null,b=null,p=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const m=async()=>{t(3,b=await oo(localStorage.token).catch(Z=>(Ae.error(Z),null)))},g=async()=>{const Z=await Er(localStorage.token,c).catch($=>(Ae.error($),null));Z&&t(1,c=Z),c.enabled&&(Ul.set(await es()),m())},y=Z=>{try{const $=JSON.parse(Z);if($&&typeof $=="object")return!0}catch{}return!1},k=async()=>{var Z,$;if(t(0,f=!0),(Z=c==null?void 0:c.comfyui)!=null&&Z.COMFYUI_WORKFLOW&&!y(c.comfyui.COMFYUI_WORKFLOW)){Ae.error("Invalid JSON format for ComfyUI Workflow."),t(0,f=!1);return}($=c==null?void 0:c.comfyui)!=null&&$.COMFYUI_WORKFLOW&&t(1,c.comfyui.COMFYUI_WORKFLOW_NODES=p.map(q=>({type:q.type,key:q.key,node_ids:q.node_ids.trim()===""?[]:q.node_ids.split(",").map(F=>F.trim())})),c),await Er(localStorage.token,c).catch(q=>(Ae.error(q),t(0,f=!1),null)),await uo(localStorage.token,v).catch(q=>(Ae.error(q),t(0,f=!1),null)),m(),o("save"),t(0,f=!1)};kl(async()=>{if(l.role==="admin"){const Z=await no(localStorage.token).catch(q=>(Ae.error(q),null));Z&&t(1,c=Z),c.enabled&&m(),c.comfyui.COMFYUI_WORKFLOW&&t(1,c.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(c.comfyui.COMFYUI_WORKFLOW),null,2),c),t(4,p=p.map(q=>{const F=c.comfyui.COMFYUI_WORKFLOW_NODES.find(re=>re.type===q.type)??q;return console.log(F),{type:F.type,key:F.key,node_ids:typeof F.node_ids=="string"?F.node_ids:F.node_ids.join(",")}}));const $=await io(localStorage.token).catch(q=>(Ae.error(q),null));$&&t(2,v=$)}});function w(Z){s.$$.not_equal(c.enabled,Z)&&(c.enabled=Z,t(1,c))}const E=Z=>{Z.detail&&(c.engine==="automatic1111"&&c.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ae.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,c.enabled=!1,c)):c.engine==="comfyui"&&c.comfyui.COMFYUI_BASE_URL===""?(Ae.error(a.t("ComfyUI Base URL is required.")),t(1,c.enabled=!1,c)):c.engine==="openai"&&c.openai.OPENAI_API_KEY===""&&(Ae.error(a.t("OpenAI API Key is required.")),t(1,c.enabled=!1,c))),g()};function I(){c.engine=qt(this),t(1,c)}const T=async()=>{g()};function V(){c.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,c)}const S=async()=>{await g(),await kr(localStorage.token).catch($=>(Ae.error($),null))&&Ae.success(a.t("Server connection verified"))};function H(Z){s.$$.not_equal(c.automatic1111.AUTOMATIC1111_API_AUTH,Z)&&(c.automatic1111.AUTOMATIC1111_API_AUTH=Z,t(1,c))}function M(){c.comfyui.COMFYUI_BASE_URL=this.value,t(1,c)}const W=async()=>{await g(),await kr(localStorage.token).catch($=>(Ae.error($),null))&&Ae.success(a.t("Server connection verified"))};function X(){c.comfyui.COMFYUI_WORKFLOW=this.value,t(1,c)}const z=Z=>{const $=Z.target.files[0],q=new FileReader;q.onload=F=>{t(1,c.comfyui.COMFYUI_WORKFLOW=F.target.result,c),F.target.value=null},q.readAsText($)},Y=()=>{var Z;(Z=document.getElementById("upload-comfyui-workflow-input"))==null||Z.click()};function O(Z,$){Z[$].key=this.value,t(4,p)}function B(Z,$){Z[$].node_ids=this.value,t(4,p)}function G(){c.openai.OPENAI_API_BASE_URL=this.value,t(1,c)}function P(Z){s.$$.not_equal(c.openai.OPENAI_API_KEY,Z)&&(c.openai.OPENAI_API_KEY=Z,t(1,c))}function C(){v.MODEL=this.value,t(2,v)}function K(){v.IMAGE_SIZE=this.value,t(2,v)}function J(){v.IMAGE_STEPS=this.value,t(2,v)}return[f,c,v,b,p,a,i,g,k,w,E,I,T,V,S,H,M,W,X,z,Y,O,B,G,P,C,K,J,async()=>{k()}]}class Nu extends _l{constructor(e){super(),vl(this,e,Pu,Ou,hl,{},null,[-1,-1])}}function kn(s,e,t){const l=s.slice();return l[27]=e[t],l[28]=e,l[29]=t,l}function wn(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function yn(s,e,t){const l=s.slice();return l[33]=e[t],l}function In(s,e,t){const l=s.slice();return l[33]=e[t],l}function Lu(s){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(l){e=Et(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=_(e);t=Et(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(u),a.forEach(u),this.h()},h(){n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"fill","none"),n(e,"viewBox","0 0 24 24"),n(e,"stroke-width","1.5"),n(e,"stroke","currentColor"),n(e,"class","w-5 h-5")},m(l,a){N(l,e,a),r(e,t)},p:_t,d(l){l&&u(e)}}}function Tn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var f=_(e);l=U(f,t),a=A(f),f.forEach(u),this.h()},h(){e.__value=o=s[33].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,f){N(i,e,f),r(e,l),r(e,a)},p(i,f){f[0]&16&&t!==(t=i[33].name+"")&&R(l,t),f[0]&16&&o!==(o=i[33].id)&&(e.__value=o,Q(e,e.__value))},d(i){i&&u(e)}}}function Dn(s){let e,t=s[33].name+"",l,a,o;return{c(){e=d("option"),l=L(t),a=D(),this.h()},l(i){e=h(i,"OPTION",{class:!0});var f=_(e);l=U(f,t),a=A(f),f.forEach(u),this.h()},h(){e.__value=o=s[33].id,Q(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,f){N(i,e,f),r(e,l),r(e,a)},p(i,f){f[0]&16&&t!==(t=i[33].name+"")&&R(l,t),f[0]&16&&o!==(o=i[33].id)&&(e.__value=o,Q(e,e.__value))},d(i){i&&u(e)}}}function An(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.selected=!0,e.disabled=!0,n(e,"class","text-gray-900")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Type")+"")&&R(l,t)},d(a){a&&u(e)}}}function Uu(s){let e,t,l;function a(i){s[17](i,s[30])}let o={};return s[30].dismissible!==void 0&&(o.state=s[30].dismissible),e=new Vl({props:o}),Lt.push(()=>Ht(e,"state",a)),{c(){et(e.$$.fragment)},l(i){tt(e.$$.fragment,i)},m(i,f){lt(e,i,f),l=!0},p(i,f){s=i;const c={};!t&&f[0]&4&&(t=!0,c.state=s[30].dismissible,Rt(()=>t=!1)),e.$set(c)},i(i){l||(le(e.$$.fragment,i),l=!0)},o(i){ne(e.$$.fragment,i),l=!1},d(i){st(e,i)}}}function Vn(s){let e,t,l,a,o=s[3].t("Info")+"",i,f,c=s[3].t("Warning")+"",v,b,p=s[3].t("Error")+"",m,g,y=s[3].t("Success")+"",k,w,E,I,T,V,S,H,M,W='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',X,z,Y,O,B=s[30].type==""&&An(s);function G(){s[15].call(l,s[31],s[32])}function P(){s[16].call(E,s[31],s[32])}S=new ul({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Uu]},$$scope:{ctx:s}}});function C(){return s[18](s[32])}return{c(){e=d("div"),t=d("div"),l=d("select"),B&&B.c(),a=d("option"),i=L(o),f=d("option"),v=L(c),b=d("option"),m=L(p),g=d("option"),k=L(y),w=D(),E=d("input"),T=D(),V=d("div"),et(S.$$.fragment),H=D(),M=d("button"),M.innerHTML=W,X=D(),this.h()},l(K){e=h(K,"DIV",{class:!0});var J=_(e);t=h(J,"DIV",{class:!0});var x=_(t);l=h(x,"SELECT",{class:!0});var Z=_(l);B&&B.l(Z),a=h(Z,"OPTION",{class:!0});var $=_(a);i=U($,o),$.forEach(u),f=h(Z,"OPTION",{class:!0});var q=_(f);v=U(q,c),q.forEach(u),b=h(Z,"OPTION",{class:!0});var F=_(b);m=U(F,p),F.forEach(u),g=h(Z,"OPTION",{class:!0});var re=_(g);k=U(re,y),re.forEach(u),Z.forEach(u),w=A(x),E=h(x,"INPUT",{class:!0,placeholder:!0}),T=A(x),V=h(x,"DIV",{class:!0});var ie=_(V);tt(S.$$.fragment,ie),ie.forEach(u),x.forEach(u),H=A(J),M=h(J,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(M)!=="svelte-nlagmo"&&(M.innerHTML=W),X=A(J),J.forEach(u),this.h()},h(){a.__value="info",Q(a,a.__value),n(a,"class","text-gray-900"),f.__value="warning",Q(f,f.__value),n(f,"class","text-gray-900"),b.__value="error",Q(b,b.__value),n(b,"class","text-gray-900"),g.__value="success",Q(g,g.__value),n(g,"class","text-gray-900"),n(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[30].type===void 0&&Yt(G),n(E,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),n(E,"placeholder",I=s[3].t("Content")),n(V,"class","relative top-1.5 -left-2"),n(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),n(M,"class","px-2"),n(M,"type","button"),n(e,"class","flex justify-between")},m(K,J){N(K,e,J),r(e,t),r(t,l),B&&B.m(l,null),r(l,a),r(a,i),r(l,f),r(f,v),r(l,b),r(b,m),r(l,g),r(g,k),pt(l,s[30].type,!0),r(t,w),r(t,E),Q(E,s[30].content),r(t,T),r(t,V),lt(S,V,null),r(e,H),r(e,M),r(e,X),z=!0,Y||(O=[te(l,"change",G),te(E,"input",P),te(M,"click",C)],Y=!0)},p(K,J){s=K,s[30].type==""?B?B.p(s,J):(B=An(s),B.c(),B.m(l,a)):B&&(B.d(1),B=null),(!z||J[0]&8)&&o!==(o=s[3].t("Info")+"")&&R(i,o),(!z||J[0]&8)&&c!==(c=s[3].t("Warning")+"")&&R(v,c),(!z||J[0]&8)&&p!==(p=s[3].t("Error")+"")&&R(m,p),(!z||J[0]&8)&&y!==(y=s[3].t("Success")+"")&&R(k,y),J[0]&4&&pt(l,s[30].type),(!z||J[0]&8&&I!==(I=s[3].t("Content")))&&n(E,"placeholder",I),J[0]&4&&E.value!==s[30].content&&Q(E,s[30].content);const x={};J[0]&8&&(x.content=s[3].t("Dismissible")),J[0]&4|J[1]&128&&(x.$$scope={dirty:J,ctx:s}),S.$set(x)},i(K){z||(le(S.$$.fragment,K),z=!0)},o(K){ne(S.$$.fragment,K),z=!1},d(K){K&&u(e),B&&B.d(),st(S),Y=!1,Kt(O)}}}function Sn(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",o,i,f,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',v,b,p,m,g,y=ot(s[1]),k=[];for(let E=0;E<y.length;E+=1)k[E]=Mn(kn(s,y,E));let w=s[1].length>0&&On(s);return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("button"),f.innerHTML=c,v=D(),b=d("div");for(let E=0;E<k.length;E+=1)k[E].c();p=D(),w&&w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"DIV",{class:!0});var V=_(l);o=U(V,a),V.forEach(u),i=A(T),f=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(f)!=="svelte-192kpg7"&&(f.innerHTML=c),T.forEach(u),v=A(I),b=h(I,"DIV",{class:!0});var S=_(b);for(let H=0;H<k.length;H+=1)k[H].l(S);S.forEach(u),p=A(I),w&&w.l(I),I.forEach(u),this.h()},h(){n(l,"class","self-center text-sm font-semibold"),n(f,"class","p-1 px-3 text-xs flex rounded transition"),n(f,"type","button"),n(t,"class","flex w-full justify-between mb-2"),n(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),n(e,"class","space-y-3")},m(E,I){N(E,e,I),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),r(e,v),r(e,b);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(b,null);r(e,p),w&&w.m(e,null),m||(g=te(f,"click",s[19]),m=!0)},p(E,I){if(I[0]&8&&a!==(a=E[3].t("Default Prompt Suggestions")+"")&&R(o,a),I[0]&10){y=ot(E[1]);let T;for(T=0;T<y.length;T+=1){const V=kn(E,y,T);k[T]?k[T].p(V,I):(k[T]=Mn(V),k[T].c(),k[T].m(b,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=y.length}E[1].length>0?w?w.p(E,I):(w=On(E),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(E){E&&u(e),Zt(k,E),w&&w.d(),m=!1,g()}}}function Mn(s){let e,t,l,a,o,i,f,c,v,b,p,m,g,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',k,w,E;function I(){s[20].call(a,s[28],s[29])}function T(){s[21].call(f,s[28],s[29])}function V(){s[22].call(b,s[28],s[29])}function S(){return s[23](s[29])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),i=D(),f=d("input"),v=D(),b=d("input"),m=D(),g=d("button"),g.innerHTML=y,k=D(),this.h()},l(H){e=h(H,"DIV",{class:!0});var M=_(e);t=h(M,"DIV",{class:!0});var W=_(t);l=h(W,"DIV",{class:!0});var X=_(l);a=h(X,"INPUT",{class:!0,placeholder:!0}),i=A(X),f=h(X,"INPUT",{class:!0,placeholder:!0}),X.forEach(u),v=A(W),b=h(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(u),m=A(M),g=h(M,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(g)!=="svelte-1dyt8gv"&&(g.innerHTML=y),k=A(M),M.forEach(u),this.h()},h(){n(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(a,"placeholder",o=s[3].t("Title (e.g. Tell me a fun fact)")),n(f,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(f,"placeholder",c=s[3].t("Subtitle (e.g. about the Roman Empire)")),n(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),n(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),n(b,"placeholder",p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),n(t,"class","flex flex-col flex-1 pl-1"),n(g,"class","px-3"),n(g,"type","button"),n(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(H,M){N(H,e,M),r(e,t),r(t,l),r(l,a),Q(a,s[27].title[0]),r(l,i),r(l,f),Q(f,s[27].title[1]),r(t,v),r(t,b),Q(b,s[27].content),r(e,m),r(e,g),r(e,k),w||(E=[te(a,"input",I),te(f,"input",T),te(b,"input",V),te(g,"click",S)],w=!0)},p(H,M){s=H,M[0]&8&&o!==(o=s[3].t("Title (e.g. Tell me a fun fact)"))&&n(a,"placeholder",o),M[0]&2&&a.value!==s[27].title[0]&&Q(a,s[27].title[0]),M[0]&8&&c!==(c=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&n(f,"placeholder",c),M[0]&2&&f.value!==s[27].title[1]&&Q(f,s[27].title[1]),M[0]&8&&p!==(p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&n(b,"placeholder",p),M[0]&2&&b.value!==s[27].content&&Q(b,s[27].content)},d(H){H&&u(e),w=!1,Kt(E)}}}function On(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","text-xs text-left w-full mt-2")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&R(l,t)},d(a){a&&u(e)}}}function Cu(s){let e,t,l,a,o,i=s[3].t("Set Task Model")+"",f,c,v,b,p,m,g,y=s[3].t("Local Models")+"",k,w,E,I,T=s[3].t("Current Model")+"",V,S,H,M,W,X=s[3].t("External Models")+"",z,Y,O,B,G=s[3].t("Current Model")+"",P,C,K,J,x,Z=s[3].t("Title Generation Prompt")+"",$,q,F,re,ie,fe,he=s[3].t("Search Query Generation Prompt")+"",Se,Pe,Te,Ie,Re,be,Me=s[3].t("Search Query Generation Prompt Length Threshold")+"",ue,ye,Ge,He,Ne,at,Ue,$e,Xe,_e=s[3].t("Banners")+"",Oe,ge,ce,Ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',ae,ke,ze,Ve,ve,de,Ce,Fe=s[3].t("Save")+"",qe,We,ut,nt;v=new ul({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[Lu]},$$scope:{ctx:s}}});let it=ot(s[4].filter(Pn)),Qe=[];for(let ee=0;ee<it.length;ee+=1)Qe[ee]=Tn(In(s,it,ee));let Ye=ot(s[4]),we=[];for(let ee=0;ee<Ye.length;ee+=1)we[ee]=Dn(yn(s,Ye,ee));let ct=ot(s[2]),xe=[];for(let ee=0;ee<ct.length;ee+=1)xe[ee]=Vn(wn(s,ct,ee));const je=ee=>ne(xe[ee],1,1,()=>{xe[ee]=null});let oe=s[5].role==="admin"&&Sn(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),o=d("div"),f=L(i),c=D(),et(v.$$.fragment),b=D(),p=d("div"),m=d("div"),g=d("div"),k=L(y),w=D(),E=d("select"),I=d("option"),V=L(T);for(let ee=0;ee<Qe.length;ee+=1)Qe[ee].c();H=D(),M=d("div"),W=d("div"),z=L(X),Y=D(),O=d("select"),B=d("option"),P=L(G);for(let ee=0;ee<we.length;ee+=1)we[ee].c();K=D(),J=d("div"),x=d("div"),$=L(Z),q=D(),F=d("textarea"),re=D(),ie=d("div"),fe=d("div"),Se=L(he),Pe=D(),Te=d("textarea"),Ie=D(),Re=d("div"),be=d("div"),ue=L(Me),ye=D(),Ge=d("input"),He=D(),Ne=d("hr"),at=D(),Ue=d("div"),$e=d("div"),Xe=d("div"),Oe=L(_e),ge=D(),ce=d("button"),ce.innerHTML=Ee,ae=D(),ke=d("div");for(let ee=0;ee<xe.length;ee+=1)xe[ee].c();Ve=D(),oe&&oe.c(),ve=D(),de=d("div"),Ce=d("button"),qe=L(Fe),this.h()},l(ee){e=h(ee,"FORM",{class:!0});var j=_(e);t=h(j,"DIV",{class:!0});var se=_(t);l=h(se,"DIV",{});var pe=_(l);a=h(pe,"DIV",{class:!0});var Ke=_(a);o=h(Ke,"DIV",{class:!0});var gt=_(o);f=U(gt,i),gt.forEach(u),c=A(Ke),tt(v.$$.fragment,Ke),Ke.forEach(u),b=A(pe),p=h(pe,"DIV",{class:!0});var Tt=_(p);m=h(Tt,"DIV",{class:!0});var Dt=_(m);g=h(Dt,"DIV",{class:!0});var St=_(g);k=U(St,y),St.forEach(u),w=A(Dt),E=h(Dt,"SELECT",{class:!0,placeholder:!0});var Pt=_(E);I=h(Pt,"OPTION",{});var Bt=_(I);V=U(Bt,T),Bt.forEach(u);for(let Je=0;Je<Qe.length;Je+=1)Qe[Je].l(Pt);Pt.forEach(u),Dt.forEach(u),H=A(Tt),M=h(Tt,"DIV",{class:!0});var Mt=_(M);W=h(Mt,"DIV",{class:!0});var Le=_(W);z=U(Le,X),Le.forEach(u),Y=A(Mt),O=h(Mt,"SELECT",{class:!0,placeholder:!0});var De=_(O);B=h(De,"OPTION",{});var It=_(B);P=U(It,G),It.forEach(u);for(let Je=0;Je<we.length;Je+=1)we[Je].l(De);De.forEach(u),Mt.forEach(u),Tt.forEach(u),K=A(pe),J=h(pe,"DIV",{class:!0});var At=_(J);x=h(At,"DIV",{class:!0});var $t=_(x);$=U($t,Z),$t.forEach(u),q=A(At),F=h(At,"TEXTAREA",{class:!0,rows:!0}),_(F).forEach(u),At.forEach(u),re=A(pe),ie=h(pe,"DIV",{class:!0});var vt=_(ie);fe=h(vt,"DIV",{class:!0});var ht=_(fe);Se=U(ht,he),ht.forEach(u),Pe=A(vt),Te=h(vt,"TEXTAREA",{class:!0,rows:!0}),_(Te).forEach(u),vt.forEach(u),Ie=A(pe),Re=h(pe,"DIV",{class:!0});var mt=_(Re);be=h(mt,"DIV",{class:!0});var rt=_(be);ue=U(rt,Me),rt.forEach(u),ye=A(mt),Ge=h(mt,"INPUT",{class:!0,type:!0}),mt.forEach(u),pe.forEach(u),He=A(se),Ne=h(se,"HR",{class:!0}),at=A(se),Ue=h(se,"DIV",{class:!0});var Ut=_(Ue);$e=h(Ut,"DIV",{class:!0});var Ct=_($e);Xe=h(Ct,"DIV",{class:!0});var Wt=_(Xe);Oe=U(Wt,_e),Wt.forEach(u),ge=A(Ct),ce=h(Ct,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(ce)!=="svelte-1nhoygc"&&(ce.innerHTML=Ee),Ct.forEach(u),ae=A(Ut),ke=h(Ut,"DIV",{class:!0});var Ot=_(ke);for(let Je=0;Je<xe.length;Je+=1)xe[Je].l(Ot);Ot.forEach(u),Ut.forEach(u),Ve=A(se),oe&&oe.l(se),se.forEach(u),ve=A(j),de=h(j,"DIV",{class:!0});var Nt=_(de);Ce=h(Nt,"BUTTON",{class:!0,type:!0});var Be=_(Ce);qe=U(Be,Fe),Be.forEach(u),Nt.forEach(u),j.forEach(u),this.h()},h(){n(o,"class","mr-1"),n(a,"class","mb-2.5 text-sm font-medium flex"),n(g,"class","text-xs mb-1"),I.__value="",Q(I,I.__value),I.selected=!0,n(E,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(E,"placeholder",S=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Yt(()=>s[9].call(E)),n(m,"class","flex-1"),n(W,"class","text-xs mb-1"),B.__value="",Q(B,B.__value),B.selected=!0,n(O,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(O,"placeholder",C=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Yt(()=>s[10].call(O)),n(M,"class","flex-1"),n(p,"class","flex w-full gap-2"),n(x,"class","mb-2.5 text-sm font-medium"),n(F,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(F,"rows","6"),n(J,"class","mt-3"),n(fe,"class","mb-2.5 text-sm font-medium"),n(Te,"class","w-full rounded-lg py-3 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Te,"rows","6"),n(ie,"class","mt-3"),n(be,"class","mb-2.5 text-sm font-medium"),n(Ge,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Ge,"type","number"),n(Re,"class","mt-3"),n(Ne,"class","dark:border-gray-850 my-3"),n(Xe,"class","self-center text-sm font-semibold"),n(ce,"class","p-1 px-3 text-xs flex rounded transition"),n(ce,"type","button"),n($e,"class","flex w-full justify-between"),n(ke,"class","flex flex-col space-y-1"),n(Ue,"class",ze="space-y-3 "+(s[2].length>0?" mb-3":"")),n(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(Ce,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(Ce,"type","submit"),n(de,"class","flex justify-end text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ee,j){N(ee,e,j),r(e,t),r(t,l),r(l,a),r(a,o),r(o,f),r(a,c),lt(v,a,null),r(l,b),r(l,p),r(p,m),r(m,g),r(g,k),r(m,w),r(m,E),r(E,I),r(I,V);for(let se=0;se<Qe.length;se+=1)Qe[se]&&Qe[se].m(E,null);pt(E,s[0].TASK_MODEL,!0),r(p,H),r(p,M),r(M,W),r(W,z),r(M,Y),r(M,O),r(O,B),r(B,P);for(let se=0;se<we.length;se+=1)we[se]&&we[se].m(O,null);pt(O,s[0].TASK_MODEL_EXTERNAL,!0),r(l,K),r(l,J),r(J,x),r(x,$),r(J,q),r(J,F),Q(F,s[0].TITLE_GENERATION_PROMPT_TEMPLATE),r(l,re),r(l,ie),r(ie,fe),r(fe,Se),r(ie,Pe),r(ie,Te),Q(Te,s[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),r(l,Ie),r(l,Re),r(Re,be),r(be,ue),r(Re,ye),r(Re,Ge),Q(Ge,s[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),r(t,He),r(t,Ne),r(t,at),r(t,Ue),r(Ue,$e),r($e,Xe),r(Xe,Oe),r($e,ge),r($e,ce),r(Ue,ae),r(Ue,ke);for(let se=0;se<xe.length;se+=1)xe[se]&&xe[se].m(ke,null);r(t,Ve),oe&&oe.m(t,null),r(e,ve),r(e,de),r(de,Ce),r(Ce,qe),We=!0,ut||(nt=[te(E,"change",s[9]),te(O,"change",s[10]),te(F,"input",s[11]),te(Te,"input",s[12]),te(Ge,"input",s[13]),te(ce,"click",s[14]),te(e,"submit",Ml(s[24]))],ut=!0)},p(ee,j){(!We||j[0]&8)&&i!==(i=ee[3].t("Set Task Model")+"")&&R(f,i);const se={};if(j[0]&8&&(se.content=ee[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),j[1]&128&&(se.$$scope={dirty:j,ctx:ee}),v.$set(se),(!We||j[0]&8)&&y!==(y=ee[3].t("Local Models")+"")&&R(k,y),(!We||j[0]&8)&&T!==(T=ee[3].t("Current Model")+"")&&R(V,T),j[0]&16){it=ot(ee[4].filter(Pn));let pe;for(pe=0;pe<it.length;pe+=1){const Ke=In(ee,it,pe);Qe[pe]?Qe[pe].p(Ke,j):(Qe[pe]=Tn(Ke),Qe[pe].c(),Qe[pe].m(E,null))}for(;pe<Qe.length;pe+=1)Qe[pe].d(1);Qe.length=it.length}if((!We||j[0]&8&&S!==(S=ee[3].t("Select a model")))&&n(E,"placeholder",S),j[0]&17&&pt(E,ee[0].TASK_MODEL),(!We||j[0]&8)&&X!==(X=ee[3].t("External Models")+"")&&R(z,X),(!We||j[0]&8)&&G!==(G=ee[3].t("Current Model")+"")&&R(P,G),j[0]&16){Ye=ot(ee[4]);let pe;for(pe=0;pe<Ye.length;pe+=1){const Ke=yn(ee,Ye,pe);we[pe]?we[pe].p(Ke,j):(we[pe]=Dn(Ke),we[pe].c(),we[pe].m(O,null))}for(;pe<we.length;pe+=1)we[pe].d(1);we.length=Ye.length}if((!We||j[0]&8&&C!==(C=ee[3].t("Select a model")))&&n(O,"placeholder",C),j[0]&17&&pt(O,ee[0].TASK_MODEL_EXTERNAL),(!We||j[0]&8)&&Z!==(Z=ee[3].t("Title Generation Prompt")+"")&&R($,Z),j[0]&17&&Q(F,ee[0].TITLE_GENERATION_PROMPT_TEMPLATE),(!We||j[0]&8)&&he!==(he=ee[3].t("Search Query Generation Prompt")+"")&&R(Se,he),j[0]&17&&Q(Te,ee[0].SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE),(!We||j[0]&8)&&Me!==(Me=ee[3].t("Search Query Generation Prompt Length Threshold")+"")&&R(ue,Me),j[0]&17&&xt(Ge.value)!==ee[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD&&Q(Ge,ee[0].SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD),(!We||j[0]&8)&&_e!==(_e=ee[3].t("Banners")+"")&&R(Oe,_e),j[0]&12){ct=ot(ee[2]);let pe;for(pe=0;pe<ct.length;pe+=1){const Ke=wn(ee,ct,pe);xe[pe]?(xe[pe].p(Ke,j),le(xe[pe],1)):(xe[pe]=Vn(Ke),xe[pe].c(),le(xe[pe],1),xe[pe].m(ke,null))}for(wt(),pe=ct.length;pe<xe.length;pe+=1)je(pe);yt()}(!We||j[0]&4&&ze!==(ze="space-y-3 "+(ee[2].length>0?" mb-3":"")))&&n(Ue,"class",ze),ee[5].role==="admin"?oe?oe.p(ee,j):(oe=Sn(ee),oe.c(),oe.m(t,null)):oe&&(oe.d(1),oe=null),(!We||j[0]&8)&&Fe!==(Fe=ee[3].t("Save")+"")&&R(qe,Fe)},i(ee){if(!We){le(v.$$.fragment,ee);for(let j=0;j<ct.length;j+=1)le(xe[j]);We=!0}},o(ee){ne(v.$$.fragment,ee),xe=xe.filter(Boolean);for(let j=0;j<xe.length;j+=1)ne(xe[j]);We=!1},d(ee){ee&&u(e),st(v),Zt(Qe,ee),Zt(we,ee),Zt(xe,ee),oe&&oe.d(),ut=!1,Kt(nt)}}}const Pn=s=>s.owned_by==="ollama";function Ru(s,e,t){let l,a,o,i;Ft(s,Ul,G=>t(25,l=G)),Ft(s,nl,G=>t(4,o=G)),Ft(s,Ma,G=>t(5,i=G));const f=Ms(),c=El("i18n");Ft(s,c,G=>t(3,a=G));let v={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE:"",SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD:0},b=[],p=[];const m=async()=>{t(0,v=await Xi(localStorage.token,v)),t(1,b=await Ri(localStorage.token,b)),await g(),await Ul.set(await es())};kl(async()=>{t(0,v=await Qi(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,p=await Ci(localStorage.token))});const g=async()=>{Vi.set(await Hi(localStorage.token,p))};function y(){v.TASK_MODEL=qt(this),t(0,v)}function k(){v.TASK_MODEL_EXTERNAL=qt(this),t(0,v)}function w(){v.TITLE_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function E(){v.SEARCH_QUERY_GENERATION_PROMPT_TEMPLATE=this.value,t(0,v)}function I(){v.SEARCH_QUERY_PROMPT_LENGTH_THRESHOLD=xt(this.value),t(0,v)}const T=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:ro(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function V(G,P){G[P].type=qt(this),t(2,p)}function S(G,P){G[P].content=this.value,t(2,p)}function H(G,P){s.$$.not_equal(P.dismissible,G)&&(P.dismissible=G,t(2,p))}const M=G=>{p.splice(G,1),t(2,p)},W=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function X(G,P){G[P].title[0]=this.value,t(1,b)}function z(G,P){G[P].title[1]=this.value,t(1,b)}function Y(G,P){G[P].content=this.value,t(1,b)}return[v,b,p,a,o,i,f,c,m,y,k,w,E,I,T,V,S,H,M,W,X,z,Y,G=>{b.splice(G,1),t(1,b)},()=>{m(),f("save")}]}class Hu extends _l{constructor(e){super(),vl(this,e,Ru,Cu,hl,{},null,[-1,-1])}}function Nn(s,e,t){const l=s.slice();return l[59]=e[t],l}function Ln(s,e,t){const l=s.slice();return l[59]=e[t],l}function Un(s,e,t){const l=s.slice();return l[64]=e[t],l[66]=t,l}function Bu(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var f=_(t);tt(l.$$.fragment,f),f.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){N(o,e,i),r(e,t),lt(l,t,null),a=!0},p:_t,i(o){a||(le(l.$$.fragment,o),a=!0)},o(o){ne(l.$$.fragment,o),a=!1},d(o){o&&u(e),st(l)}}}function $u(s){let e,t=s[24].t("Ollama API is disabled")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=h(a,"DIV",{});var o=_(e);l=U(o,t),o.forEach(u)},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Ollama API is disabled")+"")&&R(l,t)},i:_t,o:_t,d(a){a&&u(e)}}}function ju(s){let e,t,l,a;const o=[Ku,Gu,Zu],i=[];function f(c,v){return c[8]!==null?0:c[8]===!1?1:2}return e=f(s),t=i[e]=o[e](s),{c(){t.c(),l=Gt()},l(c){t.l(c),l=Gt()},m(c,v){i[e].m(c,v),N(c,l,v),a=!0},p(c,v){let b=e;e=f(c),e===b?i[e].p(c,v):(wt(),ne(i[b],1,1,()=>{i[b]=null}),yt(),t=i[e],t?t.p(c,v):(t=i[e]=o[e](c),t.c()),le(t,1),t.m(l.parentNode,l))},i(c){a||(le(t),a=!0)},o(c){ne(t),a=!1},d(c){c&&u(l),i[e].d(c)}}}function Zu(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var f=_(t);tt(l.$$.fragment,f),f.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){N(o,e,i),r(e,t),lt(l,t,null),a=!0},p:_t,i(o){a||(le(l.$$.fragment,o),a=!0)},o(o){ne(l.$$.fragment,o),a=!1},d(o){o&&u(e),st(l)}}}function Gu(s){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ft(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,a){N(l,e,a)},p:_t,i:_t,o:_t,d(l){l&&u(e)}}}function Ku(s){let e,t,l=s[24].t("Manage Ollama Models")+"",a,o,i,f,c,v,b=s[24].t("Pull a model from Ollama.com")+"",p,m,g,y,k,w,E,I,T,V,S=s[24].t("To access the available model names for downloading,")+"",H,M,W,X=s[24].t("click here.")+"",z,Y,O=Object.keys(s[25]).length>0,B,G,P,C=s[24].t("Delete a model")+"",K,J,x,Z,$,q,F,re,ie,fe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',he,Se,Pe,Te=s[24].t("Create a model")+"",Ie,Re,be,Me,ue,ye,Ge,He,Ne,at,Ue,$e,Xe,_e,Oe,ge,ce,Ee,ae,ke=s[24].t("Experimental")+"",ze,Ve,ve,de=(s[7]?s[24].t("Hide"):s[24].t("Show"))+"",Ce,Fe,qe,We,ut,nt=s[3].length>0&&Cn(s);function it(j,se){return j[9]?zu:Fu}let Qe=it(s),Ye=Qe(s),we=O&&Bn(s),ct=!s[23]&&Gn(s),xe=ot(s[26].filter(s[41])),je=[];for(let j=0;j<xe.length;j+=1)je[j]=Kn(Nn(s,xe,j));let oe=s[14]!==""&&Wn(s),ee=s[7]&&zn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),nt&&nt.c(),i=D(),f=d("div"),c=d("div"),v=d("div"),p=L(b),m=D(),g=d("div"),y=d("div"),k=d("input"),E=D(),I=d("button"),Ye.c(),T=D(),V=d("div"),H=L(S),M=D(),W=d("a"),z=L(X),Y=D(),we&&we.c(),B=D(),G=d("div"),P=d("div"),K=L(C),J=D(),x=d("div"),Z=d("div"),$=d("select"),ct&&ct.c(),q=Gt();for(let j=0;j<je.length;j+=1)je[j].c();re=D(),ie=d("button"),ie.innerHTML=fe,he=D(),Se=d("div"),Pe=d("div"),Ie=L(Te),Re=D(),be=d("div"),Me=d("div"),ue=d("input"),Ge=D(),He=d("textarea"),Ne=D(),at=d("div"),Ue=d("button"),$e=bt("svg"),Xe=bt("path"),_e=bt("path"),Oe=D(),oe&&oe.c(),ge=D(),ce=d("div"),Ee=d("div"),ae=d("div"),ze=L(ke),Ve=D(),ve=d("button"),Ce=L(de),Fe=D(),ee&&ee.c(),this.h()},l(j){e=h(j,"DIV",{class:!0});var se=_(e);t=h(se,"DIV",{class:!0});var pe=_(t);a=U(pe,l),pe.forEach(u),o=A(se),nt&&nt.l(se),i=A(se),f=h(se,"DIV",{class:!0});var Ke=_(f);c=h(Ke,"DIV",{});var gt=_(c);v=h(gt,"DIV",{class:!0});var Tt=_(v);p=U(Tt,b),Tt.forEach(u),m=A(gt),g=h(gt,"DIV",{class:!0});var Dt=_(g);y=h(Dt,"DIV",{class:!0});var St=_(y);k=h(St,"INPUT",{class:!0,placeholder:!0}),St.forEach(u),E=A(Dt),I=h(Dt,"BUTTON",{class:!0});var Pt=_(I);Ye.l(Pt),Pt.forEach(u),Dt.forEach(u),T=A(gt),V=h(gt,"DIV",{class:!0});var Bt=_(V);H=U(Bt,S),M=A(Bt),W=h(Bt,"A",{class:!0,href:!0,target:!0});var Mt=_(W);z=U(Mt,X),Mt.forEach(u),Bt.forEach(u),Y=A(gt),we&&we.l(gt),gt.forEach(u),B=A(Ke),G=h(Ke,"DIV",{});var Le=_(G);P=h(Le,"DIV",{class:!0});var De=_(P);K=U(De,C),De.forEach(u),J=A(Le),x=h(Le,"DIV",{class:!0});var It=_(x);Z=h(It,"DIV",{class:!0});var At=_(Z);$=h(At,"SELECT",{class:!0,placeholder:!0});var $t=_($);ct&&ct.l($t),q=Gt();for(let dt=0;dt<je.length;dt+=1)je[dt].l($t);$t.forEach(u),At.forEach(u),re=A(It),ie=h(It,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(ie)!=="svelte-2dig6p"&&(ie.innerHTML=fe),It.forEach(u),Le.forEach(u),he=A(Ke),Se=h(Ke,"DIV",{});var vt=_(Se);Pe=h(vt,"DIV",{class:!0});var ht=_(Pe);Ie=U(ht,Te),ht.forEach(u),Re=A(vt),be=h(vt,"DIV",{class:!0});var mt=_(be);Me=h(mt,"DIV",{class:!0});var rt=_(Me);ue=h(rt,"INPUT",{class:!0,placeholder:!0}),Ge=A(rt),He=h(rt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),_(He).forEach(u),rt.forEach(u),Ne=A(mt),at=h(mt,"DIV",{class:!0});var Ut=_(at);Ue=h(Ut,"BUTTON",{class:!0});var Ct=_(Ue);$e=Et(Ct,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Wt=_($e);Xe=Et(Wt,"path",{d:!0}),_(Xe).forEach(u),_e=Et(Wt,"path",{d:!0}),_(_e).forEach(u),Wt.forEach(u),Ct.forEach(u),Ut.forEach(u),mt.forEach(u),Oe=A(vt),oe&&oe.l(vt),vt.forEach(u),ge=A(Ke),ce=h(Ke,"DIV",{class:!0});var Ot=_(ce);Ee=h(Ot,"DIV",{class:!0});var Nt=_(Ee);ae=h(Nt,"DIV",{class:!0});var Be=_(ae);ze=U(Be,ke),Be.forEach(u),Ve=A(Nt),ve=h(Nt,"BUTTON",{class:!0,type:!0});var Je=_(ve);Ce=U(Je,de),Je.forEach(u),Nt.forEach(u),Ot.forEach(u),Fe=A(Ke),ee&&ee.l(Ke),Ke.forEach(u),se.forEach(u),this.h()},h(){n(t,"class","text-sm font-medium"),n(v,"class","mb-2 text-sm font-medium"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),n(y,"class","flex-1 mr-2"),n(I,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),I.disabled=s[9],n(g,"class","flex w-full"),n(W,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(W,"href","https://ollama.com/library"),n(W,"target","_blank"),n(V,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(P,"class","mb-2 text-sm font-medium"),n($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n($,"placeholder",F=s[24].t("Select a model")),s[23]===void 0&&Yt(()=>s[42].call($)),n(Z,"class","flex-1 mr-2"),n(ie,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(x,"class","flex w-full"),n(Pe,"class","mb-2 text-sm font-medium"),n(ue,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(ue,"placeholder",ye=s[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),ue.disabled=s[11],n(He,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),n(He,"rows","6"),n(He,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),He.disabled=s[11],n(Me,"class","flex-1 mr-2 flex flex-col gap-2"),n(Xe,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(_e,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n($e,"xmlns","http://www.w3.org/2000/svg"),n($e,"viewBox","0 0 16 16"),n($e,"fill","currentColor"),n($e,"class","size-4"),n(Ue,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),Ue.disabled=s[11],n(at,"class","flex self-start"),n(be,"class","flex w-full"),n(ae,"class","text-sm font-medium"),n(ve,"class","text-xs font-medium text-gray-500"),n(ve,"type","button"),n(Ee,"class","flex justify-between items-center text-xs"),n(ce,"class","pt-1"),n(f,"class","space-y-2"),n(e,"class","space-y-2 pr-1.5")},m(j,se){N(j,e,se),r(e,t),r(t,a),r(e,o),nt&&nt.m(e,null),r(e,i),r(e,f),r(f,c),r(c,v),r(v,p),r(c,m),r(c,g),r(g,y),r(y,k),Q(k,s[10]),r(g,E),r(g,I),Ye.m(I,null),r(c,T),r(c,V),r(V,H),r(V,M),r(V,W),r(W,z),r(c,Y),we&&we.m(c,null),r(f,B),r(f,G),r(G,P),r(P,K),r(G,J),r(G,x),r(x,Z),r(Z,$),ct&&ct.m($,null),r($,q);for(let pe=0;pe<je.length;pe+=1)je[pe]&&je[pe].m($,null);pt($,s[23],!0),r(x,re),r(x,ie),r(f,he),r(f,Se),r(Se,Pe),r(Pe,Ie),r(Se,Re),r(Se,be),r(be,Me),r(Me,ue),Q(ue,s[12]),r(Me,Ge),r(Me,He),Q(He,s[13]),r(be,Ne),r(be,at),r(at,Ue),r(Ue,$e),r($e,Xe),r($e,_e),r(Se,Oe),oe&&oe.m(Se,null),r(f,ge),r(f,ce),r(ce,Ee),r(Ee,ae),r(ae,ze),r(Ee,Ve),r(Ee,ve),r(ve,Ce),r(f,Fe),ee&&ee.m(f,null),qe=!0,We||(ut=[te(k,"input",s[38]),te(I,"click",s[39]),te($,"change",s[42]),te(ie,"click",s[43]),te(ue,"input",s[44]),te(He,"input",s[45]),te(Ue,"click",s[46]),te(ve,"click",s[47])],We=!0)},p(j,se){if((!qe||se[0]&16777216)&&l!==(l=j[24].t("Manage Ollama Models")+"")&&R(a,l),j[3].length>0?nt?(nt.p(j,se),se[0]&8&&le(nt,1)):(nt=Cn(j),nt.c(),le(nt,1),nt.m(e,i)):nt&&(wt(),ne(nt,1,1,()=>{nt=null}),yt()),(!qe||se[0]&16777216)&&b!==(b=j[24].t("Pull a model from Ollama.com")+"")&&R(p,b),(!qe||se[0]&16777216&&w!==(w=j[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&n(k,"placeholder",w),se[0]&1024&&k.value!==j[10]&&Q(k,j[10]),Qe!==(Qe=it(j))&&(Ye.d(1),Ye=Qe(j),Ye&&(Ye.c(),Ye.m(I,null))),(!qe||se[0]&512)&&(I.disabled=j[9]),(!qe||se[0]&16777216)&&S!==(S=j[24].t("To access the available model names for downloading,")+"")&&R(H,S),(!qe||se[0]&16777216)&&X!==(X=j[24].t("click here.")+"")&&R(z,X),se[0]&33554432&&(O=Object.keys(j[25]).length>0),O?we?(we.p(j,se),se[0]&33554432&&le(we,1)):(we=Bn(j),we.c(),le(we,1),we.m(c,null)):we&&(wt(),ne(we,1,1,()=>{we=null}),yt()),(!qe||se[0]&16777216)&&C!==(C=j[24].t("Delete a model")+"")&&R(K,C),j[23]?ct&&(ct.d(1),ct=null):ct?ct.p(j,se):(ct=Gn(j),ct.c(),ct.m($,q)),se[0]&67108880){xe=ot(j[26].filter(j[41]));let pe;for(pe=0;pe<xe.length;pe+=1){const Ke=Nn(j,xe,pe);je[pe]?je[pe].p(Ke,se):(je[pe]=Kn(Ke),je[pe].c(),je[pe].m($,null))}for(;pe<je.length;pe+=1)je[pe].d(1);je.length=xe.length}(!qe||se[0]&16777216&&F!==(F=j[24].t("Select a model")))&&n($,"placeholder",F),se[0]&75497488&&pt($,j[23]),(!qe||se[0]&16777216)&&Te!==(Te=j[24].t("Create a model")+"")&&R(Ie,Te),(!qe||se[0]&16777216&&ye!==(ye=j[24].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&n(ue,"placeholder",ye),(!qe||se[0]&2048)&&(ue.disabled=j[11]),se[0]&4096&&ue.value!==j[12]&&Q(ue,j[12]),(!qe||se[0]&2048)&&(He.disabled=j[11]),se[0]&8192&&Q(He,j[13]),(!qe||se[0]&2048)&&(Ue.disabled=j[11]),j[14]!==""?oe?oe.p(j,se):(oe=Wn(j),oe.c(),oe.m(Se,null)):oe&&(oe.d(1),oe=null),(!qe||se[0]&16777216)&&ke!==(ke=j[24].t("Experimental")+"")&&R(ze,ke),(!qe||se[0]&16777344)&&de!==(de=(j[7]?j[24].t("Hide"):j[24].t("Show"))+"")&&R(Ce,de),j[7]?ee?ee.p(j,se):(ee=zn(j),ee.c(),ee.m(f,null)):ee&&(ee.d(1),ee=null)},i(j){qe||(le(nt),le(we),qe=!0)},o(j){ne(nt),ne(we),qe=!1},d(j){j&&u(e),nt&&nt.d(),Ye.d(),we&&we.d(),ct&&ct.d(),Zt(je,j),oe&&oe.d(),ee&&ee.d(),We=!1,Kt(ut)}}}function Cn(s){let e,t,l,a,o,i,f,c,v,b,p,m,g,y=ot(s[3]),k=[];for(let E=0;E<y.length;E+=1)k[E]=Rn(Un(s,y,E));c=new ul({props:{content:"Update All Models",placement:"top",$$slots:{default:[Wu]},$$scope:{ctx:s}}});let w=s[5]&&Hn(s);return{c(){e=d("div"),t=d("div"),l=d("select");for(let E=0;E<k.length;E+=1)k[E].c();o=D(),i=d("div"),f=d("div"),et(c.$$.fragment),v=D(),w&&w.c(),b=Gt(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);l=h(T,"SELECT",{class:!0,placeholder:!0});var V=_(l);for(let M=0;M<k.length;M+=1)k[M].l(V);V.forEach(u),T.forEach(u),o=A(I),i=h(I,"DIV",{});var S=_(i);f=h(S,"DIV",{class:!0});var H=_(f);tt(c.$$.fragment,H),H.forEach(u),S.forEach(u),I.forEach(u),v=A(E),w&&w.l(E),b=Gt(),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[24].t("Select an Ollama instance")),s[4]===void 0&&Yt(()=>s[36].call(l)),n(t,"class","flex-1 pb-1"),n(f,"class","flex w-full justify-end"),n(e,"class","flex gap-2")},m(E,I){N(E,e,I),r(e,t),r(t,l);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(l,null);pt(l,s[4],!0),r(e,o),r(e,i),r(i,f),lt(c,f,null),N(E,v,I),w&&w.m(E,I),N(E,b,I),p=!0,m||(g=te(l,"change",s[36]),m=!0)},p(E,I){if(I[0]&8){y=ot(E[3]);let V;for(V=0;V<y.length;V+=1){const S=Un(E,y,V);k[V]?k[V].p(S,I):(k[V]=Rn(S),k[V].c(),k[V].m(l,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=y.length}(!p||I[0]&16777216&&a!==(a=E[24].t("Select an Ollama instance")))&&n(l,"placeholder",a),I[0]&16&&pt(l,E[4]);const T={};I[2]&32&&(T.$$scope={dirty:I,ctx:E}),c.$set(T),E[5]?w?w.p(E,I):(w=Hn(E),w.c(),w.m(b.parentNode,b)):w&&(w.d(1),w=null)},i(E){p||(le(c.$$.fragment,E),p=!0)},o(E){ne(c.$$.fragment,E),p=!1},d(E){E&&(u(e),u(v),u(b)),Zt(k,E),st(c),w&&w.d(E),m=!1,g()}}}function Rn(s){let e,t=s[64]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[66],Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&8&&t!==(t=a[64]+"")&&R(l,t)},d(a){a&&u(e)}}}function Wu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-149ekpm"&&(e.innerHTML=t),this.h()},h(){n(e,"class","p-2.5 flex gap-2 items-center bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(o,i){N(o,e,i),l||(a=te(e,"click",s[37]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function Hn(s){let e,t,l,a=s[6]?`(${s[6]}%)`:"",o;return{c(){e=L('Updating "'),t=L(s[5]),l=L('" '),o=L(a)},l(i){e=U(i,'Updating "'),t=U(i,s[5]),l=U(i,'" '),o=U(i,a)},m(i,f){N(i,e,f),N(i,t,f),N(i,l,f),N(i,o,f)},p(i,f){f[0]&32&&R(t,i[5]),f[0]&64&&a!==(a=i[6]?`(${i[6]}%)`:"")&&R(o,a)},d(i){i&&(u(e),u(t),u(l),u(o))}}}function Fu(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function zu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function Bn(s){let e,t,l=ot(Object.keys(s[25])),a=[];for(let i=0;i<l.length;i+=1)a[i]=Zn(Ln(s,l,i));const o=i=>ne(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Gt()},l(i){for(let f=0;f<a.length;f+=1)a[f].l(i);e=Gt()},m(i,f){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,f);N(i,e,f),t=!0},p(i,f){if(f[0]&50331648|f[1]&2){l=ot(Object.keys(i[25]));let c;for(c=0;c<l.length;c+=1){const v=Ln(i,l,c);a[c]?(a[c].p(v,f),le(a[c],1)):(a[c]=Zn(v),a[c].c(),le(a[c],1),a[c].m(e.parentNode,e))}for(wt(),c=l.length;c<a.length;c+=1)o(c);yt()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)le(a[f]);t=!0}},o(i){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ne(a[f]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function $n(s){let e,t,l=s[59]+"",a,o,i,f,c,v,b=(s[25][s[59]].pullProgress??0)+"",p,m,g,y,k,w,E;y=new ul({props:{content:s[24].t("Cancel"),$$slots:{default:[qu]},$$scope:{ctx:s}}});let I="digest"in s[25][s[59]]&&jn(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("div"),v=d("div"),p=L(b),m=L("%"),g=D(),et(y.$$.fragment),k=D(),I&&I.c(),w=D(),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);a=U(S,l),S.forEach(u),o=A(V),i=h(V,"DIV",{class:!0});var H=_(i);f=h(H,"DIV",{class:!0});var M=_(f);c=h(M,"DIV",{class:!0});var W=_(c);v=h(W,"DIV",{class:!0,style:!0});var X=_(v);p=U(X,b),m=U(X,"%"),X.forEach(u),W.forEach(u),g=A(M),tt(y.$$.fragment,M),M.forEach(u),k=A(H),I&&I.l(H),H.forEach(u),w=A(V),V.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(v,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(v,"width",Math.max(15,s[25][s[59]].pullProgress??0)+"%"),n(c,"class","flex-1"),n(f,"class","flex flex-row justify-between space-x-4 pr-2"),n(i,"class",""),n(e,"class","flex flex-col")},m(T,V){N(T,e,V),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),r(c,v),r(v,p),r(v,m),r(f,g),lt(y,f,null),r(i,k),I&&I.m(i,null),r(e,w),E=!0},p(T,V){(!E||V[0]&33554432)&&l!==(l=T[59]+"")&&R(a,l),(!E||V[0]&33554432)&&b!==(b=(T[25][T[59]].pullProgress??0)+"")&&R(p,b),(!E||V[0]&33554432)&&Sl(v,"width",Math.max(15,T[25][T[59]].pullProgress??0)+"%");const S={};V[0]&16777216&&(S.content=T[24].t("Cancel")),V[0]&33554432|V[2]&32&&(S.$$scope={dirty:V,ctx:T}),y.$set(S),"digest"in T[25][T[59]]?I?I.p(T,V):(I=jn(T),I.c(),I.m(i,null)):I&&(I.d(1),I=null)},i(T){E||(le(y.$$.fragment,T),E=!0)},o(T){ne(y.$$.fragment,T),E=!1},d(T){T&&u(e),st(y),I&&I.d()}}}function qu(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function o(){return s[40](s[59])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-7r2t6n"&&(e.innerHTML=t),this.h()},h(){n(e,"class","text-gray-800 dark:text-gray-100")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function jn(s){let e,t=s[25][s[59]].digest+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=h(a,"DIV",{class:!0,style:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&33554432&&t!==(t=a[25][a[59]].digest+"")&&R(l,t)},d(a){a&&u(e)}}}function Zn(s){let e,t,l="pullProgress"in s[25][s[59]]&&$n(s);return{c(){l&&l.c(),e=Gt()},l(a){l&&l.l(a),e=Gt()},m(a,o){l&&l.m(a,o),N(a,e,o),t=!0},p(a,o){"pullProgress"in a[25][a[59]]?l?(l.p(a,o),o[0]&33554432&&le(l,1)):(l=$n(a),l.c(),le(l,1),l.m(e.parentNode,e)):l&&(wt(),ne(l,1,1,()=>{l=null}),yt())},i(a){t||(le(l),t=!0)},o(a){ne(l),t=!1},d(a){a&&u(e),l&&l.d(a)}}}function Gn(s){let e,t=s[24].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("Select a model")+"")&&R(l,t)},d(a){a&&u(e)}}}function Kn(s){let e,t=s[59].name+" ("+(s[59].ollama.size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[59].name,Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&67108880&&t!==(t=o[59].name+" ("+(o[59].ollama.size/1024**3).toFixed(1)+" GB)")&&R(l,t),i[0]&67108880&&a!==(a=o[59].name)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function Wn(s){let e,t,l,a,o,i,f,c,v=(s[15]??0)+"",b,p,m,g=s[14]&&Fn(s);return{c(){e=d("div"),t=d("div"),l=L(s[12]),a=D(),o=d("div"),i=d("div"),f=d("div"),c=d("div"),b=L(v),p=L("%"),m=D(),g&&g.c(),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);l=U(w,s[12]),w.forEach(u),a=A(k),o=h(k,"DIV",{class:!0});var E=_(o);i=h(E,"DIV",{class:!0});var I=_(i);f=h(I,"DIV",{class:!0});var T=_(f);c=h(T,"DIV",{class:!0,style:!0});var V=_(c);b=U(V,v),p=U(V,"%"),V.forEach(u),T.forEach(u),I.forEach(u),m=A(E),g&&g.l(E),E.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","font-medium mb-1"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(c,"width",Math.max(15,s[15]??0)+"%"),n(f,"class","flex-1"),n(i,"class","flex flex-row justify-between space-x-4 pr-2"),n(o,"class",""),n(e,"class","flex flex-col mt-1")},m(y,k){N(y,e,k),r(e,t),r(t,l),r(e,a),r(e,o),r(o,i),r(i,f),r(f,c),r(c,b),r(c,p),r(o,m),g&&g.m(o,null)},p(y,k){k[0]&4096&&R(l,y[12]),k[0]&32768&&v!==(v=(y[15]??0)+"")&&R(b,v),k[0]&32768&&Sl(c,"width",Math.max(15,y[15]??0)+"%"),y[14]?g?g.p(y,k):(g=Fn(y),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},d(y){y&&u(e),g&&g.d()}}}function Fn(s){let e,t;return{c(){e=d("div"),t=L(s[14]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var a=_(e);t=U(a,s[14]),a.forEach(u),this.h()},h(){n(e,"class","mt-1 text-xs dark:text-gray-500"),Sl(e,"font-size","0.5rem")},m(l,a){N(l,e,a),r(e,t)},p(l,a){a[0]&16384&&R(t,l[14])},d(l){l&&u(e)}}}function zn(s){let e,t,l,a=s[24].t("Upload a GGUF model")+"",o,i,f,c,v,b,p,m,g,y,k=s[24].t("To access the GGUF models available for downloading,")+"",w,E,I,T=s[24].t("click here.")+"",V,S,H,M;function W(x,Z){return x[16]==="file"?Ju:Yu}let X=W(s),z=X(s);function Y(x,Z){return x[16]==="file"?Xu:Qu}let O=Y(s),B=O(s),G=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&qn(s),P=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Yn(s);function C(x,Z){if(x[22])return ac;if(x[21]!==null)return sc}let K=C(s),J=K&&K(s);return{c(){e=d("form"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("button"),z.c(),c=D(),v=d("div"),b=d("div"),B.c(),p=D(),G&&G.c(),m=D(),P&&P.c(),g=D(),y=d("div"),w=L(k),E=D(),I=d("a"),V=L(T),S=D(),J&&J.c(),this.h()},l(x){e=h(x,"FORM",{});var Z=_(e);t=h(Z,"DIV",{class:!0});var $=_(t);l=h($,"DIV",{class:!0});var q=_(l);o=U(q,a),q.forEach(u),i=A($),f=h($,"BUTTON",{class:!0,type:!0});var F=_(f);z.l(F),F.forEach(u),$.forEach(u),c=A(Z),v=h(Z,"DIV",{class:!0});var re=_(v);b=h(re,"DIV",{class:!0});var ie=_(b);B.l(ie),ie.forEach(u),p=A(re),G&&G.l(re),re.forEach(u),m=A(Z),P&&P.l(Z),g=A(Z),y=h(Z,"DIV",{class:!0});var fe=_(y);w=U(fe,k),E=A(fe),I=h(fe,"A",{class:!0,href:!0,target:!0});var he=_(I);V=U(he,T),he.forEach(u),fe.forEach(u),S=A(Z),J&&J.l(Z),Z.forEach(u),this.h()},h(){n(l,"class","text-sm font-medium"),n(f,"class","p-1 px-3 text-xs flex rounded transition"),n(f,"type","button"),n(t,"class","mb-2 flex w-full justify-between"),n(b,"class","flex flex-col w-full"),n(v,"class","flex w-full mb-1.5"),n(I,"class","text-gray-500 dark:text-gray-300 font-medium underline"),n(I,"href","https://huggingface.co/models?search=gguf"),n(I,"target","_blank"),n(y,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(x,Z){N(x,e,Z),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),z.m(f,null),r(e,c),r(e,v),r(v,b),B.m(b,null),r(v,p),G&&G.m(v,null),r(e,m),P&&P.m(e,null),r(e,g),r(e,y),r(y,w),r(y,E),r(y,I),r(I,V),r(e,S),J&&J.m(e,null),H||(M=[te(f,"click",s[48]),te(e,"submit",Ml(s[55]))],H=!0)},p(x,Z){Z[0]&16777216&&a!==(a=x[24].t("Upload a GGUF model")+"")&&R(o,a),X===(X=W(x))&&z?z.p(x,Z):(z.d(1),z=X(x),z&&(z.c(),z.m(f,null))),O===(O=Y(x))&&B?B.p(x,Z):(B.d(1),B=O(x),B&&(B.c(),B.m(b,null))),x[16]==="file"&&x[17]&&x[17].length>0||x[16]==="url"&&x[18]!==""?G?G.p(x,Z):(G=qn(x),G.c(),G.m(v,null)):G&&(G.d(1),G=null),x[16]==="file"&&x[17]&&x[17].length>0||x[16]==="url"&&x[18]!==""?P?P.p(x,Z):(P=Yn(x),P.c(),P.m(e,g)):P&&(P.d(1),P=null),Z[0]&16777216&&k!==(k=x[24].t("To access the GGUF models available for downloading,")+"")&&R(w,k),Z[0]&16777216&&T!==(T=x[24].t("click here.")+"")&&R(V,T),K===(K=C(x))&&J?J.p(x,Z):(J&&J.d(1),J=K&&K(x),J&&(J.c(),J.m(e,null)))},d(x){x&&u(e),z.d(),B.d(),G&&G.d(),P&&P.d(),J&&J.d(),H=!1,Kt(M)}}}function Yu(s){let e,t=s[24].t("URL Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("URL Mode")+"")&&R(l,t)},d(a){a&&u(e)}}}function Ju(s){let e,t=s[24].t("File Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&16777216&&t!==(t=a[24].t("File Mode")+"")&&R(l,t)},d(a){a&&u(e)}}}function Qu(s){let e,t,l,a,o,i,f;return{c(){e=d("div"),t=d("input"),this.h()},l(c){e=h(c,"DIV",{class:!0});var v=_(e);t=h(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(u),this.h()},h(){n(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),n(t,"type","url"),t.required=!0,n(t,"placeholder",a=s[24].t("Type Hugging Face Resolve (Download) URL")),n(e,"class",o="flex-1 "+(s[18]!==""?"mr-2":""))},m(c,v){N(c,e,v),r(e,t),Q(t,s[18]),i||(f=te(t,"input",s[53]),i=!0)},p(c,v){v[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[18]!==""?"mr-2":""))&&n(t,"class",l),v[0]&16777216&&a!==(a=c[24].t("Type Hugging Face Resolve (Download) URL"))&&n(t,"placeholder",a),v[0]&262144&&t.value!==c[18]&&Q(t,c[18]),v[0]&262144&&o!==(o="flex-1 "+(c[18]!==""?"mr-2":""))&&n(e,"class",o)},d(c){c&&u(e),i=!1,f()}}}function Xu(s){let e,t,l,a,o,i,f;function c(p,m){return p[17]&&p[17].length>0?ec:xu}let v=c(s),b=v(s);return{c(){e=d("div"),t=d("input"),l=D(),a=d("button"),b.c(),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=_(e);t=h(m,"INPUT",{id:!0,type:!0,accept:!0}),l=A(m),a=h(m,"BUTTON",{type:!0,class:!0});var g=_(a);b.l(g),g.forEach(u),m.forEach(u),this.h()},h(){n(t,"id","model-upload-input"),n(t,"type","file"),n(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,n(a,"type","button"),n(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),n(e,"class",o="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(p,m){N(p,e,m),r(e,t),s[49](t),r(e,l),r(e,a),b.m(a,null),i||(f=[te(t,"change",s[50]),te(t,"change",s[51]),te(a,"click",s[52])],i=!0)},p(p,m){v===(v=c(p))&&b?b.p(p,m):(b.d(1),b=v(p),b&&(b.c(),b.m(a,null))),m[0]&131072&&o!==(o="flex-1 "+(p[17]&&p[17].length>0?"mr-2":""))&&n(e,"class",o)},d(p){p&&u(e),s[49](null),b.d(),i=!1,Kt(f)}}}function xu(s){let e=s[24].t("Click here to select")+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){N(l,t,a)},p(l,a){a[0]&16777216&&e!==(e=l[24].t("Click here to select")+"")&&R(t,e)},d(l){l&&u(t)}}}function ec(s){let e=s[17][0].name+"",t;return{c(){t=L(e)},l(l){t=U(l,e)},m(l,a){N(l,t,a)},p(l,a){a[0]&131072&&e!==(e=l[17][0].name+"")&&R(t,e)},d(l){l&&u(t)}}}function qn(s){let e;function t(o,i){return o[9]?lc:tc}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0});var i=_(e);a.l(i),i.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),n(e,"type","submit"),e.disabled=s[9]},m(o,i){N(o,e,i),a.m(e,null)},p(o,i){l!==(l=t(o))&&(a.d(1),a=l(o),a&&(a.c(),a.m(e,null))),i[0]&512&&(e.disabled=o[9])},d(o){o&&u(e),a.d()}}}function tc(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function lc(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function Yn(s){let e,t,l,a=s[24].t("Modelfile Content")+"",o,i,f,c,v;return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("textarea"),this.h()},l(b){e=h(b,"DIV",{});var p=_(e);t=h(p,"DIV",{});var m=_(t);l=h(m,"DIV",{class:!0});var g=_(l);o=U(g,a),g.forEach(u),i=A(m),f=h(m,"TEXTAREA",{class:!0,rows:!0}),_(f).forEach(u),m.forEach(u),p.forEach(u),this.h()},h(){n(l,"class","my-2.5 text-sm font-medium"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),n(f,"rows","6")},m(b,p){N(b,e,p),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),Q(f,s[19]),c||(v=te(f,"input",s[54]),c=!0)},p(b,p){p[0]&16777216&&a!==(a=b[24].t("Modelfile Content")+"")&&R(o,a),p[0]&524288&&Q(f,b[19])},d(b){b&&u(e),c=!1,v()}}}function sc(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,f,c=(s[21]??0)+"",v,b,p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),v=L(c),b=L("%"),p=D(),m=d("div"),g=L(s[20]),this.h()},l(y){e=h(y,"DIV",{class:!0});var k=_(e);t=h(k,"DIV",{class:!0});var w=_(t);a=U(w,l),w.forEach(u),o=A(k),i=h(k,"DIV",{class:!0});var E=_(i);f=h(E,"DIV",{class:!0,style:!0});var I=_(f);v=U(I,c),b=U(I,"%"),I.forEach(u),E.forEach(u),p=A(k),m=h(k,"DIV",{class:!0,style:!0});var T=_(m);g=U(T,s[20]),T.forEach(u),k.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(f,"width",Math.max(15,s[21]??0)+"%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(m,"class","mt-1 text-xs dark:text-gray-500"),Sl(m,"font-size","0.5rem"),n(e,"class","mt-2")},m(y,k){N(y,e,k),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,v),r(f,b),r(e,p),r(e,m),r(m,g)},p(y,k){k[0]&16777216&&l!==(l=y[24].t("Upload Progress")+"")&&R(a,l),k[0]&2097152&&c!==(c=(y[21]??0)+"")&&R(v,c),k[0]&2097152&&Sl(f,"width",Math.max(15,y[21]??0)+"%"),k[0]&1048576&&R(g,y[20])},d(y){y&&u(e)}}}function ac(s){let e,t,l=s[24].t("Upload Progress")+"",a,o,i,f,c,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=L(s[22]),v=D(),b=d("div"),p=L(s[20]),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);f=h(k,"DIV",{class:!0,style:!0});var w=_(f);c=U(w,s[22]),w.forEach(u),k.forEach(u),v=A(g),b=h(g,"DIV",{class:!0,style:!0});var E=_(b);p=U(E,s[20]),E.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","mb-2 text-xs"),n(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Sl(f,"width","100%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(b,"class","mt-1 text-xs dark:text-gray-500"),Sl(b,"font-size","0.5rem"),n(e,"class","mt-2")},m(m,g){N(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),r(e,v),r(e,b),r(b,p)},p(m,g){g[0]&16777216&&l!==(l=m[24].t("Upload Progress")+"")&&R(a,l),g[0]&4194304&&R(c,m[22]),g[0]&1048576&&R(p,m[20])},d(m){m&&u(e)}}}function rc(s){let e,t,l,a,o,i,f,c;function v(y){s[34](y)}let b={};s[1]!==void 0&&(b.show=s[1]),e=new Sa({props:b}),Lt.push(()=>Ht(e,"show",v)),e.$on("confirm",s[35]);const p=[ju,$u,Bu],m=[];function g(y,k){return y[2]?0:y[2]===!1?1:2}return i=g(s),f=m[i]=p[i](s),{c(){et(e.$$.fragment),l=D(),a=d("div"),o=d("div"),f.c(),this.h()},l(y){tt(e.$$.fragment,y),l=A(y),a=h(y,"DIV",{class:!0});var k=_(a);o=h(k,"DIV",{class:!0});var w=_(o);f.l(w),w.forEach(u),k.forEach(u),this.h()},h(){n(o,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(a,"class","flex flex-col h-full justify-between text-sm")},m(y,k){lt(e,y,k),N(y,l,k),N(y,a,k),r(a,o),m[i].m(o,null),c=!0},p(y,k){const w={};!t&&k[0]&2&&(t=!0,w.show=y[1],Rt(()=>t=!1)),e.$set(w);let E=i;i=g(y),i===E?m[i].p(y,k):(wt(),ne(m[E],1,1,()=>{m[E]=null}),yt(),f=m[i],f?f.p(y,k):(f=m[i]=p[i](y),f.c()),le(f,1),f.m(o,null))},i(y){c||(le(e.$$.fragment,y),le(f),c=!0)},o(y){ne(e.$$.fragment,y),ne(f),c=!1},d(y){y&&(u(l),u(a)),st(e,y),m[i].d()}}}const nc=3;function ic(s,e,t){let l,a,o;Ft(s,gs,ge=>t(25,a=ge)),Ft(s,nl,ge=>t(26,o=ge));const i=El("i18n");Ft(s,i,ge=>t(24,l=ge));const f=async()=>await ms(localStorage.token);let c,v=!1,b=null,p=[],m=null,g=null,y=null,k=!1,w=null,E=!1,I="",T=!1,V="",S="",H="",M=null,W="",X=null,z="file",Y=null,O="",B=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,G="",P=null,C="",K="";const J=async()=>{for(const ge of o.filter(ce=>{var Ee;return!((ce==null?void 0:ce.preset)??!1)&&ce.owned_by==="ollama"&&(m===null?!0:(((Ee=ce==null?void 0:ce.ollama)==null?void 0:Ee.urls)??[]).includes(m))})){console.log(ge),t(5,g=ge.id);const[ce,Ee]=await wr(localStorage.token,ge.id,m).catch(ae=>(Ae.error(ae),null));if(ce){const ae=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;)try{const{value:ke,done:ze}=await ae.read();if(ze)break;let Ve=ke.split(`
`);for(const ve of Ve)if(ve!==""){let de=JSON.parse(ve);if(console.log(de),de.error)throw de.error;if(de.detail)throw de.detail;de.status&&(de.digest?(t(6,y=0),de.completed?t(6,y=Math.round(de.completed/de.total*1e3)/10):t(6,y=100)):Ae.success(de.status))}}catch(ke){console.log(ke)}}}t(5,g=null),t(6,y=null)},x=async()=>{const ge=I.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[ge]){Ae.error(l.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ge}));return}if(Object.keys(a).length===nc){Ae.error(l.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[ce,Ee]=await wr(localStorage.token,ge,m).catch(ae=>(Ae.error(ae),null));if(ce){const ae=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(gs.set({...a,[ge]:{...a[ge],abortController:Ee,reader:ae,done:!1}});;)try{const{value:ke,done:ze}=await ae.read();if(ze)break;let Ve=ke.split(`
`);for(const ve of Ve)if(ve!==""){let de=JSON.parse(ve);if(console.log(de),de.error)throw de.error;if(de.detail)throw de.detail;if(de.status)if(de.digest){let Ce=0;de.completed?Ce=Math.round(de.completed/de.total*1e3)/10:Ce=100,gs.set({...a,[ge]:{...a[ge],pullProgress:Ce,digest:de.digest}})}else Ae.success(de.status),gs.set({...a,[ge]:{...a[ge],done:de.status==="success"}})}}catch(ke){console.log(ke),typeof ke!="string"&&(ke=ke.message),Ae.error(ke)}console.log(a[ge]),a[ge].done?(Ae.success(l.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ge})),nl.set(await f())):Ae.error(l.t("Download canceled")),delete a[ge],gs.set({...a})}t(10,I=""),t(9,E=!1)},Z=async()=>{t(9,E=!0);let ge=!1,ce=null,Ee="";if(z==="file"){const ae=Y?Y[0]:null;ae&&(t(22,C="Uploading..."),ce=await co(localStorage.token,ae,m).catch(ke=>(Ae.error(ke),null)))}else t(21,P=0),ce=await fo(localStorage.token,O,m).catch(ae=>(Ae.error(ae),null));if(ce&&ce.ok){const ae=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:ke,done:ze}=await ae.read();if(ze)break;try{let Ve=ke.split(`
`);for(const ve of Ve)if(ve!==""){let de=JSON.parse(ve.replace(/^data: /,""));if(de.progress&&(C&&t(22,C=""),t(21,P=de.progress)),de.error)throw de.error;de.done&&(t(20,G=de.blob),Ee=de.name,ge=!0)}}catch(Ve){console.log(Ve)}}}else{const ae=await(ce==null?void 0:ce.json());Ae.error((ae==null?void 0:ae.detail)??ae)}if(ge){const ae=await Ir(localStorage.token,`${Ee}:latest`,`FROM @${G}
${B}`);if(ae&&ae.ok){const ke=ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:ze,done:Ve}=await ke.read();if(Ve)break;try{let ve=ze.split(`
`);for(const de of ve)if(de!==""){console.log(de);let Ce=JSON.parse(de);if(console.log(Ce),Ce.error)throw Ce.error;if(Ce.detail)throw Ce.detail;Ce.status&&(!Ce.digest&&!Ce.status.includes("writing")&&!Ce.status.includes("sha256")?Ae.success(Ce.status):Ce.digest&&(W=Ce.digest,Ce.completed?X=Math.round(Ce.completed/Ce.total*1e3)/10:X=100))}}catch(ve){console.log(ve),Ae.error(ve)}}}}t(18,O=""),c&&t(0,c.value="",c),t(17,Y=null),t(9,E=!1),t(21,P=null),nl.set(await f())},$=async()=>{await yr(localStorage.token,K,m).catch(ce=>{Ae.error(ce)})&&Ae.success(l.t("Deleted {{deleteModelTag}}",{deleteModelTag:K})),t(23,K=""),nl.set(await f())},q=async ge=>{const{reader:ce,abortController:Ee}=a[ge];Ee&&Ee.abort(),ce&&(await ce.cancel(),delete a[ge],gs.set({...a}),await yr(localStorage.token,ge),Ae.success(`${ge} download has been canceled`))},F=async()=>{t(11,T=!0);const ge=await Ir(localStorage.token,V,S,m).catch(ce=>(Ae.error(ce),null));if(ge&&ge.ok){const ce=ge.body.pipeThrough(new TextDecoderStream).pipeThrough(Vs(`
`)).getReader();for(;;){const{value:Ee,done:ae}=await ce.read();if(ae)break;try{let ke=Ee.split(`
`);for(const ze of ke)if(ze!==""){console.log(ze);let Ve=JSON.parse(ze);if(console.log(Ve),Ve.error)throw Ve.error;if(Ve.detail)throw Ve.detail;Ve.status&&(!Ve.digest&&!Ve.status.includes("writing")&&!Ve.status.includes("sha256")?Ae.success(Ve.status):Ve.digest&&(t(14,H=Ve.digest),Ve.completed?t(15,M=Math.round(Ve.completed/Ve.total*1e3)/10):t(15,M=100)))}}catch(ke){console.log(ke),Ae.error(ke)}}}nl.set(await f()),t(11,T=!1),t(12,V=""),t(13,S=""),t(14,H=""),t(15,M=null)};kl(async()=>{(await bi(localStorage.token)).ENABLE_OLLAMA_API?(t(2,b=!0),await Promise.all([(async()=>{t(3,p=await Ei(localStorage.token).catch(ce=>(Ae.error(ce),[]))),p.length>0&&t(4,m=0)})(),(async()=>{t(8,w=await Va(localStorage.token).catch(ce=>!1))})()])):(t(2,b=!1),Ae.error(l.t("Ollama API is disabled")))});function re(ge){v=ge,t(1,v)}const ie=()=>{$()};function fe(){m=qt(this),t(4,m)}const he=()=>{J()};function Se(){I=this.value,t(10,I)}const Pe=()=>{x()},Te=ge=>{q(ge)},Ie=ge=>{var ce;return!((ge==null?void 0:ge.preset)??!1)&&ge.owned_by==="ollama"&&(m===null?!0:(((ce=ge==null?void 0:ge.ollama)==null?void 0:ce.urls)??[]).includes(m))};function Re(){K=qt(this),t(23,K),t(4,m)}const be=()=>{t(1,v=!0)};function Me(){V=this.value,t(12,V)}function ue(){S=this.value,t(13,S)}const ye=()=>{F()},Ge=()=>{t(7,k=!k)},He=()=>{z==="file"?t(16,z="url"):t(16,z="file")};function Ne(ge){Lt[ge?"unshift":"push"](()=>{c=ge,t(0,c)})}function at(){Y=this.files,t(17,Y)}const Ue=()=>{console.log(Y)},$e=()=>{c.click()};function Xe(){O=this.value,t(18,O)}function _e(){B=this.value,t(19,B)}return[c,v,b,p,m,g,y,k,w,E,I,T,V,S,H,M,z,Y,O,B,G,P,C,K,l,a,o,i,J,x,Z,$,q,F,re,ie,fe,he,Se,Pe,Te,Ie,Re,be,Me,ue,ye,Ge,He,Ne,at,Ue,$e,Xe,_e,()=>{Z()}]}class oc extends _l{constructor(e){super(),vl(this,e,ic,rc,hl,{},null,[-1,-1,-1])}}function Jn(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function Qn(s,e,t){const l=s.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function uc(s){let e,t,l,a;return l=new bs({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),et(l.$$.fragment),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=_(e);t=h(i,"DIV",{class:!0});var f=_(t);tt(l.$$.fragment,f),f.forEach(u),i.forEach(u),this.h()},h(){n(t,"class","my-auto"),n(e,"class","flex h-full justify-center")},m(o,i){N(o,e,i),r(e,t),lt(l,t,null),a=!0},p:_t,i(o){a||(le(l.$$.fragment,o),a=!0)},o(o){ne(l.$$.fragment,o),a=!1},d(o){o&&u(e),st(l)}}}function cc(s){let e,t,l,a,o=s[6].t("OpenAI API")+"",i,f,c,v,b,p,m,g,y,k,w,E,I=s[6].t("Ollama API")+"",T,V,S,H,M,W,X;function z(C){s[13](C)}let Y={};s[4]!==void 0&&(Y.state=s[4]),v=new Vl({props:Y}),Lt.push(()=>Ht(v,"state",z)),v.$on("change",s[14]);let O=s[4]&&Xn(s);function B(C){s[20](C)}let G={};s[5]!==void 0&&(G.state=s[5]),H=new Vl({props:G}),Lt.push(()=>Ht(H,"state",B)),H.$on("change",s[21]);let P=s[5]&&ti(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=L(o),f=D(),c=d("div"),et(v.$$.fragment),p=D(),O&&O.c(),m=D(),g=d("hr"),y=D(),k=d("div"),w=d("div"),E=d("div"),T=L(I),V=D(),S=d("div"),et(H.$$.fragment),W=D(),P&&P.c(),this.h()},l(C){e=h(C,"DIV",{class:!0});var K=_(e);t=h(K,"DIV",{class:!0});var J=_(t);l=h(J,"DIV",{class:!0});var x=_(l);a=h(x,"DIV",{class:!0});var Z=_(a);i=U(Z,o),Z.forEach(u),f=A(x),c=h(x,"DIV",{class:!0});var $=_(c);tt(v.$$.fragment,$),$.forEach(u),x.forEach(u),p=A(J),O&&O.l(J),J.forEach(u),K.forEach(u),m=A(C),g=h(C,"HR",{class:!0}),y=A(C),k=h(C,"DIV",{class:!0});var q=_(k);w=h(q,"DIV",{class:!0});var F=_(w);E=h(F,"DIV",{class:!0});var re=_(E);T=U(re,I),re.forEach(u),V=A(F),S=h(F,"DIV",{class:!0});var ie=_(S);tt(H.$$.fragment,ie),ie.forEach(u),F.forEach(u),W=A(q),P&&P.l(q),q.forEach(u),this.h()},h(){n(a,"class","font-medium"),n(c,"class","mt-1"),n(l,"class","flex justify-between items-center text-sm"),n(t,"class","mt-2 space-y-2 pr-1.5"),n(e,"class","space-y-3"),n(g,"class","dark:border-gray-850"),n(E,"class","font-medium"),n(S,"class","mt-1"),n(w,"class","flex justify-between items-center text-sm"),n(k,"class","pr-1.5 space-y-2")},m(C,K){N(C,e,K),r(e,t),r(t,l),r(l,a),r(a,i),r(l,f),r(l,c),lt(v,c,null),r(t,p),O&&O.m(t,null),N(C,m,K),N(C,g,K),N(C,y,K),N(C,k,K),r(k,w),r(w,E),r(E,T),r(w,V),r(w,S),lt(H,S,null),r(k,W),P&&P.m(k,null),X=!0},p(C,K){(!X||K[0]&64)&&o!==(o=C[6].t("OpenAI API")+"")&&R(i,o);const J={};!b&&K[0]&16&&(b=!0,J.state=C[4],Rt(()=>b=!1)),v.$set(J),C[4]?O?(O.p(C,K),K[0]&16&&le(O,1)):(O=Xn(C),O.c(),le(O,1),O.m(t,null)):O&&(wt(),ne(O,1,1,()=>{O=null}),yt()),(!X||K[0]&64)&&I!==(I=C[6].t("Ollama API")+"")&&R(T,I);const x={};!M&&K[0]&32&&(M=!0,x.state=C[5],Rt(()=>M=!1)),H.$set(x),C[5]?P?(P.p(C,K),K[0]&32&&le(P,1)):(P=ti(C),P.c(),le(P,1),P.m(k,null)):P&&(wt(),ne(P,1,1,()=>{P=null}),yt())},i(C){X||(le(v.$$.fragment,C),le(O),le(H.$$.fragment,C),le(P),X=!0)},o(C){ne(v.$$.fragment,C),ne(O),ne(H.$$.fragment,C),ne(P),X=!1},d(C){C&&(u(e),u(m),u(g),u(y),u(k)),st(v),O&&O.d(),st(H),P&&P.d()}}}function Xn(s){let e,t,l=ot(s[2]),a=[];for(let i=0;i<l.length;i+=1)a[i]=ei(Qn(s,l,i));const o=i=>ne(a[i],1,1,()=>{a[i]=null});return{c(){e=d("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var f=_(e);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(u),this.h()},h(){n(e,"class","flex flex-col gap-1")},m(i,f){N(i,e,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(i,f){if(f[0]&590){l=ot(i[2]);let c;for(c=0;c<l.length;c+=1){const v=Qn(i,l,c);a[c]?(a[c].p(v,f),le(a[c],1)):(a[c]=ei(v),a[c].c(),le(a[c],1),a[c].m(e,null))}for(wt(),c=l.length;c<a.length;c+=1)o(c);yt()}},i(i){if(!t){for(let f=0;f<l.length;f+=1)le(a[f]);t=!0}},o(i){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)ne(a[f]);t=!1},d(i){i&&u(e),Zt(a,i)}}}function xn(s){let e,t,l;return t=new ul({props:{content:"Pipelines",$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){e=d("div"),et(t.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=_(e);tt(t.$$.fragment,o),o.forEach(u),this.h()},h(){n(e,"class","absolute top-2.5 right-2.5")},m(a,o){N(a,e,o),lt(t,e,null),l=!0},i(a){l||(le(t.$$.fragment,a),l=!0)},o(a){ne(t.$$.fragment,a),l=!1},d(a){a&&u(e),st(t)}}}function fc(s){let e,t,l,a;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),a=bt("path"),this.h()},l(o){e=Et(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=_(e);t=Et(i,"path",{d:!0}),_(t).forEach(u),l=Et(i,"path",{d:!0}),_(l).forEach(u),a=Et(i,"path",{d:!0}),_(a).forEach(u),i.forEach(u),this.h()},h(){n(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),n(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),n(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","size-4")},m(o,i){N(o,e,i),r(e,t),r(e,l),r(e,a)},p:_t,d(o){o&&u(e)}}}function dc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[18](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function hc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){N(o,e,i),l||(a=te(e,"click",s[17]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function _c(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[19](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function ei(s){let e,t,l,a,o,i,f,c,v,b,p,m,g,y,k,w,E=s[6].t("WebUI will make requests to")+"",I,T,V,S,H=s[29]+"",M,W,X,z,Y,O;function B(){s[15].call(l,s[32],s[31])}let G=s[3][s[29]]&&xn(s);function P(Z){s[16](Z,s[31])}let C={placeholder:s[6].t("API Key")};s[1][s[31]]!==void 0&&(C.value=s[1][s[31]]),c=new pl({props:C}),Lt.push(()=>Ht(c,"value",P));function K(Z,$){return Z[31]===0?hc:dc}let x=K(s)(s);return y=new ul({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[_c]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("input"),i=D(),G&&G.c(),f=D(),et(c.$$.fragment),b=D(),p=d("div"),x.c(),m=D(),g=d("div"),et(y.$$.fragment),k=D(),w=d("div"),I=L(E),T=D(),V=d("span"),S=L("'"),M=L(H),W=L("/models'"),X=D(),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var $=_(e);t=h($,"DIV",{class:!0});var q=_(t);l=h(q,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),i=A(q),G&&G.l(q),q.forEach(u),f=A($),tt(c.$$.fragment,$),b=A($),p=h($,"DIV",{class:!0});var F=_(p);x.l(F),F.forEach(u),m=A($),g=h($,"DIV",{class:!0});var re=_(g);tt(y.$$.fragment,re),re.forEach(u),$.forEach(u),k=A(Z),w=h(Z,"DIV",{class:!0});var ie=_(w);I=U(ie,E),T=A(ie),V=h(ie,"SPAN",{class:!0});var fe=_(V);S=U(fe,"'"),M=U(fe,H),W=U(fe,"/models'"),fe.forEach(u),X=A(ie),ie.forEach(u),this.h()},h(){n(l,"class",a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[6].t("API Base URL")),n(l,"autocomplete","off"),n(t,"class","flex-1 relative"),n(p,"class","self-center flex items-center"),n(g,"class","flex"),n(e,"class","flex w-full gap-2"),n(V,"class","text-gray-200"),n(w,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(Z,$){N(Z,e,$),r(e,t),r(t,l),Q(l,s[29]),r(t,i),G&&G.m(t,null),r(e,f),lt(c,e,null),r(e,b),r(e,p),x.m(p,null),r(e,m),r(e,g),lt(y,g,null),N(Z,k,$),N(Z,w,$),r(w,I),r(w,T),r(w,V),r(V,S),r(V,M),r(V,W),r(w,X),z=!0,Y||(O=te(l,"input",B),Y=!0)},p(Z,$){s=Z,(!z||$[0]&12&&a!==(a="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"))&&n(l,"class",a),(!z||$[0]&64&&o!==(o=s[6].t("API Base URL")))&&n(l,"placeholder",o),$[0]&4&&l.value!==s[29]&&Q(l,s[29]),s[3][s[29]]?G?$[0]&12&&le(G,1):(G=xn(s),G.c(),le(G,1),G.m(t,null)):G&&(wt(),ne(G,1,1,()=>{G=null}),yt());const q={};$[0]&64&&(q.placeholder=s[6].t("API Key")),!v&&$[0]&2&&(v=!0,q.value=s[1][s[31]],Rt(()=>v=!1)),c.$set(q),x.p(s,$);const F={};$[1]&4&&(F.$$scope={dirty:$,ctx:s}),y.$set(F),(!z||$[0]&64)&&E!==(E=s[6].t("WebUI will make requests to")+"")&&R(I,E),(!z||$[0]&4)&&H!==(H=s[29]+"")&&R(M,H)},i(Z){z||(le(G),le(c.$$.fragment,Z),le(y.$$.fragment,Z),z=!0)},o(Z){ne(G),ne(c.$$.fragment,Z),ne(y.$$.fragment,Z),z=!1},d(Z){Z&&(u(e),u(k),u(w)),G&&G.d(),st(c),x.d(),st(y),Y=!1,O()}}}function ti(s){let e,t,l,a,o=s[6].t("Trouble accessing Ollama?")+"",i,f,c,v=s[6].t("Click here for help.")+"",b,p,m=ot(s[0]),g=[];for(let k=0;k<m.length;k+=1)g[k]=li(Jn(s,m,k));const y=k=>ne(g[k],1,1,()=>{g[k]=null});return{c(){e=d("div"),t=d("div");for(let k=0;k<g.length;k+=1)g[k].c();l=D(),a=d("div"),i=L(o),f=D(),c=d("a"),b=L(v),this.h()},l(k){e=h(k,"DIV",{class:!0});var w=_(e);t=h(w,"DIV",{class:!0});var E=_(t);for(let V=0;V<g.length;V+=1)g[V].l(E);E.forEach(u),w.forEach(u),l=A(k),a=h(k,"DIV",{class:!0});var I=_(a);i=U(I,o),f=A(I),c=h(I,"A",{class:!0,href:!0,target:!0});var T=_(c);b=U(T,v),T.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","flex-1 flex flex-col gap-2"),n(e,"class","flex w-full gap-1.5"),n(c,"class","text-gray-300 font-medium underline"),n(c,"href","https://github.com/open-webui/open-webui#troubleshooting"),n(c,"target","_blank"),n(a,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(k,w){N(k,e,w),r(e,t);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(t,null);N(k,l,w),N(k,a,w),r(a,i),r(a,f),r(a,c),r(c,b),p=!0},p(k,w){if(w[0]&1089){m=ot(k[0]);let E;for(E=0;E<m.length;E+=1){const I=Jn(k,m,E);g[E]?(g[E].p(I,w),le(g[E],1)):(g[E]=li(I),g[E].c(),le(g[E],1),g[E].m(t,null))}for(wt(),E=m.length;E<g.length;E+=1)y(E);yt()}(!p||w[0]&64)&&o!==(o=k[6].t("Trouble accessing Ollama?")+"")&&R(i,o),(!p||w[0]&64)&&v!==(v=k[6].t("Click here for help.")+"")&&R(b,v)},i(k){if(!p){for(let w=0;w<m.length;w+=1)le(g[w]);p=!0}},o(k){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)ne(g[w]);p=!1},d(k){k&&(u(e),u(l),u(a)),Zt(g,k)}}}function vc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,a;function o(){return s[24](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function pc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(o,i){N(o,e,i),l||(a=te(e,"click",s[23]),l=!0)},p:_t,d(o){o&&u(e),l=!1,a()}}}function gc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;function o(){return s[25](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ft(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),n(e,"type","button")},m(i,f){N(i,e,f),l||(a=te(e,"click",o),l=!0)},p(i,f){s=i},d(i){i&&u(e),l=!1,a()}}}function li(s){let e,t,l,a,o,i,f,c,v,b,p,m;function g(){s[22].call(t,s[30],s[31])}function y(E,I){return E[31]===0?pc:vc}let w=y(s)(s);return c=new ul({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),a=D(),o=d("div"),w.c(),i=D(),f=d("div"),et(c.$$.fragment),v=D(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"INPUT",{class:!0,placeholder:!0}),a=A(I),o=h(I,"DIV",{class:!0});var T=_(o);w.l(T),T.forEach(u),i=A(I),f=h(I,"DIV",{class:!0});var V=_(f);tt(c.$$.fragment,V),V.forEach(u),v=A(I),I.forEach(u),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[6].t("Enter URL (e.g. http://localhost:11434)")),n(o,"class","self-center flex items-center"),n(f,"class","flex"),n(e,"class","flex gap-1.5")},m(E,I){N(E,e,I),r(e,t),Q(t,s[29]),r(e,a),r(e,o),w.m(o,null),r(e,i),r(e,f),lt(c,f,null),r(e,v),b=!0,p||(m=te(t,"input",g),p=!0)},p(E,I){s=E,(!b||I[0]&64&&l!==(l=s[6].t("Enter URL (e.g. http://localhost:11434)")))&&n(t,"placeholder",l),I[0]&1&&t.value!==s[29]&&Q(t,s[29]),w.p(s,I);const T={};I[1]&4&&(T.$$scope={dirty:I,ctx:s}),c.$set(T)},i(E){b||(le(c.$$.fragment,E),b=!0)},o(E){ne(c.$$.fragment,E),b=!1},d(E){E&&u(e),w.d(),st(c),p=!1,m()}}}function mc(s){let e,t,l,a,o,i,f,c=s[6].t("Save")+"",v,b,p,m;const g=[cc,uc],y=[];function k(w,E){return w[4]!==null&&w[5]!==null?0:1}return l=k(s),a=y[l]=g[l](s),{c(){e=d("form"),t=d("div"),a.c(),o=D(),i=d("div"),f=d("button"),v=L(c),this.h()},l(w){e=h(w,"FORM",{class:!0});var E=_(e);t=h(E,"DIV",{class:!0});var I=_(t);a.l(I),I.forEach(u),o=A(E),i=h(E,"DIV",{class:!0});var T=_(i);f=h(T,"BUTTON",{class:!0,type:!0});var V=_(f);v=U(V,c),V.forEach(u),T.forEach(u),E.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(f,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(f,"type","submit"),n(i,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(w,E){N(w,e,E),r(e,t),y[l].m(t,null),r(e,o),r(e,i),r(i,f),r(f,v),b=!0,p||(m=te(e,"submit",Ml(s[26])),p=!0)},p(w,E){let I=l;l=k(w),l===I?y[l].p(w,E):(wt(),ne(y[I],1,1,()=>{y[I]=null}),yt(),a=y[l],a?a.p(w,E):(a=y[l]=g[l](w),a.c()),le(a,1),a.m(t,null)),(!b||E[0]&64)&&c!==(c=w[6].t("Save")+"")&&R(v,c)},i(w){b||(le(a),b=!0)},o(w){ne(a),b=!1},d(w){w&&u(e),y[l].d(),p=!1,m()}}}function bc(s,e,t){let l,a;Ft(s,Ma,C=>t(27,l=C));const o=Ms(),i=El("i18n");Ft(s,i,C=>t(6,a=C));const f=async()=>await ms(localStorage.token);let c=[""],v=[""],b=[""],p={},m=null,g=null;const y=async C=>{t(2,b=b.map(J=>J.replace(/\/$/,""))),t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v));const K=await Ar(localStorage.token,C).catch(J=>(Ae.error(J),null));K&&(Ae.success(a.t("Server connection verified")),K.pipelines&&t(3,p[b[C]]=!0,p)),await nl.set(await f())},k=async C=>{t(0,c=c.filter(J=>J!=="").map(J=>J.replace(/\/$/,""))),t(0,c=await Tr(localStorage.token,c)),await Va(localStorage.token,C).catch(J=>(Ae.error(J),null))&&Ae.success(a.t("Server connection verified")),await nl.set(await f())},w=async()=>{if(t(2,b=b.map(C=>C.replace(/\/$/,""))),v.length!==b.length&&(v.length>b.length&&t(1,v=v.slice(0,b.length)),v.length<b.length)){const C=b.length-v.length;for(let K=0;K<C;K++)v.push("")}t(2,b=await Vr(localStorage.token,b)),t(1,v=await Sr(localStorage.token,v)),await nl.set(await f())},E=async()=>{t(0,c=c.filter(C=>C!=="").map(C=>C.replace(/\/$/,""))),console.log(c),c.length===0?(t(5,g=!1),await Dr(localStorage.token,g),Ae.info(a.t("Ollama API disabled"))):(t(0,c=await Tr(localStorage.token,c)),await Va(localStorage.token).catch(K=>(Ae.error(K),null))&&(Ae.success(a.t("Server connection verified")),await nl.set(await f())))};kl(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,c=await Ei(localStorage.token))})(),(async()=>{t(2,b=await ho(localStorage.token))})(),(async()=>{t(1,v=await _o(localStorage.token))})()]),b.forEach(async(J,x)=>{(await Ar(localStorage.token,x)).pipelines&&t(3,p[J]=!0,p)});const C=await bi(localStorage.token),K=await vo(localStorage.token);t(4,m=K.ENABLE_OPENAI_API),t(5,g=C.ENABLE_OLLAMA_API)}});function I(C){m=C,t(4,m)}const T=async()=>{po(localStorage.token,m)};function V(C,K){C[K]=this.value,t(2,b)}function S(C,K){s.$$.not_equal(v[K],C)&&(v[K]=C,t(1,v))}const H=()=>{t(2,b=[...b,""]),t(1,v=[...v,""])},M=C=>{t(2,b=b.filter((K,J)=>C!==J)),t(1,v=v.filter((K,J)=>C!==J))},W=C=>{y(C)};function X(C){g=C,t(5,g)}const z=async()=>{Dr(localStorage.token,g),c.length===0&&t(0,c=[""])};function Y(C,K){C[K]=this.value,t(0,c)}return[c,v,b,p,m,g,a,o,i,y,k,w,E,I,T,V,S,H,M,W,X,z,Y,()=>{t(0,c=[...c,""])},C=>{t(0,c=c.filter((K,J)=>C!==J))},C=>{k(C)},()=>{w(),E(),o("save")}]}class Ec extends _l{constructor(e){super(),vl(this,e,bc,mc,hl,{},null,[-1,-1])}}function si(s,e,t){const l=s.slice();return l[62]=e[t],l}function ai(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}

									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1u2pzpa"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-3 self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function ri(s){let e,t,l,a,o,i,f,c,v,b=s[20].t("Embedding Batch Size")+"",p,m,g,y,k,w,E,I,T,V;function S(M){s[36](M)}let H={placeholder:s[20].t("API Key")};return s[16]!==void 0&&(H.value=s[16]),o=new pl({props:H}),Lt.push(()=>Ht(o,"value",S)),{c(){e=d("div"),t=d("input"),a=D(),et(o.$$.fragment),f=D(),c=d("div"),v=d("div"),p=L(b),m=D(),g=d("div"),y=d("input"),k=D(),w=d("div"),E=d("input"),this.h()},l(M){e=h(M,"DIV",{class:!0});var W=_(e);t=h(W,"INPUT",{class:!0,placeholder:!0}),a=A(W),tt(o.$$.fragment,W),W.forEach(u),f=A(M),c=h(M,"DIV",{class:!0});var X=_(c);v=h(X,"DIV",{class:!0});var z=_(v);p=U(z,b),z.forEach(u),m=A(X),g=h(X,"DIV",{class:!0});var Y=_(g);y=h(Y,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),Y.forEach(u),k=A(X),w=h(X,"DIV",{class:!0});var O=_(w);E=h(O,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),O.forEach(u),X.forEach(u),this.h()},h(){n(t,"class","flex-1 w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder",l=s[20].t("API Base URL")),t.required=!0,n(e,"class","my-0.5 flex gap-2"),n(v,"class","self-center text-xs font-medium"),n(y,"id","steps-range"),n(y,"type","range"),n(y,"min","1"),n(y,"max","2048"),n(y,"step","1"),n(y,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),n(g,"class","flex-1"),n(E,"type","number"),n(E,"class","bg-transparent text-center w-14"),n(E,"min","-2"),n(E,"max","16000"),n(E,"step","1"),n(w,"class",""),n(c,"class","flex mt-0.5 space-x-2")},m(M,W){N(M,e,W),r(e,t),Q(t,s[17]),r(e,a),lt(o,e,null),N(M,f,W),N(M,c,W),r(c,v),r(v,p),r(c,m),r(c,g),r(g,y),Q(y,s[18]),r(c,k),r(c,w),r(w,E),Q(E,s[18]),I=!0,T||(V=[te(t,"input",s[35]),te(y,"change",s[37]),te(y,"input",s[37]),te(E,"input",s[38])],T=!0)},p(M,W){(!I||W[0]&1048576&&l!==(l=M[20].t("API Base URL")))&&n(t,"placeholder",l),W[0]&131072&&t.value!==M[17]&&Q(t,M[17]);const X={};W[0]&1048576&&(X.placeholder=M[20].t("API Key")),!i&&W[0]&65536&&(i=!0,X.value=M[16],Rt(()=>i=!1)),o.$set(X),(!I||W[0]&1048576)&&b!==(b=M[20].t("Embedding Batch Size")+"")&&R(p,b),W[0]&262144&&Q(y,M[18]),W[0]&262144&&xt(E.value)!==M[18]&&Q(E,M[18])},i(M){I||(le(o.$$.fragment,M),I=!0)},o(M){ne(o.$$.fragment,M),I=!1},d(M){M&&(u(e),u(f),u(c)),st(o),T=!1,Kt(V)}}}function kc(s){let e,t=s[20].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Off")+"")&&R(l,t)},d(a){a&&u(e)}}}function wc(s){let e,t=s[20].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("On")+"")&&R(l,t)},d(a){a&&u(e)}}}function yc(s){let e,t,l,a,o,i,f,c=s[5]===""&&ni(s);return{c(){e=d("div"),t=d("div"),l=d("input"),o=D(),c&&c.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var b=_(e);t=h(b,"DIV",{class:!0});var p=_(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(u),o=A(b),c&&c.l(b),b.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Set embedding model (e.g. {{model}})",{model:s[6].slice(-40)})),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(v,b){N(v,e,b),r(e,t),r(t,l),Q(l,s[6]),r(e,o),c&&c.m(e,null),i||(f=te(l,"input",s[41]),i=!0)},p(v,b){b[0]&3145792&&a!==(a=v[20].t("Set embedding model (e.g. {{model}})",{model:v[6].slice(-40)}))&&n(l,"placeholder",a),b[0]&2097216&&l.value!==v[6]&&Q(l,v[6]),v[5]===""?c?c.p(v,b):(c=ni(v),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(v){v&&u(e),c&&c.d(),i=!1,f()}}}function Ic(s){let e,t,l,a,o,i,f,c=!s[6]&&ii(s),v=ot(s[21].filter(hi)),b=[];for(let p=0;p<v.length;p+=1)b[p]=oi(si(s,v,p));return{c(){e=d("div"),t=d("div"),l=d("select"),c&&c.c(),a=Gt();for(let p=0;p<b.length;p+=1)b[p].c();this.h()},l(p){e=h(p,"DIV",{class:!0});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var y=_(l);c&&c.l(y),a=Gt();for(let k=0;k<b.length;k+=1)b[k].l(y);y.forEach(u),g.forEach(u),m.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",o=s[20].t("Select a model")),l.required=!0,s[6]===void 0&&Yt(()=>s[40].call(l)),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(p,m){N(p,e,m),r(e,t),r(t,l),c&&c.m(l,null),r(l,a);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(l,null);pt(l,s[6],!0),i||(f=te(l,"change",s[40]),i=!0)},p(p,m){if(p[6]?c&&(c.d(1),c=null):c?c.p(p,m):(c=ii(p),c.c(),c.m(l,a)),m[0]&2097152){v=ot(p[21].filter(hi));let g;for(g=0;g<v.length;g+=1){const y=si(p,v,g);b[g]?b[g].p(y,m):(b[g]=oi(y),b[g].c(),b[g].m(l,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=v.length}m[0]&1048576&&o!==(o=p[20].t("Select a model"))&&n(l,"placeholder",o),m[0]&2097216&&pt(l,p[6])},d(p){p&&u(e),c&&c.d(),Zt(b,p),i=!1,f()}}}function ni(s){let e,t,l;function a(f,c){return f[1]?Dc:Tc}let o=a(s),i=o(s);return{c(){e=d("button"),i.c(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var c=_(e);i.l(c),c.forEach(u),this.h()},h(){n(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[1]},m(f,c){N(f,e,c),i.m(e,null),t||(l=te(e,"click",s[42]),t=!0)},p(f,c){o!==(o=a(f))&&(i.d(1),i=o(f),i&&(i.c(),i.m(e,null))),c[0]&2&&(e.disabled=f[1])},d(f){f&&u(e),i.d(),t=!1,l()}}}function Tc(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Dc(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function ii(s){let e,t=s[20].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value="",Q(e,e.__value),e.disabled=!0,e.selected=!0},m(a,o){N(a,e,o),r(e,l)},p(a,o){o[0]&1048576&&t!==(t=a[20].t("Select a model")+"")&&R(l,t)},d(a){a&&u(e)}}}function oi(s){let e,t=s[62].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var i=_(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=a=s[62].id,Q(e,e.__value),n(e,"class","bg-gray-50 dark:bg-gray-700")},m(o,i){N(o,e,i),r(e,l)},p(o,i){i[0]&2097152&&t!==(t=o[62].name+"")&&R(l,t),i[0]&2097152&&a!==(a=o[62].id)&&(e.__value=a,Q(e,e.__value))},d(o){o&&u(e)}}}function ui(s){let e,t,l=s[20].t("Reranking Model")+"",a,o,i,f,c,v,b,p,m,g;function y(E,I){return E[2]?Vc:Ac}let k=y(s),w=k(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("input"),b=D(),p=d("button"),w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=_(e);t=h(I,"DIV",{class:!0});var T=_(t);a=U(T,l),T.forEach(u),o=A(I),i=h(I,"DIV",{class:!0});var V=_(i);f=h(V,"DIV",{class:!0});var S=_(f);c=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),b=A(V),p=h(V,"BUTTON",{class:!0});var H=_(p);w.l(H),H.forEach(u),V.forEach(u),I.forEach(u),this.h()},h(){n(t,"class","mb-2 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder",v=s[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),n(f,"class","flex-1 mr-2"),n(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[2],n(i,"class","flex w-full"),n(e,"class","")},m(E,I){N(E,e,I),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),Q(c,s[7]),r(i,b),r(i,p),w.m(p,null),m||(g=[te(c,"input",s[43]),te(p,"click",s[44])],m=!0)},p(E,I){I[0]&1048576&&l!==(l=E[20].t("Reranking Model")+"")&&R(a,l),I[0]&1048576&&v!==(v=E[20].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&n(c,"placeholder",v),I[0]&128&&c.value!==E[7]&&Q(c,E[7]),k!==(k=y(E))&&(w.d(1),w=k(E),w&&(w.c(),w.m(p,null))),I[0]&4&&(p.disabled=E[2])},d(E){E&&u(e),w.d(),m=!1,Kt(g)}}}function Ac(s){let e,t,l;return{c(){e=bt("svg"),t=bt("path"),l=bt("path"),this.h()},l(a){e=Et(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=_(e);t=Et(o,"path",{d:!0}),_(t).forEach(u),l=Et(o,"path",{d:!0}),_(l).forEach(u),o.forEach(u),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(a,o){N(a,e,o),r(e,t),r(e,l)},d(a){a&&u(e)}}}function Vc(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,a){N(l,e,a)},d(l){l&&u(e)}}}function ci(s){let e,t,l,a,o,i;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=h(f,"DIV",{class:!0});var c=_(e);t=h(c,"DIV",{class:!0});var v=_(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),c.forEach(u),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder",a=s[20].t("Enter Tika Server URL")),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full mt-2")},m(f,c){N(f,e,c),r(e,t),r(t,l),Q(l,s[11]),o||(i=te(l,"input",s[47]),o=!0)},p(f,c){c[0]&1048576&&a!==(a=f[20].t("Enter Tika Server URL"))&&n(l,"placeholder",a),c[0]&2048&&l.value!==f[11]&&Q(l,f[11])},d(f){f&&u(e),o=!1,i()}}}function Sc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){N(o,e,i),Q(e,s[8]),l||(a=te(e,"input",s[48]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&256&&xt(e.value)!==o[8]&&Q(e,o[8])},d(o){o&&u(e),l=!1,a()}}}function Mc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(o){e=h(o,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){n(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(e,"type","number"),n(e,"placeholder",t=s[20].t("Leave empty for unlimited")),n(e,"autocomplete","off"),n(e,"min","0")},m(o,i){N(o,e,i),Q(e,s[9]),l||(a=te(e,"input",s[49]),l=!0)},p(o,i){i[0]&1048576&&t!==(t=o[20].t("Leave empty for unlimited"))&&n(e,"placeholder",t),i[0]&512&&xt(e.value)!==o[9]&&Q(e,o[9])},d(o){o&&u(e),l=!1,a()}}}function fi(s){let e,t,l=s[20].t("Minimum Score")+"",a,o,i,f,c,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("input"),this.h()},l(m){e=h(m,"DIV",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);f=h(k,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium min-w-fit"),n(f,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"type","number"),n(f,"step","0.01"),n(f,"placeholder",c=s[20].t("Enter Score")),n(f,"autocomplete","off"),n(f,"min","0.0"),n(f,"title",v=s[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),n(i,"class","self-center p-3"),n(e,"class","flex w-full justify-between")},m(m,g){N(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),Q(f,s[19].r),b||(p=te(f,"input",s[51]),b=!0)},p(m,g){g[0]&1048576&&l!==(l=m[20].t("Minimum Score")+"")&&R(a,l),g[0]&1048576&&c!==(c=m[20].t("Enter Score"))&&n(f,"placeholder",c),g[0]&1048576&&v!==(v=m[20].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&n(f,"title",v),g[0]&524288&&xt(f.value)!==m[19].r&&Q(f,m[19].r)},d(m){m&&u(e),b=!1,p()}}}function di(s){let e,t=s[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,a,o;return{c(){e=d("div"),l=L(t),a=D(),o=d("hr"),this.h()},l(i){e=h(i,"DIV",{class:!0});var f=_(e);l=U(f,t),f.forEach(u),a=A(i),o=h(i,"HR",{class:!0}),this.h()},h(){n(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(o,"class","dark:border-gray-850 my-3")},m(i,f){N(i,e,f),r(e,l),N(i,a,f),N(i,o,f)},p(i,f){f[0]&1048576&&t!==(t=i[20].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&R(l,t)},d(i){i&&(u(e),u(a),u(o))}}}function Oc(s){let e,t,l,a,o,i,f,c,v,b,p=s[20].t("General Settings")+"",m,g,y,k,w=s[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"",E,I,T,V,S=s[20].t("Scan")+"",H,M,W,X,z,Y,O=s[20].t("Embedding Model Engine")+"",B,G,P,C,K,J=s[20].t("Default (SentenceTransformers)")+"",x,Z,$=s[20].t("Ollama")+"",q,F,re=s[20].t("OpenAI")+"",ie,fe,he,Se,Pe,Te=s[20].t("Hybrid Search")+"",Ie,Re,be,Me,ue,ye,Ge,He,Ne,at,Ue=s[20].t("Embedding Model")+"",$e,Xe,_e,Oe,ge=s[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ce,Ee,ae,ke,ze,Ve,ve,de=s[20].t("Content Extraction")+"",Ce,Fe,qe,We,ut=s[20].t("Engine")+"",nt,it,Qe,Ye,we,ct=s[20].t("Default")+"",xe,je,oe,ee=s[20].t("Tika")+"",j,se,pe,Ke,gt,Tt,Dt,St=s[20].t("Files")+"",Pt,Bt,Mt,Le,De,It=s[20].t("Max Upload Size")+"",At,$t,vt,ht,mt,rt,Ut,Ct=s[20].t("Max Upload Count")+"",Wt,Ot,Nt,Be,Je,dt,Jt,jt,Qt,wl=s[20].t("Query Params")+"",gl,yl,Xt,el,ol,Il=s[20].t("Top K")+"",ml,ts,Tl,tl,Cl,ls,Bl,ql,bl,Rl,Ol=s[20].t("RAG Template")+"",Yl,ss,Hl,fa,Os,da,Pl,as,Es=s[20].t("Chunk Params")+"",Ps,ha,$l,jl,rs,ks=s[20].t("Chunk Size")+"",Ns,_a,ns,cl,Ls,va,Zl,is,ws=s[20].t("Chunk Overlap")+"",Us,pa,os,fl,Cs,ga,us,Gl,cs,ys=s[20].t("PDF Extract Images (OCR)")+"",Rs,ma,Kl,Is=(s[15]?s[20].t("On"):s[20].t("Off"))+"",Hs,ba,Bs,Ea,Jl,Nl,Ql,Oa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ka,fs,Ts=s[20].t("Reset Upload Directory")+"",$s,wa,Ll,Xl,Pa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',ya,ds,Ds=s[20].t("Reset Vector Storage")+"",js,Ia,hs,xl,As=s[20].t("Save")+"",Zs,kt,Ta,Na;function yi(me){s[28](me)}let La={};s[4]!==void 0&&(La.show=s[4]),e=new Sa({props:La}),Lt.push(()=>Ht(e,"show",yi)),e.$on("confirm",s[29]);function Ii(me){s[30](me)}let Ua={};s[3]!==void 0&&(Ua.show=s[3]),a=new Sa({props:Ua}),Lt.push(()=>Ht(a,"show",Ii)),a.$on("confirm",s[31]);let il=s[0]&&ai(),zt=s[5]==="openai"&&ri(s);function Ca(me,Ze){return me[19].hybrid===!0?wc:kc}let Gs=Ca(s),Dl=Gs(s);function Ra(me,Ze){return me[5]==="ollama"?Ic:yc}let Ks=Ra(s),Al=Ks(s),ll=s[19].hybrid===!0&&ui(s),sl=s[12]&&ci(s);ht=new ul({props:{content:s[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[Sc]},$$scope:{ctx:s}}}),Be=new ul({props:{content:s[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[Mc]},$$scope:{ctx:s}}});let al=s[19].hybrid===!0&&fi(s),rl=s[19].hybrid===!0&&di(s);return{c(){et(e.$$.fragment),l=D(),et(a.$$.fragment),i=D(),f=d("form"),c=d("div"),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),E=L(w),I=D(),T=d("button"),V=d("div"),H=L(S),M=D(),il&&il.c(),X=D(),z=d("div"),Y=d("div"),B=L(O),G=D(),P=d("div"),C=d("select"),K=d("option"),x=L(J),Z=d("option"),q=L($),F=d("option"),ie=L(re),fe=D(),zt&&zt.c(),he=D(),Se=d("div"),Pe=d("div"),Ie=L(Te),Re=D(),be=d("button"),Dl.c(),Me=D(),ue=d("hr"),ye=D(),Ge=d("div"),He=D(),Ne=d("div"),at=d("div"),$e=L(Ue),Xe=D(),Al.c(),_e=D(),Oe=d("div"),ce=L(ge),Ee=D(),ll&&ll.c(),ae=D(),ke=d("hr"),ze=D(),Ve=d("div"),ve=d("div"),Ce=L(de),Fe=D(),qe=d("div"),We=d("div"),nt=L(ut),it=D(),Qe=d("div"),Ye=d("select"),we=d("option"),xe=L(ct),je=D(),oe=d("option"),j=L(ee),se=D(),sl&&sl.c(),pe=D(),Ke=d("hr"),gt=D(),Tt=d("div"),Dt=d("div"),Pt=L(St),Bt=D(),Mt=d("div"),Le=d("div"),De=d("div"),At=L(It),$t=D(),vt=d("div"),et(ht.$$.fragment),mt=D(),rt=d("div"),Ut=d("div"),Wt=L(Ct),Ot=D(),Nt=d("div"),et(Be.$$.fragment),Je=D(),dt=d("hr"),Jt=D(),jt=d("div"),Qt=d("div"),gl=L(wl),yl=D(),Xt=d("div"),el=d("div"),ol=d("div"),ml=L(Il),ts=D(),Tl=d("div"),tl=d("input"),ls=D(),al&&al.c(),Bl=D(),rl&&rl.c(),ql=D(),bl=d("div"),Rl=d("div"),Yl=L(Ol),ss=D(),Hl=d("textarea"),fa=D(),Os=d("hr"),da=D(),Pl=d("div"),as=d("div"),Ps=L(Es),ha=D(),$l=d("div"),jl=d("div"),rs=d("div"),Ns=L(ks),_a=D(),ns=d("div"),cl=d("input"),va=D(),Zl=d("div"),is=d("div"),Us=L(ws),pa=D(),os=d("div"),fl=d("input"),ga=D(),us=d("div"),Gl=d("div"),cs=d("div"),Rs=L(ys),ma=D(),Kl=d("button"),Hs=L(Is),ba=D(),Bs=d("hr"),Ea=D(),Jl=d("div"),Nl=d("button"),Ql=d("div"),Ql.innerHTML=Oa,ka=D(),fs=d("div"),$s=L(Ts),wa=D(),Ll=d("button"),Xl=d("div"),Xl.innerHTML=Pa,ya=D(),ds=d("div"),js=L(Ds),Ia=D(),hs=d("div"),xl=d("button"),Zs=L(As),this.h()},l(me){tt(e.$$.fragment,me),l=A(me),tt(a.$$.fragment,me),i=A(me),f=h(me,"FORM",{class:!0});var Ze=_(f);c=h(Ze,"DIV",{class:!0});var Vt=_(c);v=h(Vt,"DIV",{class:!0});var dl=_(v);b=h(dl,"DIV",{class:!0});var _s=_(b);m=U(_s,p),_s.forEach(u),g=A(dl),y=h(dl,"DIV",{class:!0});var Wl=_(y);k=h(Wl,"DIV",{class:!0});var Ha=_(k);E=U(Ha,w),Ha.forEach(u),I=A(Wl),T=h(Wl,"BUTTON",{class:!0,type:!0});var Ws=_(T);V=h(Ws,"DIV",{class:!0});var Ba=_(V);H=U(Ba,S),Ba.forEach(u),M=A(Ws),il&&il.l(Ws),Ws.forEach(u),Wl.forEach(u),X=A(dl),z=h(dl,"DIV",{class:!0});var Fs=_(z);Y=h(Fs,"DIV",{class:!0});var $a=_(Y);B=U($a,O),$a.forEach(u),G=A(Fs),P=h(Fs,"DIV",{class:!0});var ja=_(P);C=h(ja,"SELECT",{class:!0,placeholder:!0});var zs=_(C);K=h(zs,"OPTION",{});var Za=_(K);x=U(Za,J),Za.forEach(u),Z=h(zs,"OPTION",{});var Ga=_(Z);q=U(Ga,$),Ga.forEach(u),F=h(zs,"OPTION",{});var Ka=_(F);ie=U(Ka,re),Ka.forEach(u),zs.forEach(u),ja.forEach(u),Fs.forEach(u),fe=A(dl),zt&&zt.l(dl),he=A(dl),Se=h(dl,"DIV",{class:!0});var qs=_(Se);Pe=h(qs,"DIV",{class:!0});var Wa=_(Pe);Ie=U(Wa,Te),Wa.forEach(u),Re=A(qs),be=h(qs,"BUTTON",{class:!0,type:!0});var Fa=_(be);Dl.l(Fa),Fa.forEach(u),qs.forEach(u),dl.forEach(u),Me=A(Vt),ue=h(Vt,"HR",{class:!0}),ye=A(Vt),Ge=h(Vt,"DIV",{class:!0}),_(Ge).forEach(u),He=A(Vt),Ne=h(Vt,"DIV",{});var Fl=_(Ne);at=h(Fl,"DIV",{class:!0});var za=_(at);$e=U(za,Ue),za.forEach(u),Xe=A(Fl),Al.l(Fl),_e=A(Fl),Oe=h(Fl,"DIV",{class:!0});var qa=_(Oe);ce=U(qa,ge),qa.forEach(u),Ee=A(Fl),ll&&ll.l(Fl),Fl.forEach(u),ae=A(Vt),ke=h(Vt,"HR",{class:!0}),ze=A(Vt),Ve=h(Vt,"DIV",{class:!0});var vs=_(Ve);ve=h(vs,"DIV",{class:!0});var Ya=_(ve);Ce=U(Ya,de),Ya.forEach(u),Fe=A(vs),qe=h(vs,"DIV",{class:!0});var Ys=_(qe);We=h(Ys,"DIV",{class:!0});var Ja=_(We);nt=U(Ja,ut),Ja.forEach(u),it=A(Ys),Qe=h(Ys,"DIV",{class:!0});var Qa=_(Qe);Ye=h(Qa,"SELECT",{class:!0});var Da=_(Ye);we=h(Da,"OPTION",{});var Aa=_(we);xe=U(Aa,ct),je=A(Aa),Aa.forEach(u),oe=h(Da,"OPTION",{});var Xa=_(oe);j=U(Xa,ee),Xa.forEach(u),Da.forEach(u),Qa.forEach(u),Ys.forEach(u),se=A(vs),sl&&sl.l(vs),vs.forEach(u),pe=A(Vt),Ke=h(Vt,"HR",{class:!0}),gt=A(Vt),Tt=h(Vt,"DIV",{class:!0});var Js=_(Tt);Dt=h(Js,"DIV",{class:!0});var xa=_(Dt);Pt=U(xa,St),xa.forEach(u),Bt=A(Js),Mt=h(Js,"DIV",{class:!0});var Qs=_(Mt);Le=h(Qs,"DIV",{class:!0});var Xs=_(Le);De=h(Xs,"DIV",{class:!0});var er=_(De);At=U(er,It),er.forEach(u),$t=A(Xs),vt=h(Xs,"DIV",{class:!0});var tr=_(vt);tt(ht.$$.fragment,tr),tr.forEach(u),Xs.forEach(u),mt=A(Qs),rt=h(Qs,"DIV",{class:!0});var xs=_(rt);Ut=h(xs,"DIV",{class:!0});var lr=_(Ut);Wt=U(lr,Ct),lr.forEach(u),Ot=A(xs),Nt=h(xs,"DIV",{class:!0});var sr=_(Nt);tt(Be.$$.fragment,sr),sr.forEach(u),xs.forEach(u),Qs.forEach(u),Js.forEach(u),Je=A(Vt),dt=h(Vt,"HR",{class:!0}),Jt=A(Vt),jt=h(Vt,"DIV",{class:!0});var zl=_(jt);Qt=h(zl,"DIV",{class:!0});var ar=_(Qt);gl=U(ar,wl),ar.forEach(u),yl=A(zl),Xt=h(zl,"DIV",{class:!0});var ea=_(Xt);el=h(ea,"DIV",{class:!0});var ta=_(el);ol=h(ta,"DIV",{class:!0});var rr=_(ol);ml=U(rr,Il),rr.forEach(u),ts=A(ta),Tl=h(ta,"DIV",{class:!0});var nr=_(Tl);tl=h(nr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),nr.forEach(u),ta.forEach(u),ls=A(ea),al&&al.l(ea),ea.forEach(u),Bl=A(zl),rl&&rl.l(zl),ql=A(zl),bl=h(zl,"DIV",{});var la=_(bl);Rl=h(la,"DIV",{class:!0});var ir=_(Rl);Yl=U(ir,Ol),ir.forEach(u),ss=A(la),Hl=h(la,"TEXTAREA",{class:!0,rows:!0}),_(Hl).forEach(u),la.forEach(u),zl.forEach(u),fa=A(Vt),Os=h(Vt,"HR",{class:!0}),da=A(Vt),Pl=h(Vt,"DIV",{class:!0});var ps=_(Pl);as=h(ps,"DIV",{class:!0});var or=_(as);Ps=U(or,Es),or.forEach(u),ha=A(ps),$l=h(ps,"DIV",{class:!0});var sa=_($l);jl=h(sa,"DIV",{class:!0});var aa=_(jl);rs=h(aa,"DIV",{class:!0});var ur=_(rs);Ns=U(ur,ks),ur.forEach(u),_a=A(aa),ns=h(aa,"DIV",{class:!0});var cr=_(ns);cl=h(cr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),cr.forEach(u),aa.forEach(u),va=A(sa),Zl=h(sa,"DIV",{class:!0});var ra=_(Zl);is=h(ra,"DIV",{class:!0});var fr=_(is);Us=U(fr,ws),fr.forEach(u),pa=A(ra),os=h(ra,"DIV",{class:!0});var dr=_(os);fl=h(dr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),dr.forEach(u),ra.forEach(u),sa.forEach(u),ga=A(ps),us=h(ps,"DIV",{class:!0});var hr=_(us);Gl=h(hr,"DIV",{class:!0});var na=_(Gl);cs=h(na,"DIV",{class:!0});var _r=_(cs);Rs=U(_r,ys),_r.forEach(u),ma=A(na),Kl=h(na,"BUTTON",{class:!0,type:!0});var vr=_(Kl);Hs=U(vr,Is),vr.forEach(u),na.forEach(u),hr.forEach(u),ps.forEach(u),ba=A(Vt),Bs=h(Vt,"HR",{class:!0}),Ea=A(Vt),Jl=h(Vt,"DIV",{});var ia=_(Jl);Nl=h(ia,"BUTTON",{class:!0,type:!0});var oa=_(Nl);Ql=h(oa,"DIV",{class:!0,"data-svelte-h":!0}),ft(Ql)!=="svelte-1m6igha"&&(Ql.innerHTML=Oa),ka=A(oa),fs=h(oa,"DIV",{class:!0});var pr=_(fs);$s=U(pr,Ts),pr.forEach(u),oa.forEach(u),wa=A(ia),Ll=h(ia,"BUTTON",{class:!0,type:!0});var ua=_(Ll);Xl=h(ua,"DIV",{class:!0,"data-svelte-h":!0}),ft(Xl)!=="svelte-16tyzd9"&&(Xl.innerHTML=Pa),ya=A(ua),ds=h(ua,"DIV",{class:!0});var gr=_(ds);js=U(gr,Ds),gr.forEach(u),ua.forEach(u),ia.forEach(u),Vt.forEach(u),Ia=A(Ze),hs=h(Ze,"DIV",{class:!0});var mr=_(hs);xl=h(mr,"BUTTON",{class:!0,type:!0});var br=_(xl);Zs=U(br,As),br.forEach(u),mr.forEach(u),Ze.forEach(u),this.h()},h(){n(b,"class","mb-0.5 text-sm font-medium"),n(k,"class","self-center text-xs font-medium"),n(V,"class","self-center font-medium"),n(T,"class",W="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(T,"type","button"),T.disabled=s[0],n(y,"class","flex w-full justify-between"),n(Y,"class","self-center text-xs font-medium"),K.__value="",Q(K,K.__value),Z.__value="ollama",Q(Z,Z.__value),F.__value="openai",Q(F,F.__value),n(C,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(C,"placeholder","Select an embedding model engine"),s[5]===void 0&&Yt(()=>s[33].call(C)),n(P,"class","flex items-center relative"),n(z,"class","flex w-full justify-between"),n(Pe,"class","self-center text-xs font-medium"),n(be,"class","p-1 px-3 text-xs flex rounded transition"),n(be,"type","button"),n(Se,"class","flex w-full justify-between"),n(v,"class","flex flex-col gap-0.5"),n(ue,"class","dark:border-gray-850"),n(Ge,"class","space-y-2"),n(at,"class","mb-2 text-sm font-medium"),n(Oe,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(ke,"class","dark:border-gray-850"),n(ve,"class","text-sm font-medium"),n(We,"class","self-center text-xs font-medium"),we.__value="",Q(we,we.__value),oe.__value="tika",Q(oe,oe.__value),n(Ye,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),s[10]===void 0&&Yt(()=>s[45].call(Ye)),n(Qe,"class","flex items-center relative"),n(qe,"class","flex w-full justify-between mt-2"),n(Ve,"class",""),n(Ke,"class","dark:border-gray-850"),n(Dt,"class","text-sm font-medium"),n(De,"class","self-center text-xs font-medium min-w-fit mb-1"),n(vt,"class","self-center"),n(Le,"class","w-full"),n(Ut,"class","self-center text-xs font-medium min-w-fit mb-1"),n(Nt,"class","self-center"),n(rt,"class","w-full"),n(Mt,"class","my-2 flex gap-1.5"),n(Tt,"class",""),n(dt,"class","dark:border-gray-850"),n(Qt,"class","text-sm font-medium"),n(ol,"class","self-center text-xs font-medium min-w-fit"),n(tl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(tl,"type","number"),n(tl,"placeholder",Cl=s[20].t("Enter Top K")),n(tl,"autocomplete","off"),n(tl,"min","0"),n(Tl,"class","self-center p-3"),n(el,"class","flex w-full justify-between"),n(Xt,"class","flex gap-1"),n(Rl,"class","mb-2.5 text-sm font-medium"),n(Hl,"class","w-full rounded-lg px-4 py-3 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),n(Hl,"rows","4"),n(jt,"class",""),n(Os,"class","dark:border-gray-850"),n(as,"class","text-sm font-medium"),n(rs,"class","self-center text-xs font-medium min-w-fit mb-1"),n(cl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(cl,"type","number"),n(cl,"placeholder",Ls=s[20].t("Enter Chunk Size")),n(cl,"autocomplete","off"),n(cl,"min","0"),n(ns,"class","self-center"),n(jl,"class","w-full justify-between"),n(is,"class","self-center text-xs font-medium min-w-fit mb-1"),n(fl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(fl,"type","number"),n(fl,"placeholder",Cs=s[20].t("Enter Chunk Overlap")),n(fl,"autocomplete","off"),n(fl,"min","0"),n(os,"class","self-center"),n(Zl,"class","w-full"),n($l,"class","my-2 flex gap-1.5"),n(cs,"class","text-xs font-medium"),n(Kl,"class","text-xs font-medium text-gray-500"),n(Kl,"type","button"),n(Gl,"class","flex justify-between items-center text-xs"),n(us,"class","my-3"),n(Pl,"class",""),n(Bs,"class","dark:border-gray-850"),n(Ql,"class","self-center mr-3"),n(fs,"class","self-center text-sm font-medium"),n(Nl,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Nl,"type","button"),n(Xl,"class","self-center mr-3"),n(ds,"class","self-center text-sm font-medium"),n(Ll,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(Ll,"type","button"),n(c,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),n(xl,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(xl,"type","submit"),n(hs,"class","flex justify-end pt-3 text-sm font-medium"),n(f,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(me,Ze){lt(e,me,Ze),N(me,l,Ze),lt(a,me,Ze),N(me,i,Ze),N(me,f,Ze),r(f,c),r(c,v),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,E),r(y,I),r(y,T),r(T,V),r(V,H),r(T,M),il&&il.m(T,null),r(v,X),r(v,z),r(z,Y),r(Y,B),r(z,G),r(z,P),r(P,C),r(C,K),r(K,x),r(C,Z),r(Z,q),r(C,F),r(F,ie),pt(C,s[5],!0),r(v,fe),zt&&zt.m(v,null),r(v,he),r(v,Se),r(Se,Pe),r(Pe,Ie),r(Se,Re),r(Se,be),Dl.m(be,null),r(c,Me),r(c,ue),r(c,ye),r(c,Ge),r(c,He),r(c,Ne),r(Ne,at),r(at,$e),r(Ne,Xe),Al.m(Ne,null),r(Ne,_e),r(Ne,Oe),r(Oe,ce),r(Ne,Ee),ll&&ll.m(Ne,null),r(c,ae),r(c,ke),r(c,ze),r(c,Ve),r(Ve,ve),r(ve,Ce),r(Ve,Fe),r(Ve,qe),r(qe,We),r(We,nt),r(qe,it),r(qe,Qe),r(Qe,Ye),r(Ye,we),r(we,xe),r(we,je),r(Ye,oe),r(oe,j),pt(Ye,s[10],!0),r(Ve,se),sl&&sl.m(Ve,null),r(c,pe),r(c,Ke),r(c,gt),r(c,Tt),r(Tt,Dt),r(Dt,Pt),r(Tt,Bt),r(Tt,Mt),r(Mt,Le),r(Le,De),r(De,At),r(Le,$t),r(Le,vt),lt(ht,vt,null),r(Mt,mt),r(Mt,rt),r(rt,Ut),r(Ut,Wt),r(rt,Ot),r(rt,Nt),lt(Be,Nt,null),r(c,Je),r(c,dt),r(c,Jt),r(c,jt),r(jt,Qt),r(Qt,gl),r(jt,yl),r(jt,Xt),r(Xt,el),r(el,ol),r(ol,ml),r(el,ts),r(el,Tl),r(Tl,tl),Q(tl,s[19].k),r(Xt,ls),al&&al.m(Xt,null),r(jt,Bl),rl&&rl.m(jt,null),r(jt,ql),r(jt,bl),r(bl,Rl),r(Rl,Yl),r(bl,ss),r(bl,Hl),Q(Hl,s[19].template),r(c,fa),r(c,Os),r(c,da),r(c,Pl),r(Pl,as),r(as,Ps),r(Pl,ha),r(Pl,$l),r($l,jl),r(jl,rs),r(rs,Ns),r(jl,_a),r(jl,ns),r(ns,cl),Q(cl,s[13]),r($l,va),r($l,Zl),r(Zl,is),r(is,Us),r(Zl,pa),r(Zl,os),r(os,fl),Q(fl,s[14]),r(Pl,ga),r(Pl,us),r(us,Gl),r(Gl,cs),r(cs,Rs),r(Gl,ma),r(Gl,Kl),r(Kl,Hs),r(c,ba),r(c,Bs),r(c,Ea),r(c,Jl),r(Jl,Nl),r(Nl,Ql),r(Nl,ka),r(Nl,fs),r(fs,$s),r(Jl,wa),r(Jl,Ll),r(Ll,Xl),r(Ll,ya),r(Ll,ds),r(ds,js),r(f,Ia),r(f,hs),r(hs,xl),r(xl,Zs),kt=!0,Ta||(Na=[te(T,"click",s[32]),te(C,"change",s[33]),te(C,"change",s[34]),te(be,"click",s[39]),te(Ye,"change",s[45]),te(Ye,"change",s[46]),te(tl,"input",s[50]),te(Hl,"input",s[52]),te(cl,"input",s[53]),te(fl,"input",s[54]),te(Kl,"click",s[55]),te(Nl,"click",s[56]),te(Ll,"click",s[57]),te(f,"submit",Ml(s[58]))],Ta=!0)},p(me,Ze){const Vt={};!t&&Ze[0]&16&&(t=!0,Vt.show=me[4],Rt(()=>t=!1)),e.$set(Vt);const dl={};!o&&Ze[0]&8&&(o=!0,dl.show=me[3],Rt(()=>o=!1)),a.$set(dl),(!kt||Ze[0]&1048576)&&p!==(p=me[20].t("General Settings")+"")&&R(m,p),(!kt||Ze[0]&1048576)&&w!==(w=me[20].t("Scan for documents from {{path}}",{path:"DOCS_DIR (/data/docs)"})+"")&&R(E,w),(!kt||Ze[0]&1048576)&&S!==(S=me[20].t("Scan")+"")&&R(H,S),me[0]?il||(il=ai(),il.c(),il.m(T,null)):il&&(il.d(1),il=null),(!kt||Ze[0]&1&&W!==(W="self-center text-xs p-1 px-3 bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(me[0]?" cursor-not-allowed":"")))&&n(T,"class",W),(!kt||Ze[0]&1)&&(T.disabled=me[0]),(!kt||Ze[0]&1048576)&&O!==(O=me[20].t("Embedding Model Engine")+"")&&R(B,O),(!kt||Ze[0]&1048576)&&J!==(J=me[20].t("Default (SentenceTransformers)")+"")&&R(x,J),(!kt||Ze[0]&1048576)&&$!==($=me[20].t("Ollama")+"")&&R(q,$),(!kt||Ze[0]&1048576)&&re!==(re=me[20].t("OpenAI")+"")&&R(ie,re),Ze[0]&32&&pt(C,me[5]),me[5]==="openai"?zt?(zt.p(me,Ze),Ze[0]&32&&le(zt,1)):(zt=ri(me),zt.c(),le(zt,1),zt.m(v,he)):zt&&(wt(),ne(zt,1,1,()=>{zt=null}),yt()),(!kt||Ze[0]&1048576)&&Te!==(Te=me[20].t("Hybrid Search")+"")&&R(Ie,Te),Gs===(Gs=Ca(me))&&Dl?Dl.p(me,Ze):(Dl.d(1),Dl=Gs(me),Dl&&(Dl.c(),Dl.m(be,null))),(!kt||Ze[0]&1048576)&&Ue!==(Ue=me[20].t("Embedding Model")+"")&&R($e,Ue),Ks===(Ks=Ra(me))&&Al?Al.p(me,Ze):(Al.d(1),Al=Ks(me),Al&&(Al.c(),Al.m(Ne,_e))),(!kt||Ze[0]&1048576)&&ge!==(ge=me[20].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&R(ce,ge),me[19].hybrid===!0?ll?ll.p(me,Ze):(ll=ui(me),ll.c(),ll.m(Ne,null)):ll&&(ll.d(1),ll=null),(!kt||Ze[0]&1048576)&&de!==(de=me[20].t("Content Extraction")+"")&&R(Ce,de),(!kt||Ze[0]&1048576)&&ut!==(ut=me[20].t("Engine")+"")&&R(nt,ut),(!kt||Ze[0]&1048576)&&ct!==(ct=me[20].t("Default")+"")&&R(xe,ct),(!kt||Ze[0]&1048576)&&ee!==(ee=me[20].t("Tika")+"")&&R(j,ee),Ze[0]&1024&&pt(Ye,me[10]),me[12]?sl?sl.p(me,Ze):(sl=ci(me),sl.c(),sl.m(Ve,null)):sl&&(sl.d(1),sl=null),(!kt||Ze[0]&1048576)&&St!==(St=me[20].t("Files")+"")&&R(Pt,St),(!kt||Ze[0]&1048576)&&It!==(It=me[20].t("Max Upload Size")+"")&&R(At,It);const _s={};Ze[0]&1048576&&(_s.content=me[20].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),Ze[0]&1048832|Ze[2]&8&&(_s.$$scope={dirty:Ze,ctx:me}),ht.$set(_s),(!kt||Ze[0]&1048576)&&Ct!==(Ct=me[20].t("Max Upload Count")+"")&&R(Wt,Ct);const Wl={};Ze[0]&1048576&&(Wl.content=me[20].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),Ze[0]&1049088|Ze[2]&8&&(Wl.$$scope={dirty:Ze,ctx:me}),Be.$set(Wl),(!kt||Ze[0]&1048576)&&wl!==(wl=me[20].t("Query Params")+"")&&R(gl,wl),(!kt||Ze[0]&1048576)&&Il!==(Il=me[20].t("Top K")+"")&&R(ml,Il),(!kt||Ze[0]&1048576&&Cl!==(Cl=me[20].t("Enter Top K")))&&n(tl,"placeholder",Cl),Ze[0]&524288&&xt(tl.value)!==me[19].k&&Q(tl,me[19].k),me[19].hybrid===!0?al?al.p(me,Ze):(al=fi(me),al.c(),al.m(Xt,null)):al&&(al.d(1),al=null),me[19].hybrid===!0?rl?rl.p(me,Ze):(rl=di(me),rl.c(),rl.m(jt,ql)):rl&&(rl.d(1),rl=null),(!kt||Ze[0]&1048576)&&Ol!==(Ol=me[20].t("RAG Template")+"")&&R(Yl,Ol),Ze[0]&524288&&Q(Hl,me[19].template),(!kt||Ze[0]&1048576)&&Es!==(Es=me[20].t("Chunk Params")+"")&&R(Ps,Es),(!kt||Ze[0]&1048576)&&ks!==(ks=me[20].t("Chunk Size")+"")&&R(Ns,ks),(!kt||Ze[0]&1048576&&Ls!==(Ls=me[20].t("Enter Chunk Size")))&&n(cl,"placeholder",Ls),Ze[0]&8192&&xt(cl.value)!==me[13]&&Q(cl,me[13]),(!kt||Ze[0]&1048576)&&ws!==(ws=me[20].t("Chunk Overlap")+"")&&R(Us,ws),(!kt||Ze[0]&1048576&&Cs!==(Cs=me[20].t("Enter Chunk Overlap")))&&n(fl,"placeholder",Cs),Ze[0]&16384&&xt(fl.value)!==me[14]&&Q(fl,me[14]),(!kt||Ze[0]&1048576)&&ys!==(ys=me[20].t("PDF Extract Images (OCR)")+"")&&R(Rs,ys),(!kt||Ze[0]&1081344)&&Is!==(Is=(me[15]?me[20].t("On"):me[20].t("Off"))+"")&&R(Hs,Is),(!kt||Ze[0]&1048576)&&Ts!==(Ts=me[20].t("Reset Upload Directory")+"")&&R($s,Ts),(!kt||Ze[0]&1048576)&&Ds!==(Ds=me[20].t("Reset Vector Storage")+"")&&R(js,Ds),(!kt||Ze[0]&1048576)&&As!==(As=me[20].t("Save")+"")&&R(Zs,As)},i(me){kt||(le(e.$$.fragment,me),le(a.$$.fragment,me),le(zt),le(ht.$$.fragment,me),le(Be.$$.fragment,me),kt=!0)},o(me){ne(e.$$.fragment,me),ne(a.$$.fragment,me),ne(zt),ne(ht.$$.fragment,me),ne(Be.$$.fragment,me),kt=!1},d(me){me&&(u(l),u(i),u(f)),st(e,me),st(a,me),il&&il.d(),zt&&zt.d(),Dl.d(),Al.d(),ll&&ll.d(),sl&&sl.d(),st(ht),st(Be),al&&al.d(),rl&&rl.d(),Ta=!1,Kt(Na)}}}const hi=s=>s.id&&s.ollama&&!((s==null?void 0:s.preset)??!1);function Pc(s,e,t){let l,a;Ft(s,nl,ae=>t(21,a=ae));const o=Ms(),i=El("i18n");Ft(s,i,ae=>t(20,l=ae));let f=!1,c=!1,v=!1,b=!1,p=!1,m="",g="",y="",k=null,w=null,E="default",I="",T=!1,V=0,S=0,H=!0,M="",W="",X=1,z={template:"",r:0,k:4,hybrid:!1};const Y=async()=>{t(0,f=!0);const ae=await bo(localStorage.token);t(0,f=!1),ae&&(await Si.set(await go(localStorage.token)),Ae.success(l.t("Scan complete!")))},O=async()=>{if(m===""&&g.split("/").length-1>1){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="ollama"&&g===""){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&g===""){Ae.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(m==="openai"&&M===""||W===""){Ae.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(1,c=!0);const ae=await To(localStorage.token,{embedding_engine:m,embedding_model:g,...m==="openai"?{openai_config:{key:M,url:W,batch_size:X}}:{}}).catch(async ke=>(Ae.error(ke),await P(),null));t(1,c=!1),ae&&(console.log("embeddingModelUpdateHandler:",ae),ae.status===!0&&Ae.success(l.t('Embedding model set to "{{embedding_model}}"',ae),{duration:1e3*10}))},B=async()=>{console.log("Update reranking model attempt:",y),t(2,v=!0);const ae=await Eo(localStorage.token,{reranking_model:y}).catch(async ke=>(Ae.error(ke),await C(),null));t(2,v=!1),ae&&(console.log("rerankingModelUpdateHandler:",ae),ae.status===!0&&(y===""?Ae.success(l.t("Reranking model disabled",ae),{duration:1e3*10}):Ae.success(l.t('Reranking model set to "{{reranking_model}}"',ae),{duration:1e3*10})))},G=async()=>{if(await O(),z.hybrid&&await B(),E==="tika"&&I===""){Ae.error(l.t("Tika Server URL required."));return}await wi(localStorage.token,{pdf_extract_images:H,file:{max_size:k===""?null:k,max_count:w===""?null:w},chunk:{chunk_overlap:S,chunk_size:V},content_extraction:{engine:E,tika_server_url:I}}),await Mr(localStorage.token,z),o("save")},P=async()=>{const ae=await ko(localStorage.token);ae&&(t(5,m=ae.embedding_engine),t(6,g=ae.embedding_model),t(16,M=ae.openai_config.key),t(17,W=ae.openai_config.url),t(18,X=ae.openai_config.batch_size??1))},C=async()=>{const ae=await wo(localStorage.token);ae&&t(7,y=ae.reranking_model)},K=async()=>{t(19,z.hybrid=!z.hybrid,z),t(19,z=await Mr(localStorage.token,z))};kl(async()=>{await P(),await C(),t(19,z=await mo(localStorage.token));const ae=await ki(localStorage.token);ae&&(t(15,H=ae.pdf_extract_images),t(13,V=ae.chunk.chunk_size),t(14,S=ae.chunk.chunk_overlap),t(10,E=ae.content_extraction.engine),t(11,I=ae.content_extraction.tika_server_url),t(12,T=E==="tika"),t(8,k=(ae==null?void 0:ae.file.max_size)??""),t(9,w=(ae==null?void 0:ae.file.max_count)??""))});function J(ae){p=ae,t(4,p)}const x=async()=>{await yo(localStorage.token).catch(ke=>(Ae.error(ke),null))&&Ae.success(l.t("Success"))};function Z(ae){b=ae,t(3,b)}const $=()=>{Io(localStorage.token).catch(ke=>(Ae.error(ke),null))&&Ae.success(l.t("Success"))},q=()=>{Y(),console.log("check")};function F(){m=qt(this),t(5,m)}const re=ae=>{ae.target.value==="ollama"?t(6,g=""):ae.target.value==="openai"?t(6,g="text-embedding-3-small"):ae.target.value===""&&t(6,g="sentence-transformers/all-MiniLM-L6-v2")};function ie(){W=this.value,t(17,W)}function fe(ae){M=ae,t(16,M)}function he(){X=xt(this.value),t(18,X)}function Se(){X=xt(this.value),t(18,X)}const Pe=()=>{K()};function Te(){g=qt(this),t(6,g)}function Ie(){g=this.value,t(6,g)}const Re=()=>{O()};function be(){y=this.value,t(7,y)}const Me=()=>{B()};function ue(){E=qt(this),t(10,E)}const ye=ae=>{t(12,T=ae.target.value==="tika")};function Ge(){I=this.value,t(11,I)}function He(){k=xt(this.value),t(8,k)}function Ne(){w=xt(this.value),t(9,w)}function at(){z.k=xt(this.value),t(19,z)}function Ue(){z.r=xt(this.value),t(19,z)}function $e(){z.template=this.value,t(19,z)}function Xe(){V=xt(this.value),t(13,V)}function _e(){S=xt(this.value),t(14,S)}return[f,c,v,b,p,m,g,y,k,w,E,I,T,V,S,H,M,W,X,z,l,a,i,Y,O,B,G,K,J,x,Z,$,q,F,re,ie,fe,he,Se,Pe,Te,Ie,Re,be,Me,ue,ye,Ge,He,Ne,at,Ue,$e,Xe,_e,()=>{t(15,H=!H)},()=>{t(4,p=!0)},()=>{t(3,b=!0)},()=>{G()}]}class Nc extends _l{constructor(e){super(),vl(this,e,Pc,Oc,hl,{},null,[-1,-1,-1])}}function _i(s,e,t){const l=s.slice();return l[25]=e[t],l}function vi(s){let e,t,l=s[3].t("Web Search")+"",a,o,i,f,c,v=s[3].t("Enable Web Search")+"",b,p,m,g,y,k,w,E=s[3].t("Web Search Engine")+"",I,T,V,S,H,M=s[3].t("Select a engine")+"",W,X,z,Y,O,B,G,P,C,K=s[3].t("Web Loader Settings")+"",J,x,Z,$,q,F=s[3].t("Bypass SSL verification for Websites")+"",re,ie,fe,he,Se,Pe=s[3].t("Youtube Loader Settings")+"",Te,Ie,Re,be,Me,ue=s[3].t("Language")+"",ye,Ge,He,Ne,at,Ue,$e,Xe;function _e(ve){s[7](ve)}let Oe={};s[1].search.enabled!==void 0&&(Oe.state=s[1].search.enabled),m=new Vl({props:Oe}),Lt.push(()=>Ht(m,"state",_e));let ge=ot(s[5]),ce=[];for(let ve=0;ve<ge.length;ve+=1)ce[ve]=pi(_i(s,ge,ve));let Ee=s[1].search.engine!==""&&gi(s),ae=s[1].search.enabled&&mi(s);function ke(ve,de){return ve[1].ssl_verification===!0?Gc:Zc}let ze=ke(s),Ve=ze(s);return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("div"),b=L(v),p=D(),et(m.$$.fragment),y=D(),k=d("div"),w=d("div"),I=L(E),T=D(),V=d("div"),S=d("select"),H=d("option"),W=L(M);for(let ve=0;ve<ce.length;ve+=1)ce[ve].c();z=D(),Ee&&Ee.c(),Y=D(),ae&&ae.c(),O=D(),B=d("hr"),G=D(),P=d("div"),C=d("div"),J=L(K),x=D(),Z=d("div"),$=d("div"),q=d("div"),re=L(F),ie=D(),fe=d("button"),Ve.c(),he=D(),Se=d("div"),Te=L(Pe),Ie=D(),Re=d("div"),be=d("div"),Me=d("div"),ye=L(ue),Ge=D(),He=d("div"),Ne=d("input"),this.h()},l(ve){e=h(ve,"DIV",{});var de=_(e);t=h(de,"DIV",{class:!0});var Ce=_(t);a=U(Ce,l),Ce.forEach(u),o=A(de),i=h(de,"DIV",{});var Fe=_(i);f=h(Fe,"DIV",{class:!0});var qe=_(f);c=h(qe,"DIV",{class:!0});var We=_(c);b=U(We,v),We.forEach(u),p=A(qe),tt(m.$$.fragment,qe),qe.forEach(u),Fe.forEach(u),y=A(de),k=h(de,"DIV",{class:!0});var ut=_(k);w=h(ut,"DIV",{class:!0});var nt=_(w);I=U(nt,E),nt.forEach(u),T=A(ut),V=h(ut,"DIV",{class:!0});var it=_(V);S=h(it,"SELECT",{class:!0,placeholder:!0});var Qe=_(S);H=h(Qe,"OPTION",{});var Ye=_(H);W=U(Ye,M),Ye.forEach(u);for(let Tt=0;Tt<ce.length;Tt+=1)ce[Tt].l(Qe);Qe.forEach(u),it.forEach(u),ut.forEach(u),z=A(de),Ee&&Ee.l(de),Y=A(de),ae&&ae.l(de),de.forEach(u),O=A(ve),B=h(ve,"HR",{class:!0}),G=A(ve),P=h(ve,"DIV",{});var we=_(P);C=h(we,"DIV",{class:!0});var ct=_(C);J=U(ct,K),ct.forEach(u),x=A(we),Z=h(we,"DIV",{});var xe=_(Z);$=h(xe,"DIV",{class:!0});var je=_($);q=h(je,"DIV",{class:!0});var oe=_(q);re=U(oe,F),oe.forEach(u),ie=A(je),fe=h(je,"BUTTON",{class:!0,type:!0});var ee=_(fe);Ve.l(ee),ee.forEach(u),je.forEach(u),xe.forEach(u),he=A(we),Se=h(we,"DIV",{class:!0});var j=_(Se);Te=U(j,Pe),j.forEach(u),Ie=A(we),Re=h(we,"DIV",{});var se=_(Re);be=h(se,"DIV",{class:!0});var pe=_(be);Me=h(pe,"DIV",{class:!0});var Ke=_(Me);ye=U(Ke,ue),Ke.forEach(u),Ge=A(pe),He=h(pe,"DIV",{class:!0});var gt=_(He);Ne=h(gt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),gt.forEach(u),pe.forEach(u),se.forEach(u),we.forEach(u),this.h()},h(){n(t,"class","mb-1 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(f,"class","py-0.5 flex w-full justify-between"),n(w,"class","self-center text-xs font-medium"),H.disabled=!0,H.selected=!0,H.__value="",Q(H,H.__value),n(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(S,"placeholder",X=s[3].t("Select a engine")),S.required=!0,s[1].search.engine===void 0&&Yt(()=>s[8].call(S)),n(V,"class","flex items-center relative"),n(k,"class","py-0.5 flex w-full justify-between"),n(B,"class","dark:border-gray-850 my-2"),n(C,"class","mb-1 text-sm font-medium"),n(q,"class","self-center text-xs font-medium"),n(fe,"class","p-1 px-3 text-xs flex rounded transition"),n(fe,"type","button"),n($,"class","py-0.5 flex w-full justify-between"),n(Se,"class","mt-2 mb-1 text-sm font-medium"),n(Me,"class","w-20 text-xs font-medium self-center"),n(Ne,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(Ne,"type","text"),n(Ne,"placeholder",at=s[3].t("Enter language codes")),n(Ne,"autocomplete","off"),n(He,"class","flex-1 self-center"),n(be,"class","py-0.5 flex w-full justify-between")},m(ve,de){N(ve,e,de),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),r(c,b),r(f,p),lt(m,f,null),r(e,y),r(e,k),r(k,w),r(w,I),r(k,T),r(k,V),r(V,S),r(S,H),r(H,W);for(let Ce=0;Ce<ce.length;Ce+=1)ce[Ce]&&ce[Ce].m(S,null);pt(S,s[1].search.engine,!0),r(e,z),Ee&&Ee.m(e,null),r(e,Y),ae&&ae.m(e,null),N(ve,O,de),N(ve,B,de),N(ve,G,de),N(ve,P,de),r(P,C),r(C,J),r(P,x),r(P,Z),r(Z,$),r($,q),r(q,re),r($,ie),r($,fe),Ve.m(fe,null),r(P,he),r(P,Se),r(Se,Te),r(P,Ie),r(P,Re),r(Re,be),r(be,Me),r(Me,ye),r(be,Ge),r(be,He),r(He,Ne),Q(Ne,s[2]),Ue=!0,$e||(Xe=[te(S,"change",s[8]),te(fe,"click",s[21]),te(Ne,"input",s[22])],$e=!0)},p(ve,de){(!Ue||de&8)&&l!==(l=ve[3].t("Web Search")+"")&&R(a,l),(!Ue||de&8)&&v!==(v=ve[3].t("Enable Web Search")+"")&&R(b,v);const Ce={};if(!g&&de&2&&(g=!0,Ce.state=ve[1].search.enabled,Rt(()=>g=!1)),m.$set(Ce),(!Ue||de&8)&&E!==(E=ve[3].t("Web Search Engine")+"")&&R(I,E),(!Ue||de&8)&&M!==(M=ve[3].t("Select a engine")+"")&&R(W,M),de&32){ge=ot(ve[5]);let Fe;for(Fe=0;Fe<ge.length;Fe+=1){const qe=_i(ve,ge,Fe);ce[Fe]?ce[Fe].p(qe,de):(ce[Fe]=pi(qe),ce[Fe].c(),ce[Fe].m(S,null))}for(;Fe<ce.length;Fe+=1)ce[Fe].d(1);ce.length=ge.length}(!Ue||de&8&&X!==(X=ve[3].t("Select a engine")))&&n(S,"placeholder",X),de&34&&pt(S,ve[1].search.engine),ve[1].search.engine!==""?Ee?(Ee.p(ve,de),de&2&&le(Ee,1)):(Ee=gi(ve),Ee.c(),le(Ee,1),Ee.m(e,Y)):Ee&&(wt(),ne(Ee,1,1,()=>{Ee=null}),yt()),ve[1].search.enabled?ae?ae.p(ve,de):(ae=mi(ve),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null),(!Ue||de&8)&&K!==(K=ve[3].t("Web Loader Settings")+"")&&R(J,K),(!Ue||de&8)&&F!==(F=ve[3].t("Bypass SSL verification for Websites")+"")&&R(re,F),ze===(ze=ke(ve))&&Ve?Ve.p(ve,de):(Ve.d(1),Ve=ze(ve),Ve&&(Ve.c(),Ve.m(fe,null))),(!Ue||de&8)&&Pe!==(Pe=ve[3].t("Youtube Loader Settings")+"")&&R(Te,Pe),(!Ue||de&8)&&ue!==(ue=ve[3].t("Language")+"")&&R(ye,ue),(!Ue||de&8&&at!==(at=ve[3].t("Enter language codes")))&&n(Ne,"placeholder",at),de&4&&Ne.value!==ve[2]&&Q(Ne,ve[2])},i(ve){Ue||(le(m.$$.fragment,ve),le(Ee),Ue=!0)},o(ve){ne(m.$$.fragment,ve),ne(Ee),Ue=!1},d(ve){ve&&(u(e),u(O),u(B),u(G),u(P)),st(m),Zt(ce,ve),Ee&&Ee.d(),ae&&ae.d(),Ve.d(),$e=!1,Kt(Xe)}}}function pi(s){let e,t=s[25]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=h(a,"OPTION",{});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){e.__value=s[25],Q(e,e.__value)},m(a,o){N(a,e,o),r(e,l)},p:_t,d(a){a&&u(e)}}}function gi(s){let e,t,l,a;const o=[jc,$c,Bc,Hc,Rc,Cc,Uc,Lc],i=[];function f(c,v){return c[1].search.engine==="searxng"?0:c[1].search.engine==="google_pse"?1:c[1].search.engine==="brave"?2:c[1].search.engine==="serpstack"?3:c[1].search.engine==="serper"?4:c[1].search.engine==="serply"?5:c[1].search.engine==="searchapi"?6:c[1].search.engine==="tavily"?7:-1}return~(t=f(s))&&(l=i[t]=o[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(c){e=h(c,"DIV",{class:!0});var v=_(e);l&&l.l(v),v.forEach(u),this.h()},h(){n(e,"class","mt-1.5")},m(c,v){N(c,e,v),~t&&i[t].m(e,null),a=!0},p(c,v){let b=t;t=f(c),t===b?~t&&i[t].p(c,v):(l&&(wt(),ne(i[b],1,1,()=>{i[b]=null}),yt()),~t?(l=i[t],l?l.p(c,v):(l=i[t]=o[t](c),l.c()),le(l,1),l.m(e,null)):l=null)},i(c){a||(le(l),a=!0)},o(c){ne(l),a=!1},d(c){c&&u(e),~t&&i[t].d()}}}function Lc(s){let e,t,l=s[3].t("Tavily API Key")+"",a,o,i,f,c;function v(p){s[18](p)}let b={placeholder:s[3].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),i=new pl({props:b}),Lt.push(()=>Ht(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),tt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){N(p,e,m),r(e,t),r(t,a),r(e,o),lt(i,e,null),c=!0},p(p,m){(!c||m&8)&&l!==(l=p[3].t("Tavily API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Tavily API Key")),!f&&m&2&&(f=!0,g.value=p[1].search.tavily_api_key,Rt(()=>f=!1)),i.$set(g)},i(p){c||(le(i.$$.fragment,p),c=!0)},o(p){ne(i.$$.fragment,p),c=!1},d(p){p&&u(e),st(i)}}}function Uc(s){let e,t,l=s[3].t("SearchApi API Key")+"",a,o,i,f,c,v,b,p=s[3].t("SearchApi Engine")+"",m,g,y,k,w,E,I,T,V;function S(M){s[16](M)}let H={placeholder:s[3].t("Enter SearchApi API Key")};return s[1].search.searchapi_api_key!==void 0&&(H.value=s[1].search.searchapi_api_key),i=new pl({props:H}),Lt.push(()=>Ht(i,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),c=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var W=_(e);t=h(W,"DIV",{class:!0});var X=_(t);a=U(X,l),X.forEach(u),o=A(W),tt(i.$$.fragment,W),W.forEach(u),c=A(M),v=h(M,"DIV",{class:!0});var z=_(v);b=h(z,"DIV",{class:!0});var Y=_(b);m=U(Y,p),Y.forEach(u),g=A(z),y=h(z,"DIV",{class:!0});var O=_(y);k=h(O,"DIV",{class:!0});var B=_(k);w=h(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(u),O.forEach(u),z.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(b,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=s[3].t("Enter SearchApi Engine")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(y,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,W){N(M,e,W),r(e,t),r(t,a),r(e,o),lt(i,e,null),N(M,c,W),N(M,v,W),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),Q(w,s[1].search.searchapi_engine),I=!0,T||(V=te(w,"input",s[17]),T=!0)},p(M,W){(!I||W&8)&&l!==(l=M[3].t("SearchApi API Key")+"")&&R(a,l);const X={};W&8&&(X.placeholder=M[3].t("Enter SearchApi API Key")),!f&&W&2&&(f=!0,X.value=M[1].search.searchapi_api_key,Rt(()=>f=!1)),i.$set(X),(!I||W&8)&&p!==(p=M[3].t("SearchApi Engine")+"")&&R(m,p),(!I||W&8&&E!==(E=M[3].t("Enter SearchApi Engine")))&&n(w,"placeholder",E),W&34&&w.value!==M[1].search.searchapi_engine&&Q(w,M[1].search.searchapi_engine)},i(M){I||(le(i.$$.fragment,M),I=!0)},o(M){ne(i.$$.fragment,M),I=!1},d(M){M&&(u(e),u(c),u(v)),st(i),T=!1,V()}}}function Cc(s){let e,t,l=s[3].t("Serply API Key")+"",a,o,i,f,c;function v(p){s[15](p)}let b={placeholder:s[3].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),i=new pl({props:b}),Lt.push(()=>Ht(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),tt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){N(p,e,m),r(e,t),r(t,a),r(e,o),lt(i,e,null),c=!0},p(p,m){(!c||m&8)&&l!==(l=p[3].t("Serply API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serply API Key")),!f&&m&2&&(f=!0,g.value=p[1].search.serply_api_key,Rt(()=>f=!1)),i.$set(g)},i(p){c||(le(i.$$.fragment,p),c=!0)},o(p){ne(i.$$.fragment,p),c=!1},d(p){p&&u(e),st(i)}}}function Rc(s){let e,t,l=s[3].t("Serper API Key")+"",a,o,i,f,c;function v(p){s[14](p)}let b={placeholder:s[3].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),i=new pl({props:b}),Lt.push(()=>Ht(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),tt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){N(p,e,m),r(e,t),r(t,a),r(e,o),lt(i,e,null),c=!0},p(p,m){(!c||m&8)&&l!==(l=p[3].t("Serper API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serper API Key")),!f&&m&2&&(f=!0,g.value=p[1].search.serper_api_key,Rt(()=>f=!1)),i.$set(g)},i(p){c||(le(i.$$.fragment,p),c=!0)},o(p){ne(i.$$.fragment,p),c=!1},d(p){p&&u(e),st(i)}}}function Hc(s){let e,t,l=s[3].t("Serpstack API Key")+"",a,o,i,f,c;function v(p){s[13](p)}let b={placeholder:s[3].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),i=new pl({props:b}),Lt.push(()=>Ht(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),tt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){N(p,e,m),r(e,t),r(t,a),r(e,o),lt(i,e,null),c=!0},p(p,m){(!c||m&8)&&l!==(l=p[3].t("Serpstack API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Serpstack API Key")),!f&&m&2&&(f=!0,g.value=p[1].search.serpstack_api_key,Rt(()=>f=!1)),i.$set(g)},i(p){c||(le(i.$$.fragment,p),c=!0)},o(p){ne(i.$$.fragment,p),c=!1},d(p){p&&u(e),st(i)}}}function Bc(s){let e,t,l=s[3].t("Brave Search API Key")+"",a,o,i,f,c;function v(p){s[12](p)}let b={placeholder:s[3].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),i=new pl({props:b}),Lt.push(()=>Ht(i,"value",v)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{});var m=_(e);t=h(m,"DIV",{class:!0});var g=_(t);a=U(g,l),g.forEach(u),o=A(m),tt(i.$$.fragment,m),m.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1")},m(p,m){N(p,e,m),r(e,t),r(t,a),r(e,o),lt(i,e,null),c=!0},p(p,m){(!c||m&8)&&l!==(l=p[3].t("Brave Search API Key")+"")&&R(a,l);const g={};m&8&&(g.placeholder=p[3].t("Enter Brave Search API Key")),!f&&m&2&&(f=!0,g.value=p[1].search.brave_search_api_key,Rt(()=>f=!1)),i.$set(g)},i(p){c||(le(i.$$.fragment,p),c=!0)},o(p){ne(i.$$.fragment,p),c=!1},d(p){p&&u(e),st(i)}}}function $c(s){let e,t,l=s[3].t("Google PSE API Key")+"",a,o,i,f,c,v,b,p=s[3].t("Google PSE Engine Id")+"",m,g,y,k,w,E,I,T,V;function S(M){s[10](M)}let H={placeholder:s[3].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(H.value=s[1].search.google_pse_api_key),i=new pl({props:H}),Lt.push(()=>Ht(i,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),o=D(),et(i.$$.fragment),c=D(),v=d("div"),b=d("div"),m=L(p),g=D(),y=d("div"),k=d("div"),w=d("input"),this.h()},l(M){e=h(M,"DIV",{});var W=_(e);t=h(W,"DIV",{class:!0});var X=_(t);a=U(X,l),X.forEach(u),o=A(W),tt(i.$$.fragment,W),W.forEach(u),c=A(M),v=h(M,"DIV",{class:!0});var z=_(v);b=h(z,"DIV",{class:!0});var Y=_(b);m=U(Y,p),Y.forEach(u),g=A(z),y=h(z,"DIV",{class:!0});var O=_(y);k=h(O,"DIV",{class:!0});var B=_(k);w=h(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(u),O.forEach(u),z.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(b,"class","self-center text-xs font-medium mb-1"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"type","text"),n(w,"placeholder",E=s[3].t("Enter Google PSE Engine Id")),n(w,"autocomplete","off"),n(k,"class","flex-1"),n(y,"class","flex w-full"),n(v,"class","mt-1.5")},m(M,W){N(M,e,W),r(e,t),r(t,a),r(e,o),lt(i,e,null),N(M,c,W),N(M,v,W),r(v,b),r(b,m),r(v,g),r(v,y),r(y,k),r(k,w),Q(w,s[1].search.google_pse_engine_id),I=!0,T||(V=te(w,"input",s[11]),T=!0)},p(M,W){(!I||W&8)&&l!==(l=M[3].t("Google PSE API Key")+"")&&R(a,l);const X={};W&8&&(X.placeholder=M[3].t("Enter Google PSE API Key")),!f&&W&2&&(f=!0,X.value=M[1].search.google_pse_api_key,Rt(()=>f=!1)),i.$set(X),(!I||W&8)&&p!==(p=M[3].t("Google PSE Engine Id")+"")&&R(m,p),(!I||W&8&&E!==(E=M[3].t("Enter Google PSE Engine Id")))&&n(w,"placeholder",E),W&34&&w.value!==M[1].search.google_pse_engine_id&&Q(w,M[1].search.google_pse_engine_id)},i(M){I||(le(i.$$.fragment,M),I=!0)},o(M){ne(i.$$.fragment,M),I=!1},d(M){M&&(u(e),u(c),u(v)),st(i),T=!1,V()}}}function jc(s){let e,t,l=s[3].t("Searxng Query URL")+"",a,o,i,f,c,v,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),o=D(),i=d("div"),f=d("div"),c=d("input"),this.h()},l(m){e=h(m,"DIV",{});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);a=U(y,l),y.forEach(u),o=A(g),i=h(g,"DIV",{class:!0});var k=_(i);f=h(k,"DIV",{class:!0});var w=_(f);c=h(w,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","self-center text-xs font-medium mb-1"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"type","text"),n(c,"placeholder",v=s[3].t("Enter Searxng Query URL")),n(c,"autocomplete","off"),n(f,"class","flex-1"),n(i,"class","flex w-full")},m(m,g){N(m,e,g),r(e,t),r(t,a),r(e,o),r(e,i),r(i,f),r(f,c),Q(c,s[1].search.searxng_query_url),b||(p=te(c,"input",s[9]),b=!0)},p(m,g){g&8&&l!==(l=m[3].t("Searxng Query URL")+"")&&R(a,l),g&8&&v!==(v=m[3].t("Enter Searxng Query URL"))&&n(c,"placeholder",v),g&34&&c.value!==m[1].search.searxng_query_url&&Q(c,m[1].search.searxng_query_url)},i:_t,o:_t,d(m){m&&u(e),b=!1,p()}}}function mi(s){let e,t,l,a=s[3].t("Search Result Count")+"",o,i,f,c,v,b,p,m=s[3].t("Concurrent Requests")+"",g,y,k,w,E,I;return{c(){e=d("div"),t=d("div"),l=d("div"),o=L(a),i=D(),f=d("input"),v=D(),b=d("div"),p=d("div"),g=L(m),y=D(),k=d("input"),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=_(e);t=h(V,"DIV",{class:!0});var S=_(t);l=h(S,"DIV",{class:!0});var H=_(l);o=U(H,a),H.forEach(u),i=A(S),f=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(u),v=A(V),b=h(V,"DIV",{class:!0});var M=_(b);p=h(M,"DIV",{class:!0});var W=_(p);g=U(W,m),W.forEach(u),y=A(M),k=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(u),V.forEach(u),this.h()},h(){n(l,"class","self-center text-xs font-medium mb-1"),n(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(f,"placeholder",c=s[3].t("Search Result Count")),f.required=!0,n(t,"class","w-full"),n(p,"class","self-center text-xs font-medium mb-1"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder",w=s[3].t("Concurrent Requests")),k.required=!0,n(b,"class","w-full"),n(e,"class","mt-2 flex gap-2 mb-1")},m(T,V){N(T,e,V),r(e,t),r(t,l),r(l,o),r(t,i),r(t,f),Q(f,s[1].search.result_count),r(e,v),r(e,b),r(b,p),r(p,g),r(b,y),r(b,k),Q(k,s[1].search.concurrent_requests),E||(I=[te(f,"input",s[19]),te(k,"input",s[20])],E=!0)},p(T,V){V&8&&a!==(a=T[3].t("Search Result Count")+"")&&R(o,a),V&8&&c!==(c=T[3].t("Search Result Count"))&&n(f,"placeholder",c),V&34&&f.value!==T[1].search.result_count&&Q(f,T[1].search.result_count),V&8&&m!==(m=T[3].t("Concurrent Requests")+"")&&R(g,m),V&8&&w!==(w=T[3].t("Concurrent Requests"))&&n(k,"placeholder",w),V&34&&k.value!==T[1].search.concurrent_requests&&Q(k,T[1].search.concurrent_requests)},d(T){T&&u(e),E=!1,Kt(I)}}}function Zc(s){let e,t=s[3].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("Off")+"")&&R(l,t)},d(a){a&&u(e)}}}function Gc(s){let e,t=s[3].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=h(a,"SPAN",{class:!0});var o=_(e);l=U(o,t),o.forEach(u),this.h()},h(){n(e,"class","ml-2 self-center")},m(a,o){N(a,e,o),r(e,l)},p(a,o){o&8&&t!==(t=a[3].t("On")+"")&&R(l,t)},d(a){a&&u(e)}}}function Kc(s){let e,t,l,a,o,i=s[3].t("Save")+"",f,c,v,b,p=s[1]&&vi(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=D(),a=d("div"),o=d("button"),f=L(i),this.h()},l(m){e=h(m,"FORM",{class:!0});var g=_(e);t=h(g,"DIV",{class:!0});var y=_(t);p&&p.l(y),y.forEach(u),l=A(g),a=h(g,"DIV",{class:!0});var k=_(a);o=h(k,"BUTTON",{class:!0,type:!0});var w=_(o);f=U(w,i),w.forEach(u),k.forEach(u),g.forEach(u),this.h()},h(){n(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),n(o,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),n(o,"type","submit"),n(a,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){N(m,e,g),r(e,t),p&&p.m(t,null),r(e,l),r(e,a),r(a,o),r(o,f),c=!0,v||(b=te(e,"submit",Ml(s[23])),v=!0)},p(m,[g]){m[1]?p?(p.p(m,g),g&2&&le(p,1)):(p=vi(m),p.c(),le(p,1),p.m(t,null)):p&&(wt(),ne(p,1,1,()=>{p=null}),yt()),(!c||g&8)&&i!==(i=m[3].t("Save")+"")&&R(f,i)},i(m){c||(le(p),c=!0)},o(m){ne(p),c=!1},d(m){m&&u(e),p&&p.d(),v=!1,b()}}}function Wc(s,e,t){let l;const a=El("i18n");Ft(s,a,O=>t(3,l=O));let{saveHandler:o}=e,i=null,f=["searxng","google_pse","brave","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina"],c="en",v=null;const b=async()=>{await wi(localStorage.token,{web:i,youtube:{language:c.split(",").map(O=>O.trim()),translation:v}})};kl(async()=>{const O=await ki(localStorage.token);O&&(t(1,i=O.web),t(2,c=O.youtube.language.join(",")),v=O.youtube.translation)});function p(O){s.$$.not_equal(i.search.enabled,O)&&(i.search.enabled=O,t(1,i))}function m(){i.search.engine=qt(this),t(1,i),t(5,f)}function g(){i.search.searxng_query_url=this.value,t(1,i),t(5,f)}function y(O){s.$$.not_equal(i.search.google_pse_api_key,O)&&(i.search.google_pse_api_key=O,t(1,i))}function k(){i.search.google_pse_engine_id=this.value,t(1,i),t(5,f)}function w(O){s.$$.not_equal(i.search.brave_search_api_key,O)&&(i.search.brave_search_api_key=O,t(1,i))}function E(O){s.$$.not_equal(i.search.serpstack_api_key,O)&&(i.search.serpstack_api_key=O,t(1,i))}function I(O){s.$$.not_equal(i.search.serper_api_key,O)&&(i.search.serper_api_key=O,t(1,i))}function T(O){s.$$.not_equal(i.search.serply_api_key,O)&&(i.search.serply_api_key=O,t(1,i))}function V(O){s.$$.not_equal(i.search.searchapi_api_key,O)&&(i.search.searchapi_api_key=O,t(1,i))}function S(){i.search.searchapi_engine=this.value,t(1,i),t(5,f)}function H(O){s.$$.not_equal(i.search.tavily_api_key,O)&&(i.search.tavily_api_key=O,t(1,i))}function M(){i.search.result_count=this.value,t(1,i),t(5,f)}function W(){i.search.concurrent_requests=this.value,t(1,i),t(5,f)}const X=()=>{t(1,i.ssl_verification=!i.ssl_verification,i),b()};function z(){c=this.value,t(2,c)}const Y=async()=>{await b(),o()};return s.$$set=O=>{"saveHandler"in O&&t(0,o=O.saveHandler)},[o,i,c,l,a,f,b,p,m,g,y,k,w,E,I,T,V,S,H,M,W,X,z,Y]}class Fc extends _l{constructor(e){super(),vl(this,e,Wc,Kc,hl,{saveHandler:0})}}function zc(s){let e,t;return e=new _u({props:{saveHandler:s[23]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[23]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function qc(s){let e,t;return e=new Vo({props:{saveHandler:s[22]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[22]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function Yc(s){let e,t;return e=new Nu({}),e.$on("save",s[21]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function Jc(s){let e,t;return e=new wu({props:{saveHandler:s[20]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[20]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function Qc(s){let e,t;return e=new Hu({}),e.$on("save",s[19]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function Xc(s){let e,t;return e=new Fc({props:{saveHandler:s[18]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[18]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function xc(s){let e,t;return e=new Nc({}),e.$on("save",s[17]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function ef(s){let e,t;return e=new oc({}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function tf(s){let e,t;return e=new Ec({}),e.$on("save",s[16]),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function lf(s){let e,t;return e=new Zo({props:{saveHandler:s[15]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[15]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function sf(s){let e,t;return e=new Oo({props:{saveHandler:s[14]}}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p(l,a){const o={};a&2&&(o.saveHandler=l[14]),e.$set(o)},i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}function af(s){let e,t,l,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',i,f,c=s[1].t("General")+"",v,b,p,m,g,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',k,w,E=s[1].t("Users")+"",I,T,V,S,H,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',W,X,z=s[1].t("Connections")+"",Y,O,B,G,P,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',K,J,x=s[1].t("Models")+"",Z,$,q,F,re,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',fe,he,Se=s[1].t("Documents")+"",Pe,Te,Ie,Re,be,Me='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',ue,ye,Ge=s[1].t("Web Search")+"",He,Ne,at,Ue,$e,Xe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',_e,Oe,ge=s[1].t("Interface")+"",ce,Ee,ae,ke,ze,Ve='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ve,de,Ce=s[1].t("Audio")+"",Fe,qe,We,ut,nt,it='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',Qe,Ye,we=s[1].t("Images")+"",ct,xe,je,oe,ee,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',se,pe,Ke=s[1].t("Pipelines")+"",gt,Tt,Dt,St,Pt,Bt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Mt,Le,De=s[1].t("Database")+"",It,At,$t,vt,ht,mt,rt,Ut,Ct;const Wt=[sf,lf,tf,ef,xc,Xc,Qc,Jc,Yc,qc,zc],Ot=[];function Nt(Be,Je){return Be[0]==="general"?0:Be[0]==="users"?1:Be[0]==="connections"?2:Be[0]==="models"?3:Be[0]==="documents"?4:Be[0]==="web"?5:Be[0]==="interface"?6:Be[0]==="audio"?7:Be[0]==="images"?8:Be[0]==="db"?9:Be[0]==="pipelines"?10:-1}return~(ht=Nt(s))&&(mt=Ot[ht]=Wt[ht](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=o,i=D(),f=d("div"),v=L(c),p=D(),m=d("button"),g=d("div"),g.innerHTML=y,k=D(),w=d("div"),I=L(E),V=D(),S=d("button"),H=d("div"),H.innerHTML=M,W=D(),X=d("div"),Y=L(z),B=D(),G=d("button"),P=d("div"),P.innerHTML=C,K=D(),J=d("div"),Z=L(x),q=D(),F=d("button"),re=d("div"),re.innerHTML=ie,fe=D(),he=d("div"),Pe=L(Se),Ie=D(),Re=d("button"),be=d("div"),be.innerHTML=Me,ue=D(),ye=d("div"),He=L(Ge),at=D(),Ue=d("button"),$e=d("div"),$e.innerHTML=Xe,_e=D(),Oe=d("div"),ce=L(ge),ae=D(),ke=d("button"),ze=d("div"),ze.innerHTML=Ve,ve=D(),de=d("div"),Fe=L(Ce),We=D(),ut=d("button"),nt=d("div"),nt.innerHTML=it,Qe=D(),Ye=d("div"),ct=L(we),je=D(),oe=d("button"),ee=d("div"),ee.innerHTML=j,se=D(),pe=d("div"),gt=L(Ke),Dt=D(),St=d("button"),Pt=d("div"),Pt.innerHTML=Bt,Mt=D(),Le=d("div"),It=L(De),$t=D(),vt=d("div"),mt&&mt.c(),this.h()},l(Be){e=h(Be,"DIV",{class:!0});var Je=_(e);t=h(Je,"DIV",{id:!0,class:!0});var dt=_(t);l=h(dt,"BUTTON",{class:!0});var Jt=_(l);a=h(Jt,"DIV",{class:!0,"data-svelte-h":!0}),ft(a)!=="svelte-1e9u9pw"&&(a.innerHTML=o),i=A(Jt),f=h(Jt,"DIV",{class:!0});var jt=_(f);v=U(jt,c),jt.forEach(u),Jt.forEach(u),p=A(dt),m=h(dt,"BUTTON",{class:!0});var Qt=_(m);g=h(Qt,"DIV",{class:!0,"data-svelte-h":!0}),ft(g)!=="svelte-28mfsy"&&(g.innerHTML=y),k=A(Qt),w=h(Qt,"DIV",{class:!0});var wl=_(w);I=U(wl,E),wl.forEach(u),Qt.forEach(u),V=A(dt),S=h(dt,"BUTTON",{class:!0});var gl=_(S);H=h(gl,"DIV",{class:!0,"data-svelte-h":!0}),ft(H)!=="svelte-1xixjje"&&(H.innerHTML=M),W=A(gl),X=h(gl,"DIV",{class:!0});var yl=_(X);Y=U(yl,z),yl.forEach(u),gl.forEach(u),B=A(dt),G=h(dt,"BUTTON",{class:!0});var Xt=_(G);P=h(Xt,"DIV",{class:!0,"data-svelte-h":!0}),ft(P)!=="svelte-17kkxfv"&&(P.innerHTML=C),K=A(Xt),J=h(Xt,"DIV",{class:!0});var el=_(J);Z=U(el,x),el.forEach(u),Xt.forEach(u),q=A(dt),F=h(dt,"BUTTON",{class:!0});var ol=_(F);re=h(ol,"DIV",{class:!0,"data-svelte-h":!0}),ft(re)!=="svelte-ofbvgh"&&(re.innerHTML=ie),fe=A(ol),he=h(ol,"DIV",{class:!0});var Il=_(he);Pe=U(Il,Se),Il.forEach(u),ol.forEach(u),Ie=A(dt),Re=h(dt,"BUTTON",{class:!0});var ml=_(Re);be=h(ml,"DIV",{class:!0,"data-svelte-h":!0}),ft(be)!=="svelte-1t9ru36"&&(be.innerHTML=Me),ue=A(ml),ye=h(ml,"DIV",{class:!0});var ts=_(ye);He=U(ts,Ge),ts.forEach(u),ml.forEach(u),at=A(dt),Ue=h(dt,"BUTTON",{class:!0});var Tl=_(Ue);$e=h(Tl,"DIV",{class:!0,"data-svelte-h":!0}),ft($e)!=="svelte-1i52rm6"&&($e.innerHTML=Xe),_e=A(Tl),Oe=h(Tl,"DIV",{class:!0});var tl=_(Oe);ce=U(tl,ge),tl.forEach(u),Tl.forEach(u),ae=A(dt),ke=h(dt,"BUTTON",{class:!0});var Cl=_(ke);ze=h(Cl,"DIV",{class:!0,"data-svelte-h":!0}),ft(ze)!=="svelte-sf0iba"&&(ze.innerHTML=Ve),ve=A(Cl),de=h(Cl,"DIV",{class:!0});var ls=_(de);Fe=U(ls,Ce),ls.forEach(u),Cl.forEach(u),We=A(dt),ut=h(dt,"BUTTON",{class:!0});var Bl=_(ut);nt=h(Bl,"DIV",{class:!0,"data-svelte-h":!0}),ft(nt)!=="svelte-1gc3odz"&&(nt.innerHTML=it),Qe=A(Bl),Ye=h(Bl,"DIV",{class:!0});var ql=_(Ye);ct=U(ql,we),ql.forEach(u),Bl.forEach(u),je=A(dt),oe=h(dt,"BUTTON",{class:!0});var bl=_(oe);ee=h(bl,"DIV",{class:!0,"data-svelte-h":!0}),ft(ee)!=="svelte-1q46caf"&&(ee.innerHTML=j),se=A(bl),pe=h(bl,"DIV",{class:!0});var Rl=_(pe);gt=U(Rl,Ke),Rl.forEach(u),bl.forEach(u),Dt=A(dt),St=h(dt,"BUTTON",{class:!0});var Ol=_(St);Pt=h(Ol,"DIV",{class:!0,"data-svelte-h":!0}),ft(Pt)!=="svelte-35c53k"&&(Pt.innerHTML=Bt),Mt=A(Ol),Le=h(Ol,"DIV",{class:!0});var Yl=_(Le);It=U(Yl,De),Yl.forEach(u),Ol.forEach(u),dt.forEach(u),$t=A(Je),vt=h(Je,"DIV",{class:!0});var ss=_(vt);mt&&mt.l(ss),ss.forEach(u),Je.forEach(u),this.h()},h(){n(a,"class","self-center mr-2"),n(f,"class","self-center"),n(l,"class",b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(g,"class","self-center mr-2"),n(w,"class","self-center"),n(m,"class",T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(H,"class","self-center mr-2"),n(X,"class","self-center"),n(S,"class",O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(P,"class","self-center mr-2"),n(J,"class","self-center"),n(G,"class",$="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(re,"class","self-center mr-2"),n(he,"class","self-center"),n(F,"class",Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(be,"class","self-center mr-2"),n(ye,"class","self-center"),n(Re,"class",Ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n($e,"class","self-center mr-2"),n(Oe,"class","self-center"),n(Ue,"class",Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ze,"class","self-center mr-2"),n(de,"class","self-center"),n(ke,"class",qe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(nt,"class","self-center mr-2"),n(Ye,"class","self-center"),n(ut,"class",xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(ee,"class","self-center mr-2"),n(pe,"class","self-center"),n(oe,"class",Tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(Pt,"class","self-center mr-2"),n(Le,"class","self-center"),n(St,"class",At="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")),n(t,"id","admin-settings-tabs-container"),n(t,"class","tabs flex flex-row overflow-x-auto space-x-1 max-w-full lg:space-x-0 lg:space-y-1 lg:flex-col lg:flex-none lg:w-44 dark:text-gray-200 text-xs text-left scrollbar-none"),n(vt,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll"),n(e,"class","flex flex-col lg:flex-row w-full h-full py-2 lg:space-x-4")},m(Be,Je){N(Be,e,Je),r(e,t),r(t,l),r(l,a),r(l,i),r(l,f),r(f,v),r(t,p),r(t,m),r(m,g),r(m,k),r(m,w),r(w,I),r(t,V),r(t,S),r(S,H),r(S,W),r(S,X),r(X,Y),r(t,B),r(t,G),r(G,P),r(G,K),r(G,J),r(J,Z),r(t,q),r(t,F),r(F,re),r(F,fe),r(F,he),r(he,Pe),r(t,Ie),r(t,Re),r(Re,be),r(Re,ue),r(Re,ye),r(ye,He),r(t,at),r(t,Ue),r(Ue,$e),r(Ue,_e),r(Ue,Oe),r(Oe,ce),r(t,ae),r(t,ke),r(ke,ze),r(ke,ve),r(ke,de),r(de,Fe),r(t,We),r(t,ut),r(ut,nt),r(ut,Qe),r(ut,Ye),r(Ye,ct),r(t,je),r(t,oe),r(oe,ee),r(oe,se),r(oe,pe),r(pe,gt),r(t,Dt),r(t,St),r(St,Pt),r(St,Mt),r(St,Le),r(Le,It),r(e,$t),r(e,vt),~ht&&Ot[ht].m(vt,null),rt=!0,Ut||(Ct=[te(l,"click",s[3]),te(m,"click",s[4]),te(S,"click",s[5]),te(G,"click",s[6]),te(F,"click",s[7]),te(Re,"click",s[8]),te(Ue,"click",s[9]),te(ke,"click",s[10]),te(ut,"click",s[11]),te(oe,"click",s[12]),te(St,"click",s[13])],Ut=!0)},p(Be,[Je]){(!rt||Je&2)&&c!==(c=Be[1].t("General")+"")&&R(v,c),(!rt||Je&1&&b!==(b="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Be[0]==="general"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(l,"class",b),(!rt||Je&2)&&E!==(E=Be[1].t("Users")+"")&&R(I,E),(!rt||Je&1&&T!==(T="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="users"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(m,"class",T),(!rt||Je&2)&&z!==(z=Be[1].t("Connections")+"")&&R(Y,z),(!rt||Je&1&&O!==(O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="connections"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(S,"class",O),(!rt||Je&2)&&x!==(x=Be[1].t("Models")+"")&&R(Z,x),(!rt||Je&1&&$!==($="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="models"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(G,"class",$),(!rt||Je&2)&&Se!==(Se=Be[1].t("Documents")+"")&&R(Pe,Se),(!rt||Je&1&&Te!==(Te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="documents"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(F,"class",Te),(!rt||Je&2)&&Ge!==(Ge=Be[1].t("Web Search")+"")&&R(He,Ge),(!rt||Je&1&&Ne!==(Ne="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="web"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Re,"class",Ne),(!rt||Je&2)&&ge!==(ge=Be[1].t("Interface")+"")&&R(ce,ge),(!rt||Je&1&&Ee!==(Ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="interface"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(Ue,"class",Ee),(!rt||Je&2)&&Ce!==(Ce=Be[1].t("Audio")+"")&&R(Fe,Ce),(!rt||Je&1&&qe!==(qe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="audio"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ke,"class",qe),(!rt||Je&2)&&we!==(we=Be[1].t("Images")+"")&&R(ct,we),(!rt||Je&1&&xe!==(xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="images"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(ut,"class",xe),(!rt||Je&2)&&Ke!==(Ke=Be[1].t("Pipelines")+"")&&R(gt,Ke),(!rt||Je&1&&Tt!==(Tt="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="pipelines"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(oe,"class",Tt),(!rt||Je&2)&&De!==(De=Be[1].t("Database")+"")&&R(It,De),(!rt||Je&1&&At!==(At="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="db"?"bg-gray-100 dark:bg-gray-800":" hover:bg-gray-50 dark:hover:bg-gray-850")))&&n(St,"class",At);let dt=ht;ht=Nt(Be),ht===dt?~ht&&Ot[ht].p(Be,Je):(mt&&(wt(),ne(Ot[dt],1,1,()=>{Ot[dt]=null}),yt()),~ht?(mt=Ot[ht],mt?mt.p(Be,Je):(mt=Ot[ht]=Wt[ht](Be),mt.c()),le(mt,1),mt.m(vt,null)):mt=null)},i(Be){rt||(le(mt),rt=!0)},o(Be){ne(mt),rt=!1},d(Be){Be&&u(e),~ht&&Ot[ht].d(),Ut=!1,Kt(Ct)}}}function rf(s,e,t){let l;const a=El("i18n");Ft(s,a,Y=>t(1,l=Y));let o="general";return kl(()=>{const Y=document.getElementById("admin-settings-tabs-container");Y&&Y.addEventListener("wheel",function(O){O.deltaY!==0&&(Y.scrollLeft+=O.deltaY)})}),[o,l,a,()=>{t(0,o="general")},()=>{t(0,o="users")},()=>{t(0,o="connections")},()=>{t(0,o="models")},()=>{t(0,o="documents")},()=>{t(0,o="web")},()=>{t(0,o="interface")},()=>{t(0,o="audio")},()=>{t(0,o="images")},()=>{t(0,o="pipelines")},()=>{t(0,o="db")},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},async()=>{Ae.success(l.t("Settings saved successfully!")),await Ss(),await Ul.set(await es())},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))},()=>{Ae.success(l.t("Settings saved successfully!"))}]}class nf extends _l{constructor(e){super(),vl(this,e,rf,af,hl,{})}}function of(s){let e,t;return e=new nf({}),{c(){et(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,a){lt(e,l,a),t=!0},p:_t,i(l){t||(le(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){st(e,l)}}}class Of extends _l{constructor(e){super(),vl(this,e,null,of,hl,{})}}export{Of as component};
//# sourceMappingURL=8.CS0GOOfp.js.map
